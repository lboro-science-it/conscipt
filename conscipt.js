(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var Conscipt=require("./js/conscipt");module.exports=Conscipt;if(typeof window!=="undefined"){window.Conscipt=Conscipt}},{"./js/conscipt":3}],2:[function(require,module,exports){var extend=require("extend");module.exports={defaults:{div:{id:"conscipt",style:{height:"100%",width:"100%"}},dom:{body:{style:{background:"#ffffcc",height:"100%",margin:"0"}},documentElement:{style:{height:"100%"}}},neurons:{1:{title:["default_neuron"]}},rootNeuron:"1",scene:{active:{x:50,y:50,lineHeight:5,width:18},child:{depth:1,distance:26,lineHeight:4,width:12},ancestor:{depth:2,distance:14,lineHeight:3,width:12},zii:{depth:1,distance:11,height:4,width:4}},styles:{"default":{"border-color":"#000000","border-width":3,fill:"#ffffcc"}},animations:{add:{interval:100,duration:500},remove:{interval:100,duration:500},anchor:{interval:0,duration:500},move:{interval:0,duration:500}}},merge:function(config){var _defaults=extend(true,{},this.defaults);return extend(true,_defaults,config)}}},{extend:9}],3:[function(require,module,exports){var defaults=require("./config");var dom=require("./dom");var Map=require("./map");var n=require("./neuron");var View=require("./view");var extend=require("extend");module.exports=function(config){function Conscipt(config){this.config=defaults.merge(config);dom.init(this.config.dom);this.div=dom.addChildDiv(this.config.div);this.neurons=this.config.neurons;n.init(this.neurons,this.config.styles);var mapDivId=this.div.id+"-map";this.map=new Map(this,mapDivId,this.div.id,this.config.scene);var viewDivId=this.div.id+"-view";this.view=new View(this,viewDivId,this.div.id);this.activeNeuron={};this.activate(this.neurons[this.config.rootNeuron])}Conscipt.prototype.activate=function(neuron){var map=this.map;var view=this.view;if(this.activeNeuron!==neuron&&!map.rendering){console.log(this);var _defaultSceneConfig=extend(true,{},this.config.scene);var sceneConfig=extend(true,_defaultSceneConfig,neuron.sceneConfig);n.calculateScene(neuron,sceneConfig,function(){var mapRenderView=true;if(view.visible){mapRenderView=false;view.hide(function(){view.clear(function(){if(neuron.resource)view.render(neuron)})})}map.render(neuron,function(){if(neuron.resource&&mapRenderView)view.render(neuron)})});this.activeNeuron=neuron}};return new Conscipt(config)}},{"./config":2,"./dom":4,"./map":5,"./neuron":6,"./view":7,extend:9}],4:[function(require,module,exports){module.exports.init=function(config){var css='.katex { font-family: "arial"; font-size: 1em !important;}';var head=document.head;var style=document.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(document.createTextNode(css))}head.appendChild(style);for(var elem in config){if(typeof document[elem]!=="undefined"){for(var attr in config[elem]){for(var prop in config[elem][attr]){document[elem][attr][prop]=config[elem][attr][prop]}}}else{for(var id in config[elem]){var domElem=document.getElementById(id);if(!domElem){var domElem=document.createElement(elem);domElem.id=id;if(typeof config[elem][id]["parent"]==="undefined")document.body.appendChild(domElem);else{var parentElem=document.getElementById(config[elem][id]["parent"]);parentElem.appendChild(domElem)}}for(var attr in config[elem][id]){for(var prop in config[elem][id][attr]){if(typeof domElem[attr]!=="undefined")domElem[attr][prop]=config[elem][id][attr][prop]}}}}}};module.exports.addChildDiv=function(config){if(typeof config.id!=="undefined"){var domElem=document.getElementById(config.id);if(!domElem){var domElem=document.createElement("DIV");domElem.id=config.id;if(typeof config.parent==="undefined")document.body.appendChild(domElem);else{var parentElem=document.getElementById(config.parent);if(parentElem)parentElem.appendChild(domElem)}}if(typeof config.style!=="undefined")for(var prop in config.style){domElem.style[prop]=config.style[prop]}return domElem}}},{}],5:[function(require,module,exports){var dom=require("./dom");var n=require("./neuron");var async=require("async");var extend=require("extend");var Raphael=require("raphael");var katex=require("katex");module.exports=Map;function Map(parent,mapDivId,containerDivId){var self=this;this.parent=parent;this.activeScene={},this.activeNeuron=null;this.renderingScene={},this.renderingNeuron={};this.rendering=false;this.width=0,this.height=0;this.widthSF=0,this.heightSF=0;this.viewportWidth=0,this.viewportHeight=0;this.offsetX=0,this.offsetY=0;this.viewMode=null;this.fitXSF=1,this.fitYSF=1;this.calculateSize(this.parent.div.id);this.div=dom.addChildDiv({id:mapDivId,parent:containerDivId});window.addEventListener("resize",function(){clearTimeout(self.fireResize);self.fireResize=setTimeout(function(){self.resize()},200)},true);this.canvas=Raphael(this.div,this.viewportWidth,this.viewportHeight)}Map.prototype.aH=function(neuron){return this.activeScene[neuron.id].rect.attrs.height};Map.prototype.aW=function(neuron){return this.activeScene[neuron.id].rect.attrs.width};Map.prototype.aX=function(neuron){return this.activeScene[neuron.id].rect.attrs.x};Map.prototype.aY=function(neuron){return this.activeScene[neuron.id].rect.attrs.y};Map.prototype.aXC=function(neuron){return this.aX(neuron)+this.aW(neuron)/2};Map.prototype.aYC=function(neuron){return this.aY(neuron)+this.aH(neuron)/2};Map.prototype.rW=function(neuron){return this.scaleX(this.renderingScene[neuron.id].width)};Map.prototype.rH=function(neuron){return this.scaleY(this.renderingScene[neuron.id].height)};Map.prototype.rX=function(neuron){return this.scaleX(this.renderingScene[neuron.id].x)-this.rW(neuron)/2+this.offsetX};Map.prototype.rY=function(neuron){return this.scaleY(this.renderingScene[neuron.id].y)-this.rH(neuron)/2+this.offsetY};Map.prototype.rXC=function(neuron){return this.rX(neuron)+this.rW(neuron)/2};Map.prototype.rYC=function(neuron){return this.rY(neuron)+this.rH(neuron)/2};Map.prototype.animateAdd=function(neurons,callback,iteration){var self=this;if(!iteration)var iteration=0;var neuron=self.getNeuron(neurons[iteration]);self.activeScene[neuron.id]=extend(true,{},self.renderingScene[neuron.id]);self.animateAddRect(neuron,function(){self.animateAddTitle(neuron);if(iteration+1==neurons.length&&callback)callback()});self.animateAddConnector(neuron);if(iteration+1<neurons.length){setTimeout(function(){self.animateAdd(neurons,callback,iteration+1)},self.parent.config.animations.add.interval)}};Map.prototype.animateAddConnector=function(neuron,callback){if(n.hasParent(neuron)){var self=this;var parent=neuron.parent;var border=this.parent.config.styles[neuron.style]["border-color"]||"#000";var borderWidth=this.parent.config.styles.default["border-width"]||3;var fromX=this.rXC(parent);var fromY=this.rYC(parent);var toX=this.rXC(neuron);var toY=this.rYC(neuron);this.activeScene[neuron.id].connector=this.canvas.path("M"+fromX+" "+fromY).attr({stroke:border,"stroke-width":borderWidth,pathlength:0}).toBack();this.activeScene[neuron.id].connector.animate({path:"M"+fromX+", "+fromY+"L"+toX+", "+toY},self.parent.config.animations.add.duration,function(){this[0].style["stroke-dasharray"]=this.getTotalLength()+"px";this[0].style["stroke-dashoffset"]="0px"})}if(callback)callback()};Map.prototype.animateAddRect=function(neuron,callback){var self=this;var startingX=this.getOriginX(neuron);var startingY=this.getOriginY(neuron);this.activeScene[neuron.id].rect=this.canvas.rect(startingX,startingY,0,0).attr({fill:self.renderingScene[neuron.id].fill,stroke:self.renderingScene[neuron.id].border,"stroke-width":self.parent.config.styles.default["border-width"],opacity:1}).toBack().animate({x:self.rX(neuron),y:self.rY(neuron),width:self.rW(neuron),height:self.rH(neuron)},self.parent.config.animations.add.duration,"linear",function(){self.raphOnClickActivate(this,neuron);if(callback)callback()})};Map.prototype.animateAddTitle=function(neuron){var self=this;var rectCentreX=this.rXC(neuron);var rectTopY=this.rY(neuron);var lineHeight=this.renderingScene[neuron.id].lineHeight;this.activeScene[neuron.id].title=[];async.eachOf(neuron.title,function(row,index,nextRow){var y=rectTopY+self.scaleY(index*lineHeight+.5+lineHeight/2);var fontSize=self.scaleY(lineHeight)/2;if(typeof row==="string"){var type="string";var textContent=row}else if(typeof row==="object"){var type=Object.keys(row)[0];var textContent="";var customContent=row[type]}var titleObj={text:self.canvas.text(rectCentreX,y,textContent).attr({"font-size":fontSize,opacity:0})};if(type=="latex"){var latexElem=dom.addChildDiv({id:neuron.id+"-title-"+index,style:{cursor:"pointer",fontSize:fontSize+"px",opacity:"0",position:"absolute"}});latexElem.innerHTML=katex.renderToString(customContent);latexElem.addEventListener("click",function(){self.parent.activate(self.getNeuron(neuron.id))});setTimeout(function(){latexElem.style.top=y-latexElem.offsetHeight/2+"px";latexElem.style.left=rectCentreX-latexElem.offsetWidth/2+"px"},100);eve.on("raphael.anim.frame."+titleObj.text.id,onAnimate=function(index){latexElem.style.opacity=this.attrs.opacity});titleObj.div=latexElem}self.activeScene[neuron.id].title.push(titleObj);titleObj.text.animate({opacity:1},self.parent.config.animations.add.duration,"linear",function(){if(type=="string")self.raphOnClickActivate(this,neuron);if(type=="latex")eve.unbind("raphael.anim.frame."+titleObj.text.id,onAnimate)})})};Map.prototype.animateMove=function(animations,offsetX,offsetY,animConfig,callback,iteration){var self=this;if(!iteration)var iteration=0;var neuronAnimation=animations[iteration];var neuron=this.activeScene[neuronAnimation.id];this.activeScene[neuronAnimation.id].role=this.renderingScene[neuronAnimation.id].role;this.animateMoveTitle(neuronAnimation,offsetX,offsetY,animConfig);if(this.activeScene[neuron.parent]){var parentAnimation=getAnimationByNeuronId(animations,neuron.parent);this.animateMoveConnector(neuronAnimation,parentAnimation,offsetX,offsetY,animConfig)}this.animateMoveRect(neuronAnimation,offsetX,offsetY,animConfig,function(){if(iteration+1==animations.length&&callback)callback()});if(iteration+1<animations.length){this.animateMove(animations,offsetX,offsetY,animConfig,callback,iteration+1)}};Map.prototype.animateMoveConnector=function(neuronAnimation,parentAnimation,offsetX,offsetY,animConfig){var self=this;var neuron=this.activeScene[neuronAnimation.id];var hasConnector=neuron.connector;if(hasConnector){var fromX=parentAnimation.x+parentAnimation.width/2+offsetX;var fromY=parentAnimation.y+parentAnimation.height/2+offsetY;var toX=neuronAnimation.x+neuronAnimation.width/2+offsetX;var toY=neuronAnimation.y+neuronAnimation.height/2+offsetY;var path="M"+fromX+", "+fromY+"L"+toX+", "+toY;neuron.connector[0].style["stroke-dasharray"]="9999px";neuron.connector.animate({path:path},self.parent.config.animations[animConfig].duration,function(){this[0].style["stroke-dasharray"]=this.getTotalLength()+"px"})}};Map.prototype.animateMoveRect=function(neuronAnimation,offsetX,offsetY,animConfig,callback){var self=this;var neuron=this.activeScene[neuronAnimation.id];neuron.rect.animate({x:neuronAnimation.x+offsetX,y:neuronAnimation.y+offsetY,width:neuronAnimation.width,height:neuronAnimation.height},self.parent.config.animations[animConfig].duration,"linear",function(){if(callback)callback()})};Map.prototype.animateMoveTitle=function(neuronAnimation,offsetX,offsetY,animConfig){var self=this;var neuron=this.activeScene[neuronAnimation.id];var x,y,fontSize,opacity;x=neuronAnimation.x+offsetX+neuronAnimation.width/2;async.eachOf(neuron.title,function(row,index,nextRow){var hasLatex=typeof row.div!=="undefined";if(hasLatex){eve.on("raphael.anim.frame."+row.text.id,onAnimate=function(i){row.div.style.fontSize=this.attrs["font-size"]+"px";row.div.style.opacity=this.attrs.opacity;row.div.style.left=this.attrs.x-row.div.offsetWidth/2+"px";row.div.style.top=this.attrs.y-row.div.offsetHeight/2+"px"})}if(neuron.role=="zii"){opacity=0;fontSize=0;y=neuronAnimation.y+offsetY+neuronAnimation.height/2}else{var lineHeight=neuronAnimation.height/neuron.title.length-1;y=neuronAnimation.y+index*lineHeight+.5+lineHeight/2+offsetY;fontSize=lineHeight/2;opacity=1}row.text.animate({x:x,y:y,"font-size":fontSize,opacity:opacity},self.parent.config.animations[animConfig].duration,"linear",function(){if(row.div)eve.unbind("raphael.anim.frame."+row.text.id,onAnimate)});nextRow()})};Map.prototype.animateRemove=function(neurons,callback,iteration){var self=this;var iteration=iteration||0;var neuron=self.getNeuron(neurons[iteration]);this.animateRemoveTitle(neuron,function(){self.animateRemoveConnector(neuron);self.animateRemoveRect(neuron,function(){delete self.activeScene[neuron.id];if(iteration==neurons.length-1&&callback)callback()})});if(iteration+1<neurons.length){setTimeout(function(){self.animateRemove(neurons,callback,iteration+1)},self.parent.config.animations.remove.interval)}};Map.prototype.animateRemoveConnector=function(neuron,callback){if(n.containsNeuron(this.activeScene,neuron)&&this.activeScene[neuron.id].connector){var self=this;var connector=this.activeScene[neuron.id].connector;var pathLength=connector.getTotalLength();connector.attr({width:0});eve.on("raphael.anim.frame."+connector.id,onAnimate=function(i){connector[0].style["stroke-dashoffset"]=connector.attrs.width*pathLength+"px"});this.activeScene[neuron.id].connector.animate({width:1},self.parent.config.animations.remove.duration,"linear",function(){eve.unbind("raphael.anim.frame."+connector.id,onAnimate);this.remove()})}if(callback)callback()};Map.prototype.animateRemoveRect=function(neuron,callback){var self=this;var neuronSceneObj=this.activeScene[neuron.id];var x=self.getOriginX(neuron,"active");var y=self.getOriginY(neuron,"active");neuronSceneObj.rect.animate({x:x,y:y,width:0,height:0},self.parent.config.animations.remove.duration,"linear",function(){this.remove();if(callback)callback()})};Map.prototype.animateRemoveTitle=function(neuron,callback){var self=this;var neuronSceneObj=this.activeScene[neuron.id];async.eachOf(neuronSceneObj.title,function(row,index,nextRow){var isLatex=typeof row.div!=="undefined";if(isLatex){eve.on("raphael.anim.frame."+row.text.id,onAnimate=function(i){row.div.opacity=this.attrs.opacity})}row.text.animate({opacity:0},self.parent.config.animations.remove.duration,"linear",function(){if(isLatex){eve.unbind("raphael.anim.frame."+row.text.id,onAnimate);row.div.parentNode.removeChild(row.div)}this.remove();if(index==neuronSceneObj.title.length-1)nextRow()});if(index<neuronSceneObj.title.length-1)nextRow()},function(){if(callback)callback()})};Map.prototype.calculateSize=function(containerDivId){var containerDivId=containerDivId||this.parent.div.id;var containerDiv=document.getElementById(containerDivId);this.viewportWidth=containerDiv.offsetWidth;this.viewportHeight=containerDiv.offsetHeight;if(containerDiv.offsetWidth/16*9>containerDiv.offsetHeight){this.height=containerDiv.offsetHeight;this.width=this.height/9*16}else{this.width=containerDiv.offsetWidth;this.height=this.width/16*9}this.widthSF=this.width/100;this.heightSF=this.height/100;this.offsetX=(this.viewportWidth-this.width)/2;this.offsetY=(this.viewportHeight-this.height)/2;if(this.viewportWidth>this.viewportHeight)this.viewMode="landscape";else this.viewMode="portrait"};Map.prototype.findAncestorsToRemove=function(neuron,activeNeuron,newScene,recursing,callback){var self=this;if(n.containsNeuron(this.activeScene,neuron)){var neuron=this.getNeuron(neuron.id);if(n.hasParent(neuron)){var ancestor=neuron.parent;self.findChildrenToRemove(ancestor,activeNeuron,newScene,true,callback);self.findAncestorsToRemove(ancestor,ancestor,newScene,true,callback)}else{if(!recursing&&!n.containsNeuron(newScene,neuron))callback(neuron)}}};Map.prototype.findChildrenToRemove=function(neuron,activeNeuron,newScene,recursing,callback){var self=this;if(n.containsNeuron(this.activeScene,neuron)){var neuron=this.getNeuron(neuron.id);if(n.hasChildren(neuron)){async.each(neuron.children,function(child,nextChild){if(child.id!=activeNeuron.id)self.findChildrenToRemove(child,activeNeuron,newScene,true,callback);nextChild()},function(){if(!n.containsNeuron(newScene,neuron))callback(neuron)})}else{if(!recursing&&!n.containsNeuron(newScene,neuron))callback(neuron)}}};Map.prototype.getNeuron=function(neuronId){return this.parent.neurons[neuronId]};Map.prototype.getOriginX=function(neuron,scene){var neuron=neuron.parent||neuron;var scene=scene||"rendering";if(scene=="rendering")return this.rXC(neuron);else return this.aXC(neuron)};Map.prototype.getOriginY=function(neuron,scene){var neuron=neuron.parent||neuron;var scene=scene||"rendering";if(scene=="rendering")return this.rYC(neuron);else return this.aYC(neuron)};Map.prototype.raphOnClickActivate=function(raphaelObj,neuron){var self=this;raphaelObj.data("neuronId",neuron.id).click(function(){self.parent.activate(self.getNeuron(this.data("neuronId")))}).hover(function(){this.attr({cursor:"pointer"})},function(){this.attr({cursor:"normal"})})};Map.prototype.render=function(neuron,callback){var self=this;this.renderingNeuron=neuron;this.renderingScene=neuron.scene;this.rendering=true;var animations={remove:[],anchor:[],move:[],add:[]};var anchorGreatestX=this.width,anchorLowestX=0,anchorGreatestY=this.height,anchorLowestY=0;var sceneGreatestX=0,sceneLowestX=this.width,sceneGreatestY=0,sceneLowestY=this.height;async.series([function(next){if(self.activeNeuron!==null){self.findChildrenToRemove(self.activeNeuron,self.activeNeuron,self.renderingScene,false,function(child){animations.remove.push(child.id)})}next()},function(next){if(self.activeNeuron!==null){self.findAncestorsToRemove(self.activeNeuron,self.activeNeuron,self.renderingScene,false,function(ancestor){animations.remove.push(ancestor.id)})}next()},function(next){if(animations.remove.length>0){self.animateRemove(animations.remove,function(){next()})}else next()},function(next){async.each(self.renderingScene,function(neuron,nextNeuron){if(self.rX(neuron)<sceneLowestX)sceneLowestX=self.rX(neuron);if(self.rX(neuron)+self.rW(neuron)>sceneGreatestX)sceneGreatestX=self.rX(neuron)+self.rW(neuron);if(self.rY(neuron)<sceneLowestY)sceneLowestY=self.rY(neuron);if(self.rY(neuron)+self.rH(neuron)>sceneGreatestY)sceneGreatestY=self.rY(neuron)+self.rH(neuron);nextNeuron()},function(){next()})},function(next){if(self.activeNeuron!==null){var anchorOffsetX=self.aXC(neuron)-self.rXC(neuron);var anchorOffsetY=self.aYC(neuron)-self.rYC(neuron);var renderWidth=self.width,renderHeight=self.height,contentWidth=self.width,contentHeight=self.height;var xOrigin=0,yOrigin=0,xOffset=0,yOffset=0;if(self.renderingNeuron.resource){contentWidth=sceneGreatestX-sceneLowestX;contentHeight=sceneGreatestY-sceneLowestY;if(self.viewMode=="landscape"){renderWidth=self.viewportWidth/2;xOrigin=-sceneLowestX;if(contentWidth<renderWidth)xOffset=(renderWidth-contentWidth)/2}else{renderHeight=self.viewportHeight/2;yOrigin=-sceneLowestY;if(contentHeight<renderHeight)yOffset=(renderHeight-contentHeight)/2}}var xSF=1;if(contentWidth>renderWidth){xSF=(renderWidth-self.scaleX(8))/contentWidth;xOffset=self.scaleX(4)}var ySF=1;if(contentHeight>renderHeight){ySF=(renderHeight-self.scaleY(8))/contentHeight;yOffset=self.scaleY(4)}async.each(self.activeScene,function(neuron,nextNeuron){if(n.containsNeuron(self.renderingScene,neuron)){if(self.rX(neuron)+anchorOffsetX<anchorLowestX)anchorLowestX=self.rX(neuron)+anchorOffsetX;if(self.rX(neuron)+self.rW(neuron)+anchorOffsetX>anchorGreatestX)anchorGreatestX=self.rX(neuron)+self.rW(neuron)+anchorOffsetX;if(self.rY(neuron)+anchorOffsetY<anchorLowestY)anchorLowestY=self.rY(neuron)+anchorOffsetY;if(self.rY(neuron)+self.rH(neuron)+anchorOffsetY>anchorGreatestY)anchorGreatestY=self.rY(neuron)+self.rH(neuron)+anchorOffsetY;animations.anchor.push({id:neuron.id,x:self.rX(neuron)+anchorOffsetX,y:self.rY(neuron)+anchorOffsetY,width:self.rW(neuron),height:self.rH(neuron)});animations.move.push({id:neuron.id,x:(xOrigin+xOffset+self.rX(neuron))*xSF,y:(yOrigin+yOffset+self.rY(neuron))*ySF,width:self.rW(neuron)*xSF,height:self.rH(neuron)*xSF});nextNeuron()}else nextNeuron()},function(){next()})}else next()},function(next){if(animations.anchor.length>0){var offsetX=0,offsetY=0;if(anchorLowestX<0)offsetX=-anchorLowestX+self.scaleX(4);if(anchorGreatestX>self.viewportWidth)offsetX=self.viewportWidth-anchorGreatestX-self.scaleX(4);if(anchorLowestY<0)offsetY=-anchorLowestY+self.scaleY(4);if(anchorGreatestY>self.viewportHeight)offsetY=self.viewportHeight-anchorGreatestY-self.scaleY(4);self.animateMove(animations.anchor,offsetX,offsetY,"anchor",function(){next()})}else next()},function(next){if(animations.move.length>0){var offsetX=0,offsetY=0;self.animateMove(animations.move,offsetX,offsetY,"move",function(){next()})}else next()},function(next){async.each(self.renderingScene,function(neuron,nextNeuron){if(!n.containsNeuron(self.activeScene,neuron))animations.add.push(neuron.id);nextNeuron()},function(){next()})},function(next){if(animations.add.length>0){self.animateAdd(animations.add,function(){next()})}else next()}],function(){self.rendering=false;self.activeNeuron=neuron;if(callback)callback()})};Map.prototype.resize=function(){this.calculateSize();this.canvas.setSize(this.viewportWidth,this.viewportHeight);this.render(this.activeNeuron)};Map.prototype.scaleX=function(x){return x*this.widthSF};Map.prototype.scaleY=function(y){return y*this.heightSF};function getAnimationByNeuronId(animations,id){var length=animations.length;for(var i=0;i<length;i++){if(animations[i].id==id)return animations[i]}return false}},{"./dom":4,"./neuron":6,async:8,extend:9,katex:10,raphael:35}],6:[function(require,module,exports){var async=require("async");var neuron={};neuron.addAncestorsToScene=function(scene,neuron,config,callback){var processingNeuron={id:neuron.id};var neurons=this.neurons;var self=this;var depth=config.ancestor.depth||0;var currentAncestorLevel=0;async.whilst(function(){return currentAncestorLevel<depth},function(callback){var currentNeuron=neurons[processingNeuron.id];if(typeof currentNeuron.parent!=="undefined"){var ancestor=neurons[currentNeuron.parent.id];if(currentNeuron.id==neuron.id)var distance=config.child.distance-2;else var distance=config.ancestor.distance;var x=self.angleDistanceX(currentNeuron.parentAngle,distance,scene[currentNeuron.id].x);var y=self.angleDistanceY(currentNeuron.parentAngle,distance,scene[currentNeuron.id].y);self.addToScene(scene,ancestor,x,y,config.ancestor.width,config.ancestor.lineHeight,"ancestor");self.addChildrenToScene(scene,ancestor,config.zii,"zii");processingNeuron.id=ancestor.id}else{currentAncestorLevel=depth}currentAncestorLevel++;callback()},function(){callback()})};neuron.addChildrenToScene=function(scene,parentNeuron,sceneConfig,role){var distance=sceneConfig.distance||10;this.calculateChildAngles(parentNeuron);for(var i=0;i<parentNeuron.children.length;i++){var currentChild=parentNeuron.children[i];var neuronObj=this.neurons[currentChild.id];var x=this.angleDistanceX(parentNeuron.children[i].angle,distance,scene[parentNeuron.id].x);var y=this.angleDistanceY(parentNeuron.children[i].angle,distance,scene[parentNeuron.id].y);if(role=="child")this.addToScene(scene,neuronObj,x,y,sceneConfig.width,sceneConfig.lineHeight,role);else this.addToScene(scene,neuronObj,x,y,sceneConfig.width,sceneConfig.height,role)}};neuron.addToScene=function(scene,neuron,x,y,width,height,role){var width=width||10;if(role!="zii"){var lineHeight=height||4;var padding=1;var height=lineHeight*neuron.title.length+padding}else{var height=height||4}var x=x||50;var y=y||50;if(typeof neuron.style!=="undefined")var style=this.styles[neuron.style];else var style=this.styles["default"];if(typeof neuron.parent!=="undefined")var parentId=neuron.parent.id;else var parentId=null;if(typeof scene[neuron.id]==="undefined")scene[neuron.id]={id:neuron.id,parent:parentId,width:width,height:height,lineHeight:lineHeight,x:x,y:y,fill:style.fill,border:style["border-color"],role:role}};neuron.angleDistanceX=function(angle,distance,x){return Math.cos((angle+270)%360*Math.PI/180)*distance+x};neuron.angleDistanceY=function(angle,distance,y){return Math.sin((angle+270)%360*Math.PI/180)*distance+y};neuron.calculateChildAngles=function(neuron){if(typeof neuron.calculatedChildAngles==="undefined"){neuron.parentAngle=this.getParentAngle(neuron);var spaceInDegrees=this.getAngleBetweenChildren(neuron);for(var i=0;i<neuron.children.length;i++){if(typeof neuron.children[i].angle==="undefined"){if(!neuron.parentAngle)neuron.children[i].angle=spaceInDegrees*i;else neuron.children[i].angle=neuron.parentAngle+90+spaceInDegrees*i;neuron.children[i].angle%=360}}neuron.calculatedChildAngles=true}};neuron.calculateScene=function(neuron,config,callback){if(typeof neuron.scene==="undefined")neuron.scene={};this.addToScene(neuron.scene,neuron,config.active.x,config.active.y,config.active.width,config.active.lineHeight,"active");this.addChildrenToScene(neuron.scene,neuron,config.child,"child");this.addAncestorsToScene(neuron.scene,neuron,config,function(){callback()})};neuron.containsNeuron=function(collection,neuron){return typeof collection[neuron.id]!=="undefined"};neuron.getAngleBetweenChildren=function(neuron){if(typeof neuron.parent!=="undefined")var degrees=180;else var degrees=360;var totalChildren=neuron.children.length||0;var angle;if(totalChildren==1)angle=degrees/2;else if(totalChildren==2)angle=degrees/3;else{if(degrees==360)angle=degrees/totalChildren;else angle=degrees/(totalChildren-1)}return angle};neuron.getParentAngle=function(neuron){var parentAngle=false;if(typeof neuron.parent!=="undefined"){if(typeof neuron.parent.calculatedChildAngles==="undefined")this.calculateChildAngles(neuron.parent);for(var i=0;i<neuron.parent.children.length;i++){if(neuron.parent.children[i].id==neuron.id){var parentAngle=neuron.parent.children[i].angle+180;parentAngle%=360}}}return parentAngle};neuron.hasChildren=function(neuron){return typeof neuron.children!=="undefined"};neuron.hasParent=function(neuron){return typeof neuron.parent!=="undefined"};neuron.init=function(neurons,styles){this.neurons=neurons;this.styles=styles;for(var n in neurons){var currentNeuron=neurons[n];currentNeuron.id=n;if(typeof currentNeuron.children==="undefined")currentNeuron.children=[];if(typeof currentNeuron.parent_id!=="undefined"){neurons[n].parent=neurons[currentNeuron.parent_id];if(typeof currentNeuron.parent.children==="undefined")currentNeuron.parent.children=[];if(typeof currentNeuron.parent.children[n]==="undefined")currentNeuron.parent.children.push({id:n})}}};module.exports=neuron},{async:8}],7:[function(require,module,exports){var dom=require("./dom");var async=require("async");var katex=require("katex");module.exports=View;function View(parent,viewDivId,containerDivId){this.parent=parent;this.div=dom.addChildDiv({id:viewDivId,parent:containerDivId,style:{visibility:"hidden",left:"50%","margin-left":"5em",position:"absolute",top:"0",width:"50%"}});this.visible=false;this.content=[]}View.prototype.clear=function(callback){while(this.div.firstChild){this.div.removeChild(this.div.firstChild)}if(callback)callback()};View.prototype.hide=function(callback){var self=this;var div=this.div;var fadeOutEffect=setInterval(function(){if(!div.style.opacity)div.style.opacity=1;if(div.style.opacity<=0){clearInterval(fadeOutEffect);div.style.visibility="hidden";self.visible=false;if(callback)callback()}else div.style.opacity-=.1},20)};View.prototype.render=function(neuron){var self=this;var content=neuron.resource;var headerDiv=dom.addChildDiv({id:neuron.id+"-resource-title",parent:self.div.id,style:{"font-family":"arial"}});var header=document.createElement("H1");header.innerHTML="Resource";headerDiv.appendChild(header);async.eachOf(content,function(component,index,nextComponent){var div=dom.addChildDiv({id:neuron.id+"-resource-"+index,parent:self.div.id,style:{"font-family":"arial","padding-top":"1em"}});if(typeof component==="string"){div.innerHTML=component}else if(typeof component==="object"){for(var type in component){var content=component[type];if(type=="latex"){div.innerHTML=katex.renderToString(content)}else if(type=="qblock"){var qBlockHeading=dom.addChildDiv({id:div.id+"-qblock-heading",parent:div.id});var qTitle=document.createElement("H3");qTitle.innerHTML=content.qtitle;qBlockHeading.appendChild(qTitle);var qBlock=document.createElement("OL");qBlock.id=div.id+"-qblock-content";div.appendChild(qBlock);for(var i=0;i<content.qs.length;i++){var qRow=document.createElement("LI");qRow.id=qBlock.id+"-q-"+(i+1);qRow.style["padding-top"]="1em";var qPart=document.createElement("DIV");qPart.id=qRow.id+"-text";qPart.style.width="40%";qPart.style.display="inline-block";qPart.style.cursor="pointer";qRow.appendChild(qPart);for(var qType in content.qs[i]){if(qType=="latex"){qPart.innerHTML+=katex.renderToString(content.qs[i][qType])}else{qPart.innerHTML+=content.qs[i][qType]}}var aPart=document.createElement("DIV");aPart.id=qBlock.id+"-a-"+(i+1);aPart.style.display="inline-block";aPart.style.visibility="hidden";qPart.setAttribute("a-part",aPart.id);qRow.appendChild(aPart);for(var aType in content.as[i]){if(aType=="latex"){aPart.innerHTML+=katex.renderToString("="+content.as[i][aType])}else{aPart.innerHTML+=content.as[i][aType]}}qPart.addEventListener("click",function(){console.log("qRow was clicked!");var aPart=document.getElementById(this.getAttribute("a-part"));aPart.style.visibility="";aPart.style.opacity=0;var fadeIn=setInterval(function(){if(aPart.style.opacity==1){clearInterval(fadeIn)}else{aPart.style.opacity=parseFloat(aPart.style.opacity)+.1}},50)});qBlock.appendChild(qRow)}}}}nextComponent()},function(){var viewHeight=self.div.offsetHeight;var viewportHeight=self.parent.div.offsetHeight;self.div.style.top=(viewportHeight-viewHeight)/2+"px";self.show()})};View.prototype.show=function(){var self=this;var div=this.div;self.visible=true;if(!div.style.opacity){div.style.opacity=0}div.style.visibility="";var fadeInEffect=setInterval(function(){if(div.style.opacity>=1){clearInterval(fadeInEffect)}else{div.style.opacity=parseFloat(div.style.opacity)+.1}},50)}},{"./dom":4,async:8,katex:10}],8:[function(require,module,exports){(function(process,global){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.async=global.async||{})})(this,function(exports){"use strict";function slice(arrayLike,start){start=start|0;var newLen=Math.max(arrayLike.length-start,0);var newArr=Array(newLen);for(var idx=0;idx<newLen;idx++){newArr[idx]=arrayLike[start+idx]}return newArr}var initialParams=function(fn){return function(){var args=slice(arguments);var callback=args.pop();fn.call(this,args,callback)}};function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}var hasSetImmediate=typeof setImmediate==="function"&&setImmediate;var hasNextTick=typeof process==="object"&&typeof process.nextTick==="function";function fallback(fn){setTimeout(fn,0)}function wrap(defer){return function(fn){var args=slice(arguments,1);defer(function(){fn.apply(null,args)})}}var _defer;if(hasSetImmediate){_defer=setImmediate}else if(hasNextTick){_defer=process.nextTick}else{_defer=fallback}var setImmediate$1=wrap(_defer);function asyncify(func){return initialParams(function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}if(isObject(result)&&typeof result.then==="function"){result.then(function(value){
invokeCallback(callback,null,value)},function(err){invokeCallback(callback,err.message?err:new Error(err))})}else{callback(null,result)}})}function invokeCallback(callback,error,value){try{callback(error,value)}catch(e){setImmediate$1(rethrow,e)}}function rethrow(error){throw error}var supportsSymbol=typeof Symbol==="function";function isAsync(fn){return supportsSymbol&&fn[Symbol.toStringTag]==="AsyncFunction"}function wrapAsync(asyncFn){return isAsync(asyncFn)?asyncify(asyncFn):asyncFn}function applyEach$1(eachfn){return function(fns){var args=slice(arguments,1);var go=initialParams(function(args,callback){var that=this;return eachfn(fns,function(fn,cb){wrapAsync(fn).apply(that,args.concat(cb))},callback)});if(args.length){return go.apply(this,args)}else{return go}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var Symbol$1=root.Symbol;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag$1=Symbol$1?Symbol$1.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag$1]=tag}else{delete value[symToStringTag$1]}}return result}var objectProto$1=Object.prototype;var nativeObjectToString$1=objectProto$1.toString;function objectToString(value){return nativeObjectToString$1.call(value)}var nullTag="[object Null]";var undefinedTag="[object Undefined]";var symToStringTag=Symbol$1?Symbol$1.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}value=Object(value);return symToStringTag&&symToStringTag in value?getRawTag(value):objectToString(value)}var asyncTag="[object AsyncFunction]";var funcTag="[object Function]";var genTag="[object GeneratorFunction]";var proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}var breakLoop={};function noop(){}function once(fn){return function(){if(fn===null)return;var callFn=fn;fn=null;callFn.apply(this,arguments)}}var iteratorSymbol=typeof Symbol==="function"&&Symbol.iterator;var getIterator=function(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()};function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function isObjectLike(value){return value!=null&&typeof value=="object"}var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}var objectProto$3=Object.prototype;var hasOwnProperty$2=objectProto$3.hasOwnProperty;var propertyIsEnumerable=objectProto$3.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$2.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;function stubFalse(){return false}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;var MAX_SAFE_INTEGER$1=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER$1:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}var argsTag$1="[object Arguments]";var arrayTag="[object Array]";var boolTag="[object Boolean]";var dateTag="[object Date]";var errorTag="[object Error]";var funcTag$1="[object Function]";var mapTag="[object Map]";var numberTag="[object Number]";var objectTag="[object Object]";var regexpTag="[object RegExp]";var setTag="[object Set]";var stringTag="[object String]";var weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]";var dataViewTag="[object DataView]";var float32Tag="[object Float32Array]";var float64Tag="[object Float64Array]";var int8Tag="[object Int8Array]";var int16Tag="[object Int16Array]";var int32Tag="[object Int32Array]";var uint8Tag="[object Uint8Array]";var uint8ClampedTag="[object Uint8ClampedArray]";var uint16Tag="[object Uint16Array]";var uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseUnary(func){return function(value){return func(value)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1;var freeProcess=moduleExports$1&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}();var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;var objectProto$2=Object.prototype;var hasOwnProperty$1=objectProto$2.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty$1.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}var objectProto$5=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto$5;return value===proto}function overArg(func,transform){return function(arg){return func(transform(arg))}}var nativeKeys=overArg(Object.keys,Object);var objectProto$4=Object.prototype;var hasOwnProperty$3=objectProto$4.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty$3.call(object,key)&&key!="constructor"){result.push(key)}}return result}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function createArrayIterator(coll){var i=-1;var len=coll.length;return function next(){return++i<len?{value:coll[i],key:i}:null}}function createES2015Iterator(iterator){var i=-1;return function next(){var item=iterator.next();if(item.done)return null;i++;return{value:item.value,key:i}}}function createObjectIterator(obj){var okeys=keys(obj);var i=-1;var len=okeys.length;return function next(){var key=okeys[++i];return i<len?{value:obj[key],key:key}:null}}function iterator(coll){if(isArrayLike(coll)){return createArrayIterator(coll)}var iterator=getIterator(coll);return iterator?createES2015Iterator(iterator):createObjectIterator(coll)}function onlyOnce(fn){return function(){if(fn===null)throw new Error("Callback was already called.");var callFn=fn;fn=null;callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){callback=once(callback||noop);if(limit<=0||!obj){return callback(null)}var nextElem=iterator(obj);var done=false;var running=0;function iterateeCallback(err,value){running-=1;if(err){done=true;callback(err)}else if(value===breakLoop||done&&running<=0){done=true;return callback(null)}else{replenish()}}function replenish(){while(running<limit&&!done){var elem=nextElem();if(elem===null){done=true;if(running<=0){callback(null)}return}running+=1;iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}}replenish()}}function eachOfLimit(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,wrapAsync(iteratee),callback)}function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}function eachOfArrayLike(coll,iteratee,callback){callback=once(callback||noop);var index=0,completed=0,length=coll.length;if(length===0){callback(null)}function iteratorCallback(err,value){if(err){callback(err)}else if(++completed===length||value===breakLoop){callback(null)}}for(;index<length;index++){iteratee(coll[index],index,onlyOnce(iteratorCallback))}}var eachOfGeneric=doLimit(eachOfLimit,Infinity);var eachOf=function(coll,iteratee,callback){var eachOfImplementation=isArrayLike(coll)?eachOfArrayLike:eachOfGeneric;eachOfImplementation(coll,wrapAsync(iteratee),callback)};function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,wrapAsync(iteratee),callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=callback||noop;arr=arr||[];var results=[];var counter=0;var _iteratee=wrapAsync(iteratee);eachfn(arr,function(value,_,callback){var index=counter++;_iteratee(value,function(err,v){results[index]=v;callback(err)})},function(err){callback(err,results)})}var map=doParallel(_asyncMap);var applyEach=applyEach$1(map);function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,wrapAsync(iteratee),callback)}}var mapLimit=doParallelLimit(_asyncMap);var mapSeries=doLimit(mapLimit,1);var applyEachSeries=applyEach$1(mapSeries);var apply=function(fn){var args=slice(arguments,1);return function(){var callArgs=slice(arguments);return fn.apply(null,args.concat(callArgs))}};function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}var baseFor=createBaseFor();function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIsNaN(value){return value!==value}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}var auto=function(tasks,concurrency,callback){if(typeof concurrency==="function"){callback=concurrency;concurrency=null}callback=once(callback||noop);var keys$$1=keys(tasks);var numTasks=keys$$1.length;if(!numTasks){return callback(null)}if(!concurrency){concurrency=numTasks}var results={};var runningTasks=0;var hasError=false;var listeners=Object.create(null);var readyTasks=[];var readyToCheck=[];var uncheckedDependencies={};baseForOwn(tasks,function(task,key){if(!isArray(task)){enqueueTask(key,[task]);readyToCheck.push(key);return}var dependencies=task.slice(0,task.length-1);var remainingDependencies=dependencies.length;if(remainingDependencies===0){enqueueTask(key,task);readyToCheck.push(key);return}uncheckedDependencies[key]=remainingDependencies;arrayEach(dependencies,function(dependencyName){if(!tasks[dependencyName]){throw new Error("async.auto task `"+key+"` has a non-existent dependency `"+dependencyName+"` in "+dependencies.join(", "))}addListener(dependencyName,function(){remainingDependencies--;if(remainingDependencies===0){enqueueTask(key,task)}})})});checkForDeadlocks();processQueue();function enqueueTask(key,task){readyTasks.push(function(){runTask(key,task)})}function processQueue(){if(readyTasks.length===0&&runningTasks===0){return callback(null,results)}while(readyTasks.length&&runningTasks<concurrency){var run=readyTasks.shift();run()}}function addListener(taskName,fn){var taskListeners=listeners[taskName];if(!taskListeners){taskListeners=listeners[taskName]=[]}taskListeners.push(fn)}function taskComplete(taskName){var taskListeners=listeners[taskName]||[];arrayEach(taskListeners,function(fn){fn()});processQueue()}function runTask(key,task){if(hasError)return;var taskCallback=onlyOnce(function(err,result){runningTasks--;if(arguments.length>2){result=slice(arguments,1)}if(err){var safeResults={};baseForOwn(results,function(val,rkey){safeResults[rkey]=val});safeResults[key]=result;hasError=true;listeners=Object.create(null);callback(err,safeResults)}else{results[key]=result;taskComplete(key)}});runningTasks++;var taskFn=wrapAsync(task[task.length-1]);if(task.length>1){taskFn(results,taskCallback)}else{taskFn(taskCallback)}}function checkForDeadlocks(){var currentTask;var counter=0;while(readyToCheck.length){currentTask=readyToCheck.pop();counter++;arrayEach(getDependents(currentTask),function(dependent){if(--uncheckedDependencies[dependent]===0){readyToCheck.push(dependent)}})}if(counter!==numTasks){throw new Error("async.auto cannot execute tasks due to a recursive dependency")}}function getDependents(taskName){var result=[];baseForOwn(tasks,function(task,key){if(isArray(task)&&baseIndexOf(task,taskName,0)>=0){result.push(key)}});return result}};function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var INFINITY=1/0;var symbolProto=Symbol$1?Symbol$1.prototype:undefined;var symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function asciiToArray(string){return string.split("")}var rsAstralRange="\\ud800-\\udfff";var rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23";var rsComboSymbolsRange="\\u20d0-\\u20f0";var rsVarRange="\\ufe0e\\ufe0f";var rsZWJ="\\u200d";var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]");function hasUnicode(string){return reHasUnicode.test(string)}var rsAstralRange$1="\\ud800-\\udfff";var rsComboMarksRange$1="\\u0300-\\u036f\\ufe20-\\ufe23";var rsComboSymbolsRange$1="\\u20d0-\\u20f0";var rsVarRange$1="\\ufe0e\\ufe0f";var rsAstral="["+rsAstralRange$1+"]";var rsCombo="["+rsComboMarksRange$1+rsComboSymbolsRange$1+"]";var rsFitz="\\ud83c[\\udffb-\\udfff]";var rsModifier="(?:"+rsCombo+"|"+rsFitz+")";var rsNonAstral="[^"+rsAstralRange$1+"]";var rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}";var rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]";var rsZWJ$1="\\u200d";var reOptMod=rsModifier+"?";var rsOptVar="["+rsVarRange$1+"]?";var rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*";var rsSeq=rsOptVar+reOptMod+rsOptJoin;var rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(string){return string.match(reUnicode)||[]}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function toString(value){return value==null?"":baseToString(value)}var reTrim=/^\s+|\s+$/g;function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}var FN_ARGS=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/(=.+)?(\s*)$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function parseParams(func){func=func.toString().replace(STRIP_COMMENTS,"");func=func.match(FN_ARGS)[2].replace(" ","");func=func?func.split(FN_ARG_SPLIT):[];func=func.map(function(arg){return trim(arg.replace(FN_ARG,""))});return func}function autoInject(tasks,callback){var newTasks={};baseForOwn(tasks,function(taskFn,key){var params;var fnIsAsync=isAsync(taskFn);var hasNoDeps=!fnIsAsync&&taskFn.length===1||fnIsAsync&&taskFn.length===0;if(isArray(taskFn)){params=taskFn.slice(0,-1);taskFn=taskFn[taskFn.length-1];newTasks[key]=params.concat(params.length>0?newTask:taskFn)}else if(hasNoDeps){newTasks[key]=taskFn}else{params=parseParams(taskFn);if(taskFn.length===0&&!fnIsAsync&&params.length===0){throw new Error("autoInject task functions require explicit parameters.")}if(!fnIsAsync)params.pop();newTasks[key]=params.concat(newTask)}function newTask(results,taskCb){var newArgs=arrayMap(params,function(name){return results[name]});newArgs.push(taskCb);wrapAsync(taskFn).apply(null,newArgs)}});auto(newTasks,callback)}function DLL(){this.head=this.tail=null;this.length=0}function setInitial(dll,node){dll.length=1;dll.head=dll.tail=node}DLL.prototype.removeLink=function(node){if(node.prev)node.prev.next=node.next;else this.head=node.next;if(node.next)node.next.prev=node.prev;else this.tail=node.prev;node.prev=node.next=null;this.length-=1;return node};DLL.prototype.empty=function(){while(this.head)this.shift();return this};DLL.prototype.insertAfter=function(node,newNode){newNode.prev=node;newNode.next=node.next;if(node.next)node.next.prev=newNode;else this.tail=newNode;node.next=newNode;this.length+=1};DLL.prototype.insertBefore=function(node,newNode){newNode.prev=node.prev;newNode.next=node;if(node.prev)node.prev.next=newNode;else this.head=newNode;node.prev=newNode;this.length+=1};DLL.prototype.unshift=function(node){if(this.head)this.insertBefore(this.head,node);else setInitial(this,node)};DLL.prototype.push=function(node){if(this.tail)this.insertAfter(this.tail,node);else setInitial(this,node)};DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)};DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};DLL.prototype.toArray=function(){var arr=Array(this.length);var curr=this.head;for(var idx=0;idx<this.length;idx++){arr[idx]=curr.data;curr=curr.next}return arr};DLL.prototype.remove=function(testFn){var curr=this.head;while(!!curr){var next=curr.next;if(testFn(curr)){this.removeLink(curr)}curr=next}return this};function queue(worker,concurrency,payload){if(concurrency==null){concurrency=1}else if(concurrency===0){throw new Error("Concurrency must not be zero")}var _worker=wrapAsync(worker);var numRunning=0;var workersList=[];function _insert(data,insertAtFront,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!isArray(data)){data=[data]}if(data.length===0&&q.idle()){return setImmediate$1(function(){q.drain()})}for(var i=0,l=data.length;i<l;i++){var item={data:data[i],callback:callback||noop};if(insertAtFront){q._tasks.unshift(item)}else{q._tasks.push(item)}}setImmediate$1(q.process)}function _next(tasks){return function(err){numRunning-=1;for(var i=0,l=tasks.length;i<l;i++){var task=tasks[i];var index=baseIndexOf(workersList,task,0);if(index>=0){workersList.splice(index)}task.callback.apply(task,arguments);if(err!=null){q.error(err,task.data)}}if(numRunning<=q.concurrency-q.buffer){q.unsaturated()}if(q.idle()){q.drain()}q.process()}}var isProcessing=false;var q={_tasks:new DLL,concurrency:concurrency,payload:payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:false,paused:false,push:function(data,callback){_insert(data,false,callback)},kill:function(){q.drain=noop;q._tasks.empty()},unshift:function(data,callback){_insert(data,true,callback)},remove:function(testFn){q._tasks.remove(testFn)},process:function(){if(isProcessing){return}isProcessing=true;while(!q.paused&&numRunning<q.concurrency&&q._tasks.length){var tasks=[],data=[];var l=q._tasks.length;if(q.payload)l=Math.min(l,q.payload);for(var i=0;i<l;i++){var node=q._tasks.shift();tasks.push(node);data.push(node.data)}numRunning+=1;workersList.push(tasks[0]);if(q._tasks.length===0){q.empty()}if(numRunning===q.concurrency){q.saturated()}var cb=onlyOnce(_next(tasks));_worker(data,cb)}isProcessing=false},length:function(){return q._tasks.length},running:function(){return numRunning},workersList:function(){return workersList},idle:function(){return q._tasks.length+numRunning===0},pause:function(){q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;setImmediate$1(q.process)}};return q}function cargo(worker,payload){return queue(worker,1,payload)}var eachOfSeries=doLimit(eachOfLimit,1);function reduce(coll,memo,iteratee,callback){callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOfSeries(coll,function(x,i,callback){_iteratee(memo,x,function(err,v){memo=v;callback(err)})},function(err){callback(err,memo)})}function seq(){var _functions=arrayMap(arguments,wrapAsync);return function(){var args=slice(arguments);var that=this;var cb=args[args.length-1];if(typeof cb=="function"){args.pop()}else{cb=noop}reduce(_functions,args,function(newargs,fn,cb){fn.apply(that,newargs.concat(function(err){var nextargs=slice(arguments,1);cb(err,nextargs)}))},function(err,results){cb.apply(that,[err].concat(results))})}}var compose=function(){return seq.apply(null,slice(arguments).reverse())};function concat$1(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]);cb(err)})},function(err){callback(err,result)})}var concat=doParallel(concat$1);function doSeries(fn){return function(obj,iteratee,callback){return fn(eachOfSeries,obj,wrapAsync(iteratee),callback)}}var concatSeries=doSeries(concat$1);var constant=function(){var values=slice(arguments);var args=[null].concat(values);return function(){var callback=arguments[arguments.length-1];return callback.apply(this,args)}};function identity(value){return value}function _createTester(check,getResult){return function(eachfn,arr,iteratee,cb){cb=cb||noop;var testPassed=false;var testResult;eachfn(arr,function(value,_,callback){iteratee(value,function(err,result){if(err){callback(err)}else if(check(result)&&!testResult){testPassed=true;testResult=getResult(true,value);callback(null,breakLoop)}else{callback()}})},function(err){if(err){cb(err)}else{cb(null,testPassed?testResult:getResult(false))}})}}function _findGetResult(v,x){return x}var detect=doParallel(_createTester(identity,_findGetResult));var detectLimit=doParallelLimit(_createTester(identity,_findGetResult));var detectSeries=doLimit(detectLimit,1);function consoleFunc(name){return function(fn){var args=slice(arguments,1);args.push(function(err){var args=slice(arguments,1);if(typeof console==="object"){if(err){if(console.error){console.error(err)}}else if(console[name]){arrayEach(args,function(x){console[name](x)})}}});wrapAsync(fn).apply(null,args)}}var dir=consoleFunc("dir");function doDuring(fn,test,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn);var _test=wrapAsync(test);function next(err){if(err)return callback(err);var args=slice(arguments,1);args.push(check);_test.apply(this,args)}function check(err,truth){if(err)return callback(err);if(!truth)return callback(null);_fn(next)}check(null,true)}function doWhilst(iteratee,test,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee);var next=function(err){if(err)return callback(err);var args=slice(arguments,1);if(test.apply(this,args))return _iteratee(next);callback.apply(null,[null].concat(args))};_iteratee(next)}function doUntil(iteratee,test,callback){doWhilst(iteratee,function(){return!test.apply(this,arguments)},callback)}function during(test,fn,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn);var _test=wrapAsync(test);function next(err){if(err)return callback(err);_test(check)}function check(err,truth){if(err)return callback(err);if(!truth)return callback(null);_fn(next)}_test(check)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(coll,iteratee,callback){eachOf(coll,_withoutIndex(wrapAsync(iteratee)),callback)}function eachLimit$1(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,_withoutIndex(wrapAsync(iteratee)),callback)}var eachSeries=doLimit(eachLimit$1,1);function ensureAsync(fn){if(isAsync(fn))return fn;return initialParams(function(args,callback){var sync=true;args.push(function(){var innerArgs=arguments;if(sync){setImmediate$1(function(){callback.apply(null,innerArgs)})}else{callback.apply(null,innerArgs)}});fn.apply(this,args);sync=false})}function notId(v){return!v}var every=doParallel(_createTester(notId,notId));var everyLimit=doParallelLimit(_createTester(notId,notId));var everySeries=doLimit(everyLimit,1);function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function filterArray(eachfn,arr,iteratee,callback){var truthValues=new Array(arr.length);eachfn(arr,function(x,index,callback){iteratee(x,function(err,v){truthValues[index]=!!v;callback(err)})},function(err){if(err)return callback(err);var results=[];for(var i=0;i<arr.length;i++){if(truthValues[i])results.push(arr[i])}callback(null,results)})}function filterGeneric(eachfn,coll,iteratee,callback){var results=[];eachfn(coll,function(x,index,callback){iteratee(x,function(err,v){if(err){callback(err)}else{if(v){results.push({index:index,value:x})}callback()}})},function(err){if(err){callback(err)}else{callback(null,arrayMap(results.sort(function(a,b){return a.index-b.index}),baseProperty("value")))}})}function _filter(eachfn,coll,iteratee,callback){var filter=isArrayLike(coll)?filterArray:filterGeneric;filter(eachfn,coll,wrapAsync(iteratee),callback||noop)}var filter=doParallel(_filter);var filterLimit=doParallelLimit(_filter);var filterSeries=doLimit(filterLimit,1);function forever(fn,errback){var done=onlyOnce(errback||noop);var task=wrapAsync(ensureAsync(fn));function next(err){if(err)return done(err);task(next)}next()}var groupByLimit=function(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,function(val,callback){_iteratee(val,function(err,key){if(err)return callback(err);return callback(null,{key:key,val:val})})},function(err,mapResults){var result={};var hasOwnProperty=Object.prototype.hasOwnProperty;for(var i=0;i<mapResults.length;i++){if(mapResults[i]){var key=mapResults[i].key;var val=mapResults[i].val;if(hasOwnProperty.call(result,key)){result[key].push(val)}else{result[key]=[val]}}}return callback(err,result)})};var groupBy=doLimit(groupByLimit,Infinity);var groupBySeries=doLimit(groupByLimit,1);var log=consoleFunc("log");function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback||noop);var newObj={};var _iteratee=wrapAsync(iteratee);eachOfLimit(obj,limit,function(val,key,next){_iteratee(val,key,function(err,result){if(err)return next(err);newObj[key]=result;next()})},function(err){callback(err,newObj)})}var mapValues=doLimit(mapValuesLimit,Infinity);var mapValuesSeries=doLimit(mapValuesLimit,1);function has(obj,key){return key in obj}function memoize(fn,hasher){var memo=Object.create(null);var queues=Object.create(null);hasher=hasher||identity;var _fn=wrapAsync(fn);var memoized=initialParams(function memoized(args,callback){var key=hasher.apply(null,args);if(has(memo,key)){setImmediate$1(function(){callback.apply(null,memo[key])})}else if(has(queues,key)){queues[key].push(callback)}else{queues[key]=[callback];_fn.apply(null,args.concat(function(){var args=slice(arguments);memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,args)}}))}});memoized.memo=memo;memoized.unmemoized=fn;return memoized}var _defer$1;if(hasNextTick){_defer$1=process.nextTick}else if(hasSetImmediate){_defer$1=setImmediate}else{_defer$1=fallback}var nextTick=wrap(_defer$1);function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){wrapAsync(task)(function(err,result){if(arguments.length>2){result=slice(arguments,1)}results[key]=result;callback(err)})},function(err){callback(err,results)})}function parallelLimit(tasks,callback){_parallel(eachOf,tasks,callback)}function parallelLimit$1(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)}var queue$1=function(worker,concurrency){var _worker=wrapAsync(worker);return queue(function(items,cb){_worker(items[0],cb)},concurrency,1)};var priorityQueue=function(worker,concurrency){var q=queue$1(worker,concurrency);q.push=function(data,priority,callback){if(callback==null)callback=noop;if(typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!isArray(data)){data=[data]}if(data.length===0){return setImmediate$1(function(){q.drain()})}priority=priority||0;var nextNode=q._tasks.head;while(nextNode&&priority>=nextNode.priority){nextNode=nextNode.next}for(var i=0,l=data.length;i<l;i++){var item={data:data[i],priority:priority,callback:callback};if(nextNode){q._tasks.insertBefore(nextNode,item)}else{q._tasks.push(item)}}setImmediate$1(q.process)};delete q.unshift;return q};function race(tasks,callback){callback=once(callback||noop);if(!isArray(tasks))return callback(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return callback();for(var i=0,l=tasks.length;i<l;i++){wrapAsync(tasks[i])(callback)}}function reduceRight(array,memo,iteratee,callback){var reversed=slice(array).reverse();reduce(reversed,memo,iteratee,callback)}function reflect(fn){
var _fn=wrapAsync(fn);return initialParams(function reflectOn(args,reflectCallback){args.push(function callback(error,cbArg){if(error){reflectCallback(null,{error:error})}else{var value;if(arguments.length<=2){value=cbArg}else{value=slice(arguments,1)}reflectCallback(null,{value:value})}});return _fn.apply(this,args)})}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,function(value,cb){iteratee(value,function(err,v){cb(err,!v)})},callback)}var reject=doParallel(reject$1);function reflectAll(tasks){var results;if(isArray(tasks)){results=arrayMap(tasks,reflect)}else{results={};baseForOwn(tasks,function(task,key){results[key]=reflect.call(this,task)})}return results}var rejectLimit=doParallelLimit(reject$1);var rejectSeries=doLimit(rejectLimit,1);function constant$1(value){return function(){return value}}function retry(opts,task,callback){var DEFAULT_TIMES=5;var DEFAULT_INTERVAL=0;var options={times:DEFAULT_TIMES,intervalFunc:constant$1(DEFAULT_INTERVAL)};function parseTimes(acc,t){if(typeof t==="object"){acc.times=+t.times||DEFAULT_TIMES;acc.intervalFunc=typeof t.interval==="function"?t.interval:constant$1(+t.interval||DEFAULT_INTERVAL);acc.errorFilter=t.errorFilter}else if(typeof t==="number"||typeof t==="string"){acc.times=+t||DEFAULT_TIMES}else{throw new Error("Invalid arguments for async.retry")}}if(arguments.length<3&&typeof opts==="function"){callback=task||noop;task=opts}else{parseTimes(options,opts);callback=callback||noop}if(typeof task!=="function"){throw new Error("Invalid arguments for async.retry")}var _task=wrapAsync(task);var attempt=1;function retryAttempt(){_task(function(err){if(err&&attempt++<options.times&&(typeof options.errorFilter!="function"||options.errorFilter(err))){setTimeout(retryAttempt,options.intervalFunc(attempt))}else{callback.apply(null,arguments)}})}retryAttempt()}var retryable=function(opts,task){if(!task){task=opts;opts=null}var _task=wrapAsync(task);return initialParams(function(args,callback){function taskFn(cb){_task.apply(null,args.concat(cb))}if(opts)retry(opts,taskFn,callback);else retry(taskFn,callback)})};function series(tasks,callback){_parallel(eachOfSeries,tasks,callback)}var some=doParallel(_createTester(Boolean,identity));var someLimit=doParallelLimit(_createTester(Boolean,identity));var someSeries=doLimit(someLimit,1);function sortBy(coll,iteratee,callback){var _iteratee=wrapAsync(iteratee);map(coll,function(x,callback){_iteratee(x,function(err,criteria){if(err)return callback(err);callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);callback(null,arrayMap(results.sort(comparator),baseProperty("value")))});function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}}function timeout(asyncFn,milliseconds,info){var originalCallback,timer;var timedOut=false;function injectedCallback(){if(!timedOut){originalCallback.apply(null,arguments);clearTimeout(timer)}}function timeoutCallback(){var name=asyncFn.name||"anonymous";var error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT";if(info){error.info=info}timedOut=true;originalCallback(error)}var fn=wrapAsync(asyncFn);return initialParams(function(args,origCallback){originalCallback=origCallback;timer=setTimeout(timeoutCallback,milliseconds);fn.apply(null,args.concat(injectedCallback))})}var nativeCeil=Math.ceil;var nativeMax=Math.max;function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function timeLimit(count,limit,iteratee,callback){var _iteratee=wrapAsync(iteratee);mapLimit(baseRange(0,count,1),limit,_iteratee,callback)}var times=doLimit(timeLimit,Infinity);var timesSeries=doLimit(timeLimit,1);function transform(coll,accumulator,iteratee,callback){if(arguments.length<=3){callback=iteratee;iteratee=accumulator;accumulator=isArray(coll)?[]:{}}callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOf(coll,function(v,k,cb){_iteratee(accumulator,v,k,cb)},function(err){callback(err,accumulator)})}function tryEach(tasks,callback){var error=null;var result;callback=callback||noop;eachSeries(tasks,function(task,callback){wrapAsync(task)(function(err,res){if(arguments.length>2){result=slice(arguments,1)}else{result=res}error=err;callback(!err)})},function(){callback(error,result)})}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function whilst(test,iteratee,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee);if(!test())return callback(null);var next=function(err){if(err)return callback(err);if(test())return _iteratee(next);var args=slice(arguments,1);callback.apply(null,[null].concat(args))};_iteratee(next)}function until(test,iteratee,callback){whilst(function(){return!test.apply(this,arguments)},iteratee,callback)}var waterfall=function(tasks,callback){callback=once(callback||noop);if(!isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;function nextTask(args){var task=wrapAsync(tasks[taskIndex++]);args.push(onlyOnce(next));task.apply(null,args)}function next(err){if(err||taskIndex===tasks.length){return callback.apply(null,arguments)}nextTask(slice(arguments,1))}nextTask([])};var index={applyEach:applyEach,applyEachSeries:applyEachSeries,apply:apply,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo,compose:compose,concat:concat,concatSeries:concatSeries,constant:constant,detect:detect,detectLimit:detectLimit,detectSeries:detectSeries,dir:dir,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:eachLimit,eachLimit:eachLimit$1,eachOf:eachOf,eachOfLimit:eachOfLimit,eachOfSeries:eachOfSeries,eachSeries:eachSeries,ensureAsync:ensureAsync,every:every,everyLimit:everyLimit,everySeries:everySeries,filter:filter,filterLimit:filterLimit,filterSeries:filterSeries,forever:forever,groupBy:groupBy,groupByLimit:groupByLimit,groupBySeries:groupBySeries,log:log,map:map,mapLimit:mapLimit,mapSeries:mapSeries,mapValues:mapValues,mapValuesLimit:mapValuesLimit,mapValuesSeries:mapValuesSeries,memoize:memoize,nextTick:nextTick,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue:priorityQueue,queue:queue$1,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:reject,rejectLimit:rejectLimit,rejectSeries:rejectSeries,retry:retry,retryable:retryable,seq:seq,series:series,setImmediate:setImmediate$1,some:some,someLimit:someLimit,someSeries:someSeries,sortBy:sortBy,timeout:timeout,times:times,timesLimit:timeLimit,timesSeries:timesSeries,transform:transform,tryEach:tryEach,unmemoize:unmemoize,until:until,waterfall:waterfall,whilst:whilst,all:every,any:some,forEach:eachLimit,forEachSeries:eachSeries,forEachLimit:eachLimit$1,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify};exports["default"]=index;exports.applyEach=applyEach;exports.applyEachSeries=applyEachSeries;exports.apply=apply;exports.asyncify=asyncify;exports.auto=auto;exports.autoInject=autoInject;exports.cargo=cargo;exports.compose=compose;exports.concat=concat;exports.concatSeries=concatSeries;exports.constant=constant;exports.detect=detect;exports.detectLimit=detectLimit;exports.detectSeries=detectSeries;exports.dir=dir;exports.doDuring=doDuring;exports.doUntil=doUntil;exports.doWhilst=doWhilst;exports.during=during;exports.each=eachLimit;exports.eachLimit=eachLimit$1;exports.eachOf=eachOf;exports.eachOfLimit=eachOfLimit;exports.eachOfSeries=eachOfSeries;exports.eachSeries=eachSeries;exports.ensureAsync=ensureAsync;exports.every=every;exports.everyLimit=everyLimit;exports.everySeries=everySeries;exports.filter=filter;exports.filterLimit=filterLimit;exports.filterSeries=filterSeries;exports.forever=forever;exports.groupBy=groupBy;exports.groupByLimit=groupByLimit;exports.groupBySeries=groupBySeries;exports.log=log;exports.map=map;exports.mapLimit=mapLimit;exports.mapSeries=mapSeries;exports.mapValues=mapValues;exports.mapValuesLimit=mapValuesLimit;exports.mapValuesSeries=mapValuesSeries;exports.memoize=memoize;exports.nextTick=nextTick;exports.parallel=parallelLimit;exports.parallelLimit=parallelLimit$1;exports.priorityQueue=priorityQueue;exports.queue=queue$1;exports.race=race;exports.reduce=reduce;exports.reduceRight=reduceRight;exports.reflect=reflect;exports.reflectAll=reflectAll;exports.reject=reject;exports.rejectLimit=rejectLimit;exports.rejectSeries=rejectSeries;exports.retry=retry;exports.retryable=retryable;exports.seq=seq;exports.series=series;exports.setImmediate=setImmediate$1;exports.some=some;exports.someLimit=someLimit;exports.someSeries=someSeries;exports.sortBy=sortBy;exports.timeout=timeout;exports.times=times;exports.timesLimit=timeLimit;exports.timesSeries=timesSeries;exports.transform=transform;exports.tryEach=tryEach;exports.unmemoize=unmemoize;exports.until=until;exports.waterfall=waterfall;exports.whilst=whilst;exports.all=every;exports.allLimit=everyLimit;exports.allSeries=everySeries;exports.any=some;exports.anyLimit=someLimit;exports.anySeries=someSeries;exports.find=detect;exports.findLimit=detectLimit;exports.findSeries=detectSeries;exports.forEach=eachLimit;exports.forEachSeries=eachSeries;exports.forEachLimit=eachLimit$1;exports.forEachOf=eachOf;exports.forEachOfSeries=eachOfSeries;exports.forEachOfLimit=eachOfLimit;exports.inject=reduce;exports.foldl=reduce;exports.foldr=reduceRight;exports.select=filter;exports.selectLimit=filterLimit;exports.selectSeries=filterSeries;exports.wrapSync=asyncify;Object.defineProperty(exports,"__esModule",{value:true})})}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:36}],9:[function(require,module,exports){"use strict";var hasOwn=Object.prototype.hasOwnProperty;var toStr=Object.prototype.toString;var isArray=function isArray(arr){if(typeof Array.isArray==="function"){return Array.isArray(arr)}return toStr.call(arr)==="[object Array]"};var isPlainObject=function isPlainObject(obj){if(!obj||toStr.call(obj)!=="[object Object]"){return false}var hasOwnConstructor=hasOwn.call(obj,"constructor");var hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf){return false}var key;for(key in obj){}return typeof key==="undefined"||hasOwn.call(obj,key)};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}else if(typeof target!=="object"&&typeof target!=="function"||target==null){target={}}for(;i<length;++i){options=arguments[i];if(options!=null){for(name in options){src=target[name];copy=options[name];if(target!==copy){if(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&isArray(src)?src:[]}else{clone=src&&isPlainObject(src)?src:{}}target[name]=extend(deep,clone,copy)}else if(typeof copy!=="undefined"){target[name]=copy}}}}}return target}},{}],10:[function(require,module,exports){var ParseError=require("./src/ParseError");var Settings=require("./src/Settings");var buildTree=require("./src/buildTree");var parseTree=require("./src/parseTree");var utils=require("./src/utils");var render=function(expression,baseNode,options){utils.clearNode(baseNode);var settings=new Settings(options);var tree=parseTree(expression,settings);var node=buildTree(tree,expression,settings).toNode();baseNode.appendChild(node)};if(typeof document!=="undefined"){if(document.compatMode!=="CSS1Compat"){typeof console!=="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your "+"website has a suitable doctype.");render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")}}}var renderToString=function(expression,options){var settings=new Settings(options);var tree=parseTree(expression,settings);return buildTree(tree,expression,settings).toMarkup()};var generateParseTree=function(expression,options){var settings=new Settings(options);return parseTree(expression,settings)};module.exports={render:render,renderToString:renderToString,__parse:generateParseTree,ParseError:ParseError}},{"./src/ParseError":14,"./src/Settings":16,"./src/buildTree":21,"./src/parseTree":30,"./src/utils":33}],11:[function(require,module,exports){var matchAt=require("match-at");var ParseError=require("./ParseError");function Lexer(input){this.input=input;this.pos=0}function Token(text,start,end,lexer){this.text=text;this.start=start;this.end=end;this.lexer=lexer}Token.prototype.range=function(endToken,text){if(endToken.lexer!==this.lexer){return new Token(text)}return new Token(text,this.start,endToken.end,this.lexer)};var tokenRegex=new RegExp("([ \r\n	]+)|"+"([!-\\[\\]-‧‪-퟿豈-￿]"+"|[�-�][�-�]"+"|\\\\(?:[a-zA-Z]+|[^�-�])"+")");Lexer.prototype.lex=function(){var input=this.input;var pos=this.pos;if(pos===input.length){return new Token("EOF",pos,pos,this)}var match=matchAt(tokenRegex,input,pos);if(match===null){throw new ParseError("Unexpected character: '"+input[pos]+"'",new Token(input[pos],pos,pos+1,this))}var text=match[2]||" ";var start=this.pos;this.pos+=match[0].length;var end=this.pos;return new Token(text,start,end,this)};module.exports=Lexer},{"./ParseError":14,"match-at":34}],12:[function(require,module,exports){var Lexer=require("./Lexer");function MacroExpander(input,macros){this.lexer=new Lexer(input);this.macros=macros;this.stack=[];this.discardedWhiteSpace=[]}MacroExpander.prototype.nextToken=function(){for(;;){if(this.stack.length===0){this.stack.push(this.lexer.lex())}var topToken=this.stack.pop();var name=topToken.text;if(!(name.charAt(0)==="\\"&&this.macros.hasOwnProperty(name))){return topToken}var expansion=this.macros[name];if(typeof expansion==="string"){var bodyLexer=new Lexer(expansion);expansion=[];var tok=bodyLexer.lex();while(tok.text!=="EOF"){expansion.push(tok);tok=bodyLexer.lex()}expansion.reverse();this.macros[name]=expansion}this.stack=this.stack.concat(expansion)}};MacroExpander.prototype.get=function(ignoreSpace){this.discardedWhiteSpace=[];var token=this.nextToken();if(ignoreSpace){while(token.text===" "){this.discardedWhiteSpace.push(token);token=this.nextToken()}}return token};MacroExpander.prototype.unget=function(token){this.stack.push(token);while(this.discardedWhiteSpace.length!==0){this.stack.push(this.discardedWhiteSpace.pop())}};module.exports=MacroExpander},{"./Lexer":11}],13:[function(require,module,exports){function Options(data){this.style=data.style;this.color=data.color;this.size=data.size;this.phantom=data.phantom;this.font=data.font;if(data.parentStyle===undefined){this.parentStyle=data.style}else{this.parentStyle=data.parentStyle}if(data.parentSize===undefined){this.parentSize=data.size}else{this.parentSize=data.parentSize}}Options.prototype.extend=function(extension){var data={style:this.style,size:this.size,color:this.color,parentStyle:this.style,parentSize:this.size,phantom:this.phantom,font:this.font};for(var key in extension){if(extension.hasOwnProperty(key)){data[key]=extension[key]}}return new Options(data)};Options.prototype.withStyle=function(style){return this.extend({style:style})};Options.prototype.withSize=function(size){return this.extend({size:size})};Options.prototype.withColor=function(color){return this.extend({color:color})};Options.prototype.withPhantom=function(){return this.extend({phantom:true})};Options.prototype.withFont=function(font){return this.extend({font:font||this.font})};Options.prototype.reset=function(){return this.extend({})};var colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};Options.prototype.getColor=function(){if(this.phantom){return"transparent"}else{return colorMap[this.color]||this.color}};module.exports=Options},{}],14:[function(require,module,exports){function ParseError(message,token){var error="KaTeX parse error: "+message;var start;var end;if(token&&token.lexer&&token.start<=token.end){var input=token.lexer.input;start=token.start;end=token.end;if(start===input.length){error+=" at end of input: "}else{error+=" at position "+(start+1)+": "}var underlined=input.slice(start,end).replace(/[^]/g,"$&̲");var left;if(start>15){left="…"+input.slice(start-15,start)}else{left=input.slice(0,start)}var right;if(end+15<input.length){right=input.slice(end,end+15)+"…"}else{right=input.slice(end)}error+=left+underlined+right}var self=new Error(error);self.name="ParseError";self.__proto__=ParseError.prototype;self.position=start;return self}ParseError.prototype.__proto__=Error.prototype;module.exports=ParseError},{}],15:[function(require,module,exports){var functions=require("./functions");var environments=require("./environments");var MacroExpander=require("./MacroExpander");var symbols=require("./symbols");var utils=require("./utils");var cjkRegex=require("./unicodeRegexes").cjkRegex;var parseData=require("./parseData");var ParseError=require("./ParseError");function Parser(input,settings){this.gullet=new MacroExpander(input,settings.macros);this.settings=settings;this.leftrightDepth=0}var ParseNode=parseData.ParseNode;function ParseFuncOrArgument(result,isFunction,token){this.result=result;this.isFunction=isFunction;this.token=token}Parser.prototype.expect=function(text,consume){if(this.nextToken.text!==text){throw new ParseError("Expected '"+text+"', got '"+this.nextToken.text+"'",this.nextToken)}if(consume!==false){this.consume()}};Parser.prototype.consume=function(){this.nextToken=this.gullet.get(this.mode==="math")};Parser.prototype.switchMode=function(newMode){this.gullet.unget(this.nextToken);this.mode=newMode;this.consume()};Parser.prototype.parse=function(){this.mode="math";this.consume();var parse=this.parseInput();return parse};Parser.prototype.parseInput=function(){var expression=this.parseExpression(false);this.expect("EOF",false);return expression};var endOfExpression=["}","\\end","\\right","&","\\\\","\\cr"];Parser.prototype.parseExpression=function(breakOnInfix,breakOnTokenText){var body=[];while(true){var lex=this.nextToken;if(endOfExpression.indexOf(lex.text)!==-1){break}if(breakOnTokenText&&lex.text===breakOnTokenText){break}if(breakOnInfix&&functions[lex.text]&&functions[lex.text].infix){break}var atom=this.parseAtom();if(!atom){if(!this.settings.throwOnError&&lex.text[0]==="\\"){var errorNode=this.handleUnsupportedCmd();body.push(errorNode);continue}break}body.push(atom)}return this.handleInfixNodes(body)};Parser.prototype.handleInfixNodes=function(body){var overIndex=-1;var funcName;for(var i=0;i<body.length;i++){var node=body[i];if(node.type==="infix"){if(overIndex!==-1){throw new ParseError("only one infix operator per group",node.value.token)}overIndex=i;funcName=node.value.replaceWith}}if(overIndex!==-1){var numerNode;var denomNode;var numerBody=body.slice(0,overIndex);var denomBody=body.slice(overIndex+1);if(numerBody.length===1&&numerBody[0].type==="ordgroup"){numerNode=numerBody[0]}else{numerNode=new ParseNode("ordgroup",numerBody,this.mode)}if(denomBody.length===1&&denomBody[0].type==="ordgroup"){denomNode=denomBody[0]}else{denomNode=new ParseNode("ordgroup",denomBody,this.mode)}var value=this.callFunction(funcName,[numerNode,denomNode],null);return[new ParseNode(value.type,value,this.mode)]}else{return body}};var SUPSUB_GREEDINESS=1;Parser.prototype.handleSupSubscript=function(name){var symbolToken=this.nextToken;var symbol=symbolToken.text;this.consume();var group=this.parseGroup();if(!group){if(!this.settings.throwOnError&&this.nextToken.text[0]==="\\"){return this.handleUnsupportedCmd()}else{throw new ParseError("Expected group after '"+symbol+"'",symbolToken)}}else if(group.isFunction){var funcGreediness=functions[group.result].greediness;if(funcGreediness>SUPSUB_GREEDINESS){return this.parseFunction(group)}else{throw new ParseError("Got function '"+group.result+"' with no arguments "+"as "+name,symbolToken)}}else{return group.result}};Parser.prototype.handleUnsupportedCmd=function(){var text=this.nextToken.text;var textordArray=[];for(var i=0;i<text.length;i++){textordArray.push(new ParseNode("textord",text[i],"text"))}var textNode=new ParseNode("text",{body:textordArray,type:"text"},this.mode);var colorNode=new ParseNode("color",{color:this.settings.errorColor,value:[textNode],type:"color"},this.mode);this.consume();return colorNode};Parser.prototype.parseAtom=function(){var base=this.parseImplicitGroup();if(this.mode==="text"){return base}var superscript;var subscript;while(true){var lex=this.nextToken;if(lex.text==="\\limits"||lex.text==="\\nolimits"){if(!base||base.type!=="op"){throw new ParseError("Limit controls must follow a math operator",lex)}else{var limits=lex.text==="\\limits";base.value.limits=limits;base.value.alwaysHandleSupSub=true}this.consume()}else if(lex.text==="^"){if(superscript){throw new ParseError("Double superscript",lex)}superscript=this.handleSupSubscript("superscript")}else if(lex.text==="_"){if(subscript){throw new ParseError("Double subscript",lex)}subscript=this.handleSupSubscript("subscript")}else if(lex.text==="'"){var prime=new ParseNode("textord","\\prime",this.mode);var primes=[prime];this.consume();while(this.nextToken.text==="'"){primes.push(prime);this.consume()}superscript=new ParseNode("ordgroup",primes,this.mode)}else{break}}if(superscript||subscript){return new ParseNode("supsub",{base:base,sup:superscript,sub:subscript},this.mode)}else{return base}};var sizeFuncs=["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];var styleFuncs=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];Parser.prototype.parseImplicitGroup=function(){var start=this.parseSymbol();if(start==null){return this.parseFunction()}var func=start.result;var body;if(func==="\\left"){var left=this.parseFunction(start);++this.leftrightDepth;body=this.parseExpression(false);--this.leftrightDepth;this.expect("\\right",false);var right=this.parseFunction();return new ParseNode("leftright",{body:body,left:left.value.value,right:right.value.value},this.mode)}else if(func==="\\begin"){var begin=this.parseFunction(start);var envName=begin.value.name;if(!environments.hasOwnProperty(envName)){throw new ParseError("No such environment: "+envName,begin.value.nameGroup)}var env=environments[envName];var args=this.parseArguments("\\begin{"+envName+"}",env);var context={mode:this.mode,envName:envName,parser:this,positions:args.pop()};var result=env.handler(context,args);this.expect("\\end",false);var endNameToken=this.nextToken;var end=this.parseFunction();if(end.value.name!==envName){throw new ParseError("Mismatch: \\begin{"+envName+"} matched "+"by \\end{"+end.value.name+"}",endNameToken)}result.position=end.position;return result}else if(utils.contains(sizeFuncs,func)){body=this.parseExpression(false);return new ParseNode("sizing",{size:"size"+(utils.indexOf(sizeFuncs,func)+1),value:body},this.mode)}else if(utils.contains(styleFuncs,func)){body=this.parseExpression(true);return new ParseNode("styling",{style:func.slice(1,func.length-5),value:body},this.mode)}else{return this.parseFunction(start)}};Parser.prototype.parseFunction=function(baseGroup){if(!baseGroup){baseGroup=this.parseGroup()}if(baseGroup){if(baseGroup.isFunction){var func=baseGroup.result;var funcData=functions[func];if(this.mode==="text"&&!funcData.allowedInText){throw new ParseError("Can't use function '"+func+"' in text mode",baseGroup.token)}var args=this.parseArguments(func,funcData);var token=baseGroup.token;var result=this.callFunction(func,args,args.pop(),token);return new ParseNode(result.type,result,this.mode)}else{return baseGroup.result}}else{return null}};Parser.prototype.callFunction=function(name,args,positions,token){var context={funcName:name,parser:this,positions:positions,token:token};return functions[name].handler(context,args)};Parser.prototype.parseArguments=function(func,funcData){var totalArgs=funcData.numArgs+funcData.numOptionalArgs;if(totalArgs===0){return[[this.pos]]}var baseGreediness=funcData.greediness;var positions=[this.pos];var args=[];for(var i=0;i<totalArgs;i++){var nextToken=this.nextToken;var argType=funcData.argTypes&&funcData.argTypes[i];var arg;if(i<funcData.numOptionalArgs){if(argType){arg=this.parseGroupOfType(argType,true)}else{arg=this.parseGroup(true)}if(!arg){args.push(null);positions.push(this.pos);continue}}else{if(argType){arg=this.parseGroupOfType(argType)}else{arg=this.parseGroup()}if(!arg){if(!this.settings.throwOnError&&this.nextToken.text[0]==="\\"){arg=new ParseFuncOrArgument(this.handleUnsupportedCmd(this.nextToken.text),false)}else{throw new ParseError("Expected group after '"+func+"'",nextToken)}}}var argNode;if(arg.isFunction){var argGreediness=functions[arg.result].greediness;if(argGreediness>baseGreediness){argNode=this.parseFunction(arg)}else{throw new ParseError("Got function '"+arg.result+"' as "+"argument to '"+func+"'",nextToken)}}else{argNode=arg.result}args.push(argNode);positions.push(this.pos)}args.push(positions);return args};Parser.prototype.parseGroupOfType=function(innerMode,optional){var outerMode=this.mode;if(innerMode==="original"){innerMode=outerMode}if(innerMode==="color"){return this.parseColorGroup(optional)}if(innerMode==="size"){return this.parseSizeGroup(optional)}this.switchMode(innerMode);if(innerMode==="text"){while(this.nextToken.text===" "){this.consume()}}var res=this.parseGroup(optional);this.switchMode(outerMode);return res};Parser.prototype.parseStringGroup=function(modeName,optional){if(optional&&this.nextToken.text!=="["){return null}var outerMode=this.mode;this.mode="text";this.expect(optional?"[":"{");var str="";var firstToken=this.nextToken;var lastToken=firstToken;while(this.nextToken.text!==(optional?"]":"}")){if(this.nextToken.text==="EOF"){throw new ParseError("Unexpected end of input in "+modeName,firstToken.range(this.nextToken,str))}lastToken=this.nextToken;str+=lastToken.text;this.consume()}this.mode=outerMode;this.expect(optional?"]":"}");return firstToken.range(lastToken,str)};Parser.prototype.parseRegexGroup=function(regex,modeName){var outerMode=this.mode;this.mode="text";var firstToken=this.nextToken;var lastToken=firstToken;var str="";while(this.nextToken.text!=="EOF"&&regex.test(str+this.nextToken.text)){lastToken=this.nextToken;str+=lastToken.text;this.consume()}if(str===""){throw new ParseError("Invalid "+modeName+": '"+firstToken.text+"'",firstToken)}this.mode=outerMode;return firstToken.range(lastToken,str)};Parser.prototype.parseColorGroup=function(optional){var res=this.parseStringGroup("color",optional);if(!res){return null}var match=/^(#[a-z0-9]+|[a-z]+)$/i.exec(res.text);if(!match){throw new ParseError("Invalid color: '"+res.text+"'",res)}return new ParseFuncOrArgument(new ParseNode("color",match[0],this.mode),false)};Parser.prototype.parseSizeGroup=function(optional){var res;if(!optional&&this.nextToken.text!=="{"){res=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2}$/,"size")}else{res=this.parseStringGroup("size",optional)}if(!res){return null}var match=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(res.text);if(!match){throw new ParseError("Invalid size: '"+res.text+"'",res)}var data={number:+(match[1]+match[2]),unit:match[3]};if(data.unit!=="em"&&data.unit!=="ex"&&data.unit!=="mu"){throw new ParseError("Invalid unit: '"+data.unit+"'",res)}return new ParseFuncOrArgument(new ParseNode("color",data,this.mode),false)};Parser.prototype.parseGroup=function(optional){var firstToken=this.nextToken;if(this.nextToken.text===(optional?"[":"{")){this.consume();var expression=this.parseExpression(false,optional?"]":null);var lastToken=this.nextToken;this.expect(optional?"]":"}");if(this.mode==="text"){this.formLigatures(expression)}return new ParseFuncOrArgument(new ParseNode("ordgroup",expression,this.mode,firstToken,lastToken),false)}else{return optional?null:this.parseSymbol()}};Parser.prototype.formLigatures=function(group){var i;var n=group.length-1;for(i=0;i<n;++i){var a=group[i];var v=a.value;if(v==="-"&&group[i+1].value==="-"){if(i+1<n&&group[i+2].value==="-"){group.splice(i,3,new ParseNode("textord","---","text",a,group[i+2]));n-=2}else{group.splice(i,2,new ParseNode("textord","--","text",a,group[i+1]));n-=1}}if((v==="'"||v==="`")&&group[i+1].value===v){group.splice(i,2,new ParseNode("textord",v+v,"text",a,group[i+1]));n-=1}}};Parser.prototype.parseSymbol=function(){var nucleus=this.nextToken;if(functions[nucleus.text]){this.consume();return new ParseFuncOrArgument(nucleus.text,true,nucleus)}else if(symbols[this.mode][nucleus.text]){this.consume();return new ParseFuncOrArgument(new ParseNode(symbols[this.mode][nucleus.text].group,nucleus.text,this.mode,nucleus),false,nucleus)}else if(this.mode==="text"&&cjkRegex.test(nucleus.text)){this.consume();return new ParseFuncOrArgument(new ParseNode("textord",nucleus.text,this.mode,nucleus),false,nucleus)}else{return null}};Parser.prototype.ParseNode=ParseNode;module.exports=Parser},{"./MacroExpander":12,"./ParseError":14,"./environments":24,"./functions":27,"./parseData":29,"./symbols":31,"./unicodeRegexes":32,"./utils":33}],16:[function(require,module,exports){function get(option,defaultValue){return option===undefined?defaultValue:option}function Settings(options){options=options||{};this.displayMode=get(options.displayMode,false);this.throwOnError=get(options.throwOnError,true);this.errorColor=get(options.errorColor,"#cc0000");this.macros=options.macros||{}}module.exports=Settings},{}],17:[function(require,module,exports){var sigmas=require("./fontMetrics.js").sigmas;var metrics=[{},{},{}];var i;for(var key in sigmas){if(sigmas.hasOwnProperty(key)){for(i=0;i<3;i++){metrics[i][key]=sigmas[key][i]}}}for(i=0;i<3;i++){metrics[i].emPerEx=sigmas.xHeight[i]/sigmas.quad[i]}function Style(id,size,multiplier,cramped){this.id=id;this.size=size;this.cramped=cramped;this.sizeMultiplier=multiplier;this.metrics=metrics[size>0?size-1:0]}Style.prototype.sup=function(){return styles[sup[this.id]]};Style.prototype.sub=function(){return styles[sub[this.id]]};Style.prototype.fracNum=function(){return styles[fracNum[this.id]]};Style.prototype.fracDen=function(){return styles[fracDen[this.id]]};Style.prototype.cramp=function(){return styles[cramp[this.id]]};Style.prototype.cls=function(){return sizeNames[this.size]+(this.cramped?" cramped":" uncramped");

};Style.prototype.reset=function(){return resetNames[this.size]};Style.prototype.isTight=function(){return this.size>=2};var D=0;var Dc=1;var T=2;var Tc=3;var S=4;var Sc=5;var SS=6;var SSc=7;var sizeNames=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"];var resetNames=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"];var styles=[new Style(D,0,1,false),new Style(Dc,0,1,true),new Style(T,1,1,false),new Style(Tc,1,1,true),new Style(S,2,.7,false),new Style(Sc,2,.7,true),new Style(SS,3,.5,false),new Style(SSc,3,.5,true)];var sup=[S,Sc,S,Sc,SS,SSc,SS,SSc];var sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc];var fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc];var fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc];var cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc];module.exports={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]}},{"./fontMetrics.js":25}],18:[function(require,module,exports){var domTree=require("./domTree");var fontMetrics=require("./fontMetrics");var symbols=require("./symbols");var utils=require("./utils");var greekCapitals=["\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"];var mainitLetters=["ı","ȷ","£"];var makeSymbol=function(value,fontFamily,mode,options,classes){if(symbols[mode][value]&&symbols[mode][value].replace){value=symbols[mode][value].replace}var metrics=fontMetrics.getCharacterMetrics(value,fontFamily);var symbolNode;if(metrics){var italic=metrics.italic;if(mode==="text"){italic=0}symbolNode=new domTree.symbolNode(value,metrics.height,metrics.depth,italic,metrics.skew,classes)}else{typeof console!=="undefined"&&console.warn("No character metrics for '"+value+"' in style '"+fontFamily+"'");symbolNode=new domTree.symbolNode(value,0,0,0,0,classes)}if(options){if(options.style.isTight()){symbolNode.classes.push("mtight")}if(options.getColor()){symbolNode.style.color=options.getColor()}}return symbolNode};var mathsym=function(value,mode,options,classes){if(value==="\\"||symbols[mode][value].font==="main"){return makeSymbol(value,"Main-Regular",mode,options,classes)}else{return makeSymbol(value,"AMS-Regular",mode,options,classes.concat(["amsrm"]))}};var mathDefault=function(value,mode,options,classes,type){if(type==="mathord"){return mathit(value,mode,options,classes)}else if(type==="textord"){return makeSymbol(value,"Main-Regular",mode,options,classes.concat(["mathrm"]))}else{throw new Error("unexpected type: "+type+" in mathDefault")}};var mathit=function(value,mode,options,classes){if(/[0-9]/.test(value.charAt(0))||utils.contains(mainitLetters,value)||utils.contains(greekCapitals,value)){return makeSymbol(value,"Main-Italic",mode,options,classes.concat(["mainit"]))}else{return makeSymbol(value,"Math-Italic",mode,options,classes.concat(["mathit"]))}};var makeOrd=function(group,options,type){var mode=group.mode;var value=group.value;if(symbols[mode][value]&&symbols[mode][value].replace){value=symbols[mode][value].replace}var classes=["mord"];var font=options.font;if(font){if(font==="mathit"||utils.contains(mainitLetters,value)){return mathit(value,mode,options,classes)}else{var fontName=fontMap[font].fontName;if(fontMetrics.getCharacterMetrics(value,fontName)){return makeSymbol(value,fontName,mode,options,classes.concat([font]))}else{return mathDefault(value,mode,options,classes,type)}}}else{return mathDefault(value,mode,options,classes,type)}};var sizeElementFromChildren=function(elem){var height=0;var depth=0;var maxFontSize=0;if(elem.children){for(var i=0;i<elem.children.length;i++){if(elem.children[i].height>height){height=elem.children[i].height}if(elem.children[i].depth>depth){depth=elem.children[i].depth}if(elem.children[i].maxFontSize>maxFontSize){maxFontSize=elem.children[i].maxFontSize}}}elem.height=height;elem.depth=depth;elem.maxFontSize=maxFontSize};var makeSpan=function(classes,children,options){var span=new domTree.span(classes,children,options);sizeElementFromChildren(span);return span};var prependChildren=function(span,children){span.children=children.concat(span.children);sizeElementFromChildren(span)};var makeFragment=function(children){var fragment=new domTree.documentFragment(children);sizeElementFromChildren(fragment);return fragment};var makeFontSizer=function(options,fontSize){var fontSizeInner=makeSpan([],[new domTree.symbolNode("​")]);fontSizeInner.style.fontSize=fontSize/options.style.sizeMultiplier+"em";var fontSizer=makeSpan(["fontsize-ensurer","reset-"+options.size,"size5"],[fontSizeInner]);return fontSizer};var makeVList=function(children,positionType,positionData,options){var depth;var currPos;var i;if(positionType==="individualShift"){var oldChildren=children;children=[oldChildren[0]];depth=-oldChildren[0].shift-oldChildren[0].elem.depth;currPos=depth;for(i=1;i<oldChildren.length;i++){var diff=-oldChildren[i].shift-currPos-oldChildren[i].elem.depth;var size=diff-(oldChildren[i-1].elem.height+oldChildren[i-1].elem.depth);currPos=currPos+diff;children.push({type:"kern",size:size});children.push(oldChildren[i])}}else if(positionType==="top"){var bottom=positionData;for(i=0;i<children.length;i++){if(children[i].type==="kern"){bottom-=children[i].size}else{bottom-=children[i].elem.height+children[i].elem.depth}}depth=bottom}else if(positionType==="bottom"){depth=-positionData}else if(positionType==="shift"){depth=-children[0].elem.depth-positionData}else if(positionType==="firstBaseline"){depth=-children[0].elem.depth}else{depth=0}var maxFontSize=0;for(i=0;i<children.length;i++){if(children[i].type==="elem"){maxFontSize=Math.max(maxFontSize,children[i].elem.maxFontSize)}}var fontSizer=makeFontSizer(options,maxFontSize);var realChildren=[];currPos=depth;for(i=0;i<children.length;i++){if(children[i].type==="kern"){currPos+=children[i].size}else{var child=children[i].elem;var shift=-child.depth-currPos;currPos+=child.height+child.depth;var childWrap=makeSpan([],[fontSizer,child]);childWrap.height-=shift;childWrap.depth+=shift;childWrap.style.top=shift+"em";realChildren.push(childWrap)}}var baselineFix=makeSpan(["baseline-fix"],[fontSizer,new domTree.symbolNode("​")]);realChildren.push(baselineFix);var vlist=makeSpan(["vlist"],realChildren);vlist.height=Math.max(currPos,vlist.height);vlist.depth=Math.max(-depth,vlist.depth);return vlist};var sizingMultiplier={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49};var spacingFunctions={"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}};var fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};module.exports={fontMap:fontMap,makeSymbol:makeSymbol,mathsym:mathsym,makeSpan:makeSpan,makeFragment:makeFragment,makeVList:makeVList,makeOrd:makeOrd,prependChildren:prependChildren,sizingMultiplier:sizingMultiplier,spacingFunctions:spacingFunctions}},{"./domTree":23,"./fontMetrics":25,"./symbols":31,"./utils":33}],19:[function(require,module,exports){var ParseError=require("./ParseError");var Style=require("./Style");var buildCommon=require("./buildCommon");var delimiter=require("./delimiter");var domTree=require("./domTree");var fontMetrics=require("./fontMetrics");var utils=require("./utils");var makeSpan=buildCommon.makeSpan;var isSpace=function(node){return node instanceof domTree.span&&node.classes[0]==="mspace"};var isBin=function(node){return node&&node.classes[0]==="mbin"};var isBinLeftCanceller=function(node,isRealGroup){if(node){return utils.contains(["mbin","mopen","mrel","mop","mpunct"],node.classes[0])}else{return isRealGroup}};var isBinRightCanceller=function(node,isRealGroup){if(node){return utils.contains(["mrel","mclose","mpunct"],node.classes[0])}else{return isRealGroup}};var buildExpression=function(expression,options,isRealGroup){var groups=[];for(var i=0;i<expression.length;i++){var group=expression[i];var output=buildGroup(group,options);if(output instanceof domTree.documentFragment){Array.prototype.push.apply(groups,output.children)}else{groups.push(output)}}var spaces=null;for(i=0;i<groups.length;i++){if(isSpace(groups[i])){spaces=spaces||[];spaces.push(groups[i]);groups.splice(i,1);i--}else if(spaces){if(groups[i]instanceof domTree.symbolNode){groups[i]=makeSpan([].concat(groups[i].classes),[groups[i]])}buildCommon.prependChildren(groups[i],spaces);spaces=null}}if(spaces){Array.prototype.push.apply(groups,spaces)}for(i=0;i<groups.length;i++){if(isBin(groups[i])&&(isBinLeftCanceller(groups[i-1],isRealGroup)||isBinRightCanceller(groups[i+1],isRealGroup))){groups[i].classes[0]="mord"}}return groups};var getTypeOfDomTree=function(node){if(node instanceof domTree.documentFragment){if(node.children.length){return getTypeOfDomTree(node.children[node.children.length-1])}}else{if(utils.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],node.classes[0])){return node.classes[0]}}return null};var shouldHandleSupSub=function(group,options){if(!group){return false}else if(group.type==="op"){return group.value.limits&&(options.style.size===Style.DISPLAY.size||group.value.alwaysHandleSupSub)}else if(group.type==="accent"){return isCharacterBox(group.value.base)}else{return null}};var getBaseElem=function(group){if(!group){return false}else if(group.type==="ordgroup"){if(group.value.length===1){return getBaseElem(group.value[0])}else{return group}}else if(group.type==="color"){if(group.value.value.length===1){return getBaseElem(group.value.value[0])}else{return group}}else if(group.type==="font"){return getBaseElem(group.value.body)}else{return group}};var isCharacterBox=function(group){var baseElem=getBaseElem(group);return baseElem.type==="mathord"||baseElem.type==="textord"||baseElem.type==="bin"||baseElem.type==="rel"||baseElem.type==="inner"||baseElem.type==="open"||baseElem.type==="close"||baseElem.type==="punct"};var makeNullDelimiter=function(options,classes){return makeSpan(classes.concat(["sizing","reset-"+options.size,"size5",options.style.reset(),Style.TEXT.cls(),"nulldelimiter"]))};var groupTypes={};groupTypes.mathord=function(group,options){return buildCommon.makeOrd(group,options,"mathord")};groupTypes.textord=function(group,options){return buildCommon.makeOrd(group,options,"textord")};groupTypes.bin=function(group,options){return buildCommon.mathsym(group.value,group.mode,options,["mbin"])};groupTypes.rel=function(group,options){return buildCommon.mathsym(group.value,group.mode,options,["mrel"])};groupTypes.open=function(group,options){return buildCommon.mathsym(group.value,group.mode,options,["mopen"])};groupTypes.close=function(group,options){return buildCommon.mathsym(group.value,group.mode,options,["mclose"])};groupTypes.inner=function(group,options){return buildCommon.mathsym(group.value,group.mode,options,["minner"])};groupTypes.punct=function(group,options){return buildCommon.mathsym(group.value,group.mode,options,["mpunct"])};groupTypes.ordgroup=function(group,options){return makeSpan(["mord",options.style.cls()],buildExpression(group.value,options.reset(),true),options)};groupTypes.text=function(group,options){var newOptions=options.withFont(group.value.style);var inner=buildExpression(group.value.body,newOptions,true);for(var i=0;i<inner.length-1;i++){if(inner[i].tryCombine(inner[i+1])){inner.splice(i+1,1);i--}}return makeSpan(["mord","text",newOptions.style.cls()],inner,newOptions)};groupTypes.color=function(group,options){var elements=buildExpression(group.value.value,options.withColor(group.value.color),false);return new buildCommon.makeFragment(elements)};groupTypes.supsub=function(group,options){if(shouldHandleSupSub(group.value.base,options)){return groupTypes[group.value.base.type](group,options)}var base=buildGroup(group.value.base,options.reset());var supmid;var submid;var sup;var sub;var style=options.style;var newOptions;if(group.value.sup){newOptions=options.withStyle(style.sup());sup=buildGroup(group.value.sup,newOptions);supmid=makeSpan([style.reset(),style.sup().cls()],[sup],newOptions)}if(group.value.sub){newOptions=options.withStyle(style.sub());sub=buildGroup(group.value.sub,newOptions);submid=makeSpan([style.reset(),style.sub().cls()],[sub],newOptions)}var supShift;var subShift;if(isCharacterBox(group.value.base)){supShift=0;subShift=0}else{supShift=base.height-style.metrics.supDrop;subShift=base.depth+style.metrics.subDrop}var minSupShift;if(style===Style.DISPLAY){minSupShift=style.metrics.sup1}else if(style.cramped){minSupShift=style.metrics.sup3}else{minSupShift=style.metrics.sup2}var multiplier=Style.TEXT.sizeMultiplier*style.sizeMultiplier;var scriptspace=.5/fontMetrics.metrics.ptPerEm/multiplier+"em";var supsub;if(!group.value.sup){subShift=Math.max(subShift,style.metrics.sub1,sub.height-.8*style.metrics.xHeight);supsub=buildCommon.makeVList([{type:"elem",elem:submid}],"shift",subShift,options);supsub.children[0].style.marginRight=scriptspace;if(base instanceof domTree.symbolNode){supsub.children[0].style.marginLeft=-base.italic+"em"}}else if(!group.value.sub){supShift=Math.max(supShift,minSupShift,sup.depth+.25*style.metrics.xHeight);supsub=buildCommon.makeVList([{type:"elem",elem:supmid}],"shift",-supShift,options);supsub.children[0].style.marginRight=scriptspace}else{supShift=Math.max(supShift,minSupShift,sup.depth+.25*style.metrics.xHeight);subShift=Math.max(subShift,style.metrics.sub2);var ruleWidth=fontMetrics.metrics.defaultRuleThickness;if(supShift-sup.depth-(sub.height-subShift)<4*ruleWidth){subShift=4*ruleWidth-(supShift-sup.depth)+sub.height;var psi=.8*style.metrics.xHeight-(supShift-sup.depth);if(psi>0){supShift+=psi;subShift-=psi}}supsub=buildCommon.makeVList([{type:"elem",elem:submid,shift:subShift},{type:"elem",elem:supmid,shift:-supShift}],"individualShift",null,options);if(base instanceof domTree.symbolNode){supsub.children[0].style.marginLeft=-base.italic+"em"}supsub.children[0].style.marginRight=scriptspace;supsub.children[1].style.marginRight=scriptspace}var mclass=getTypeOfDomTree(base)||"mord";return makeSpan([mclass],[base,makeSpan(["msupsub"],[supsub])],options)};groupTypes.genfrac=function(group,options){var style=options.style;if(group.value.size==="display"){style=Style.DISPLAY}else if(group.value.size==="text"){style=Style.TEXT}var nstyle=style.fracNum();var dstyle=style.fracDen();var newOptions;newOptions=options.withStyle(nstyle);var numer=buildGroup(group.value.numer,newOptions);var numerreset=makeSpan([style.reset(),nstyle.cls()],[numer],newOptions);newOptions=options.withStyle(dstyle);var denom=buildGroup(group.value.denom,newOptions);var denomreset=makeSpan([style.reset(),dstyle.cls()],[denom],newOptions);var ruleWidth;if(group.value.hasBarLine){ruleWidth=fontMetrics.metrics.defaultRuleThickness/options.style.sizeMultiplier}else{ruleWidth=0}var numShift;var clearance;var denomShift;if(style.size===Style.DISPLAY.size){numShift=style.metrics.num1;if(ruleWidth>0){clearance=3*ruleWidth}else{clearance=7*fontMetrics.metrics.defaultRuleThickness}denomShift=style.metrics.denom1}else{if(ruleWidth>0){numShift=style.metrics.num2;clearance=ruleWidth}else{numShift=style.metrics.num3;clearance=3*fontMetrics.metrics.defaultRuleThickness}denomShift=style.metrics.denom2}var frac;if(ruleWidth===0){var candidateClearance=numShift-numer.depth-(denom.height-denomShift);if(candidateClearance<clearance){numShift+=.5*(clearance-candidateClearance);denomShift+=.5*(clearance-candidateClearance)}frac=buildCommon.makeVList([{type:"elem",elem:denomreset,shift:denomShift},{type:"elem",elem:numerreset,shift:-numShift}],"individualShift",null,options)}else{var axisHeight=style.metrics.axisHeight;if(numShift-numer.depth-(axisHeight+.5*ruleWidth)<clearance){numShift+=clearance-(numShift-numer.depth-(axisHeight+.5*ruleWidth))}if(axisHeight-.5*ruleWidth-(denom.height-denomShift)<clearance){denomShift+=clearance-(axisHeight-.5*ruleWidth-(denom.height-denomShift))}var mid=makeSpan([options.style.reset(),Style.TEXT.cls(),"frac-line"]);mid.height=ruleWidth;var midShift=-(axisHeight-.5*ruleWidth);frac=buildCommon.makeVList([{type:"elem",elem:denomreset,shift:denomShift},{type:"elem",elem:mid,shift:midShift},{type:"elem",elem:numerreset,shift:-numShift}],"individualShift",null,options)}frac.height*=style.sizeMultiplier/options.style.sizeMultiplier;frac.depth*=style.sizeMultiplier/options.style.sizeMultiplier;var delimSize;if(style.size===Style.DISPLAY.size){delimSize=style.metrics.delim1}else{delimSize=style.metrics.delim2}var leftDelim;var rightDelim;if(group.value.leftDelim==null){leftDelim=makeNullDelimiter(options,["mopen"])}else{leftDelim=delimiter.customSizedDelim(group.value.leftDelim,delimSize,true,options.withStyle(style),group.mode,["mopen"])}if(group.value.rightDelim==null){rightDelim=makeNullDelimiter(options,["mclose"])}else{rightDelim=delimiter.customSizedDelim(group.value.rightDelim,delimSize,true,options.withStyle(style),group.mode,["mclose"])}return makeSpan(["mord",options.style.reset(),style.cls()],[leftDelim,makeSpan(["mfrac"],[frac]),rightDelim],options)};var calculateSize=function(sizeValue,style){var x=sizeValue.number;if(sizeValue.unit==="ex"){x*=style.metrics.emPerEx}else if(sizeValue.unit==="mu"){x/=18}return x};groupTypes.array=function(group,options){var r;var c;var nr=group.value.body.length;var nc=0;var body=new Array(nr);var style=options.style;var pt=1/fontMetrics.metrics.ptPerEm;var arraycolsep=5*pt;var baselineskip=12*pt;var arraystretch=utils.deflt(group.value.arraystretch,1);var arrayskip=arraystretch*baselineskip;var arstrutHeight=.7*arrayskip;var arstrutDepth=.3*arrayskip;var totalHeight=0;for(r=0;r<group.value.body.length;++r){var inrow=group.value.body[r];var height=arstrutHeight;var depth=arstrutDepth;if(nc<inrow.length){nc=inrow.length}var outrow=new Array(inrow.length);for(c=0;c<inrow.length;++c){var elt=buildGroup(inrow[c],options);if(depth<elt.depth){depth=elt.depth}if(height<elt.height){height=elt.height}outrow[c]=elt}var gap=0;if(group.value.rowGaps[r]){gap=calculateSize(group.value.rowGaps[r].value,style);if(gap>0){gap+=arstrutDepth;if(depth<gap){depth=gap}gap=0}}outrow.height=height;outrow.depth=depth;totalHeight+=height;outrow.pos=totalHeight;totalHeight+=depth+gap;body[r]=outrow}var offset=totalHeight/2+style.metrics.axisHeight;var colDescriptions=group.value.cols||[];var cols=[];var colSep;var colDescrNum;for(c=0,colDescrNum=0;c<nc||colDescrNum<colDescriptions.length;++c,++colDescrNum){var colDescr=colDescriptions[colDescrNum]||{};var firstSeparator=true;while(colDescr.type==="separator"){if(!firstSeparator){colSep=makeSpan(["arraycolsep"],[]);colSep.style.width=fontMetrics.metrics.doubleRuleSep+"em";cols.push(colSep)}if(colDescr.separator==="|"){var separator=makeSpan(["vertical-separator"],[]);separator.style.height=totalHeight+"em";separator.style.verticalAlign=-(totalHeight-offset)+"em";cols.push(separator)}else{throw new ParseError("Invalid separator type: "+colDescr.separator)}colDescrNum++;colDescr=colDescriptions[colDescrNum]||{};firstSeparator=false}if(c>=nc){continue}var sepwidth;if(c>0||group.value.hskipBeforeAndAfter){sepwidth=utils.deflt(colDescr.pregap,arraycolsep);if(sepwidth!==0){colSep=makeSpan(["arraycolsep"],[]);colSep.style.width=sepwidth+"em";cols.push(colSep)}}var col=[];for(r=0;r<nr;++r){var row=body[r];var elem=row[c];if(!elem){continue}var shift=row.pos-offset;elem.depth=row.depth;elem.height=row.height;col.push({type:"elem",elem:elem,shift:shift})}col=buildCommon.makeVList(col,"individualShift",null,options);col=makeSpan(["col-align-"+(colDescr.align||"c")],[col]);cols.push(col);if(c<nc-1||group.value.hskipBeforeAndAfter){sepwidth=utils.deflt(colDescr.postgap,arraycolsep);if(sepwidth!==0){colSep=makeSpan(["arraycolsep"],[]);colSep.style.width=sepwidth+"em";cols.push(colSep)}}}body=makeSpan(["mtable"],cols);return makeSpan(["mord"],[body],options)};groupTypes.spacing=function(group,options){if(group.value==="\\ "||group.value==="\\space"||group.value===" "||group.value==="~"){if(group.mode==="text"){return buildCommon.makeOrd(group,options,"textord")}else{return makeSpan(["mspace"],[buildCommon.mathsym(group.value,group.mode,options)],options)}}else{return makeSpan(["mspace",buildCommon.spacingFunctions[group.value].className],[],options)}};groupTypes.llap=function(group,options){var inner=makeSpan(["inner"],[buildGroup(group.value.body,options.reset())]);var fix=makeSpan(["fix"],[]);return makeSpan(["mord","llap",options.style.cls()],[inner,fix],options)};groupTypes.rlap=function(group,options){var inner=makeSpan(["inner"],[buildGroup(group.value.body,options.reset())]);var fix=makeSpan(["fix"],[]);return makeSpan(["mord","rlap",options.style.cls()],[inner,fix],options)};groupTypes.op=function(group,options){var supGroup;var subGroup;var hasLimits=false;if(group.type==="supsub"){supGroup=group.value.sup;subGroup=group.value.sub;group=group.value.base;hasLimits=true}var style=options.style;var noSuccessor=["\\smallint"];var large=false;if(style.size===Style.DISPLAY.size&&group.value.symbol&&!utils.contains(noSuccessor,group.value.body)){large=true}var base;var baseShift=0;var slant=0;if(group.value.symbol){var fontName=large?"Size2-Regular":"Size1-Regular";base=buildCommon.makeSymbol(group.value.body,fontName,"math",options,["mop","op-symbol",large?"large-op":"small-op"]);baseShift=(base.height-base.depth)/2-style.metrics.axisHeight*style.sizeMultiplier;slant=base.italic}else if(group.value.value){var inner=buildExpression(group.value.value,options,true);base=makeSpan(["mop"],inner,options)}else{var output=[];for(var i=1;i<group.value.body.length;i++){output.push(buildCommon.mathsym(group.value.body[i],group.mode))}base=makeSpan(["mop"],output,options)}if(hasLimits){base=makeSpan([],[base]);var supmid;var supKern;var submid;var subKern;var newOptions;if(supGroup){newOptions=options.withStyle(style.sup());var sup=buildGroup(supGroup,newOptions);supmid=makeSpan([style.reset(),style.sup().cls()],[sup],newOptions);supKern=Math.max(fontMetrics.metrics.bigOpSpacing1,fontMetrics.metrics.bigOpSpacing3-sup.depth)}if(subGroup){newOptions=options.withStyle(style.sub());var sub=buildGroup(subGroup,newOptions);submid=makeSpan([style.reset(),style.sub().cls()],[sub],newOptions);subKern=Math.max(fontMetrics.metrics.bigOpSpacing2,fontMetrics.metrics.bigOpSpacing4-sub.height)}var finalGroup;var top;var bottom;if(!supGroup){top=base.height-baseShift;finalGroup=buildCommon.makeVList([{type:"kern",size:fontMetrics.metrics.bigOpSpacing5},{type:"elem",elem:submid},{type:"kern",size:subKern},{type:"elem",elem:base}],"top",top,options);finalGroup.children[0].style.marginLeft=-slant+"em"}else if(!subGroup){bottom=base.depth+baseShift;finalGroup=buildCommon.makeVList([{type:"elem",elem:base},{type:"kern",size:supKern},{type:"elem",elem:supmid},{type:"kern",size:fontMetrics.metrics.bigOpSpacing5}],"bottom",bottom,options);finalGroup.children[1].style.marginLeft=slant+"em"}else if(!supGroup&&!subGroup){return base}else{bottom=fontMetrics.metrics.bigOpSpacing5+submid.height+submid.depth+subKern+base.depth+baseShift;finalGroup=buildCommon.makeVList([{type:"kern",size:fontMetrics.metrics.bigOpSpacing5},{type:"elem",elem:submid},{type:"kern",size:subKern},{type:"elem",elem:base},{type:"kern",size:supKern},{type:"elem",elem:supmid},{type:"kern",size:fontMetrics.metrics.bigOpSpacing5}],"bottom",bottom,options);finalGroup.children[0].style.marginLeft=-slant+"em";finalGroup.children[2].style.marginLeft=slant+"em"}return makeSpan(["mop","op-limits"],[finalGroup],options)}else{if(group.value.symbol){base.style.top=baseShift+"em"}return base}};groupTypes.mod=function(group,options){var inner=[];if(group.value.modType==="bmod"){if(!options.style.isTight()){inner.push(makeSpan(["mspace","negativemediumspace"],[],options))}inner.push(makeSpan(["mspace","thickspace"],[],options))}else if(options.style.size===Style.DISPLAY.size){inner.push(makeSpan(["mspace","quad"],[],options))}else if(group.value.modType==="mod"){inner.push(makeSpan(["mspace","twelvemuspace"],[],options))}else{inner.push(makeSpan(["mspace","eightmuspace"],[],options))}if(group.value.modType==="pod"||group.value.modType==="pmod"){inner.push(buildCommon.mathsym("(",group.mode))}if(group.value.modType!=="pod"){var modInner=[buildCommon.mathsym("m",group.mode),buildCommon.mathsym("o",group.mode),buildCommon.mathsym("d",group.mode)];if(group.value.modType==="bmod"){inner.push(makeSpan(["mbin"],modInner,options));inner.push(makeSpan(["mspace","thickspace"],[],options));if(!options.style.isTight()){inner.push(makeSpan(["mspace","negativemediumspace"],[],options))}}else{Array.prototype.push.apply(inner,modInner);inner.push(makeSpan(["mspace","sixmuspace"],[],options))}}if(group.value.value){Array.prototype.push.apply(inner,buildExpression(group.value.value,options,false))}if(group.value.modType==="pod"||group.value.modType==="pmod"){inner.push(buildCommon.mathsym(")",group.mode))}return buildCommon.makeFragment(inner)};groupTypes.katex=function(group,options){var k=makeSpan(["k"],[buildCommon.mathsym("K",group.mode)],options);var a=makeSpan(["a"],[buildCommon.mathsym("A",group.mode)],options);a.height=(a.height+.2)*.75;a.depth=(a.height-.2)*.75;var t=makeSpan(["t"],[buildCommon.mathsym("T",group.mode)],options);var e=makeSpan(["e"],[buildCommon.mathsym("E",group.mode)],options);e.height=e.height-.2155;e.depth=e.depth+.2155;var x=makeSpan(["x"],[buildCommon.mathsym("X",group.mode)],options);return makeSpan(["mord","katex-logo"],[k,a,t,e,x],options)};groupTypes.overline=function(group,options){var style=options.style;var innerGroup=buildGroup(group.value.body,options.withStyle(style.cramp()));var ruleWidth=fontMetrics.metrics.defaultRuleThickness/style.sizeMultiplier;var line=makeSpan([style.reset(),Style.TEXT.cls(),"overline-line"]);line.height=ruleWidth;line.maxFontSize=1;var vlist=buildCommon.makeVList([{type:"elem",elem:innerGroup},{type:"kern",size:3*ruleWidth},{type:"elem",elem:line},{type:"kern",size:ruleWidth}],"firstBaseline",null,options);return makeSpan(["mord","overline"],[vlist],options)};groupTypes.underline=function(group,options){var style=options.style;var innerGroup=buildGroup(group.value.body,options);var ruleWidth=fontMetrics.metrics.defaultRuleThickness/style.sizeMultiplier;var line=makeSpan([style.reset(),Style.TEXT.cls(),"underline-line"]);line.height=ruleWidth;line.maxFontSize=1;var vlist=buildCommon.makeVList([{type:"kern",size:ruleWidth},{type:"elem",elem:line},{type:"kern",size:3*ruleWidth},{type:"elem",elem:innerGroup}],"top",innerGroup.height,options);return makeSpan(["mord","underline"],[vlist],options)};groupTypes.sqrt=function(group,options){var style=options.style;var inner=buildGroup(group.value.body,options.withStyle(style.cramp()));var ruleWidth=fontMetrics.metrics.defaultRuleThickness/style.sizeMultiplier;var line=makeSpan([style.reset(),Style.TEXT.cls(),"sqrt-line"],[],options);line.height=ruleWidth;line.maxFontSize=1;var phi=ruleWidth;if(style.id<Style.TEXT.id){phi=style.metrics.xHeight}var lineClearance=ruleWidth+phi/4;var innerHeight=(inner.height+inner.depth)*style.sizeMultiplier;var minDelimiterHeight=innerHeight+lineClearance+ruleWidth;var delim=makeSpan(["sqrt-sign"],[delimiter.customSizedDelim("\\surd",minDelimiterHeight,false,options,group.mode)],options);var delimDepth=delim.height+delim.depth-ruleWidth;if(delimDepth>inner.height+inner.depth+lineClearance){lineClearance=(lineClearance+delimDepth-inner.height-inner.depth)/2}var delimShift=-(inner.height+lineClearance+ruleWidth)+delim.height;delim.style.top=delimShift+"em";delim.height-=delimShift;delim.depth+=delimShift;var body;if(inner.height===0&&inner.depth===0){body=makeSpan()}else{body=buildCommon.makeVList([{type:"elem",elem:inner},{type:"kern",size:lineClearance},{type:"elem",elem:line},{type:"kern",size:ruleWidth}],"firstBaseline",null,options)}if(!group.value.index){return makeSpan(["mord","sqrt"],[delim,body],options)}else{var newOptions=options.withStyle(Style.SCRIPTSCRIPT);var root=buildGroup(group.value.index,newOptions);var rootWrap=makeSpan([style.reset(),Style.SCRIPTSCRIPT.cls()],[root],newOptions);var innerRootHeight=Math.max(delim.height,body.height);var innerRootDepth=Math.max(delim.depth,body.depth);var toShift=.6*(innerRootHeight-innerRootDepth);var rootVList=buildCommon.makeVList([{type:"elem",elem:rootWrap}],"shift",-toShift,options);var rootVListWrap=makeSpan(["root"],[rootVList]);return makeSpan(["mord","sqrt"],[rootVListWrap,delim,body],options)}};groupTypes.sizing=function(group,options){var inner=buildExpression(group.value.value,options.withSize(group.value.size),false);var style=options.style;var fontSize=buildCommon.sizingMultiplier[group.value.size];fontSize=fontSize*style.sizeMultiplier;for(var i=0;i<inner.length;i++){var pos=utils.indexOf(inner[i].classes,"sizing");if(pos<0){inner[i].classes.push("sizing","reset-"+options.size,group.value.size,style.cls());inner[i].maxFontSize=fontSize}else if(inner[i].classes[pos+1]==="reset-"+group.value.size){inner[i].classes[pos+1]="reset-"+options.size}}return buildCommon.makeFragment(inner)};groupTypes.styling=function(group,options){var styleMap={display:Style.DISPLAY,text:Style.TEXT,script:Style.SCRIPT,scriptscript:Style.SCRIPTSCRIPT};var newStyle=styleMap[group.value.style];var newOptions=options.withStyle(newStyle);var inner=buildExpression(group.value.value,newOptions,false);for(var i=0;i<inner.length;i++){var pos=utils.indexOf(inner[i].classes,newStyle.reset());if(pos<0){inner[i].classes.push(options.style.reset(),newStyle.cls())}else{inner[i].classes[pos]=options.style.reset()}}return new buildCommon.makeFragment(inner)};groupTypes.font=function(group,options){var font=group.value.font;return buildGroup(group.value.body,options.withFont(font))};groupTypes.delimsizing=function(group,options){var delim=group.value.value;if(delim==="."){return makeSpan([group.value.mclass])}return delimiter.sizedDelim(delim,group.value.size,options,group.mode,[group.value.mclass])};groupTypes.leftright=function(group,options){var inner=buildExpression(group.value.body,options.reset(),true);var innerHeight=0;var innerDepth=0;var hadMiddle=false;for(var i=0;i<inner.length;i++){if(inner[i].isMiddle){hadMiddle=true}else{innerHeight=Math.max(inner[i].height,innerHeight);innerDepth=Math.max(inner[i].depth,innerDepth)}}var style=options.style;innerHeight*=style.sizeMultiplier;innerDepth*=style.sizeMultiplier;var leftDelim;if(group.value.left==="."){leftDelim=makeNullDelimiter(options,["mopen"])}else{leftDelim=delimiter.leftRightDelim(group.value.left,innerHeight,innerDepth,options,group.mode,["mopen"])}inner.unshift(leftDelim);if(hadMiddle){for(i=1;i<inner.length;i++){if(inner[i].isMiddle){inner[i]=delimiter.leftRightDelim(inner[i].isMiddle.value,innerHeight,innerDepth,inner[i].isMiddle.options,group.mode,[])}}}var rightDelim;if(group.value.right==="."){rightDelim=makeNullDelimiter(options,["mclose"])}else{rightDelim=delimiter.leftRightDelim(group.value.right,innerHeight,innerDepth,options,group.mode,["mclose"])}inner.push(rightDelim);return makeSpan(["minner",style.cls()],inner,options)};groupTypes.middle=function(group,options){var middleDelim;if(group.value.value==="."){middleDelim=makeNullDelimiter(options,[])}else{middleDelim=delimiter.sizedDelim(group.value.value,1,options,group.mode,[]);middleDelim.isMiddle={value:group.value.value,options:options}}return middleDelim};groupTypes.rule=function(group,options){var rule=makeSpan(["mord","rule"],[],options);

var style=options.style;var shift=0;if(group.value.shift){shift=calculateSize(group.value.shift,style)}var width=calculateSize(group.value.width,style);var height=calculateSize(group.value.height,style);shift/=style.sizeMultiplier;width/=style.sizeMultiplier;height/=style.sizeMultiplier;rule.style.borderRightWidth=width+"em";rule.style.borderTopWidth=height+"em";rule.style.bottom=shift+"em";rule.width=width;rule.height=height+shift;rule.depth=-shift;return rule};groupTypes.kern=function(group,options){var rule=makeSpan(["mord","rule"],[],options);var style=options.style;var dimension=0;if(group.value.dimension){dimension=calculateSize(group.value.dimension,style)}dimension/=style.sizeMultiplier;rule.style.marginLeft=dimension+"em";return rule};groupTypes.accent=function(group,options){var base=group.value.base;var style=options.style;var supsubGroup;if(group.type==="supsub"){var supsub=group;group=supsub.value.base;base=group.value.base;supsub.value.base=base;supsubGroup=buildGroup(supsub,options.reset())}var body=buildGroup(base,options.withStyle(style.cramp()));var skew;if(isCharacterBox(base)){var baseChar=getBaseElem(base);var baseGroup=buildGroup(baseChar,options.withStyle(style.cramp()));skew=baseGroup.skew}else{skew=0}var clearance=Math.min(body.height,style.metrics.xHeight);var accent=buildCommon.makeSymbol(group.value.accent,"Main-Regular","math",options);accent.italic=0;var vecClass=group.value.accent==="\\vec"?"accent-vec":null;var accentBody=makeSpan(["accent-body",vecClass],[makeSpan([],[accent])]);accentBody=buildCommon.makeVList([{type:"elem",elem:body},{type:"kern",size:-clearance},{type:"elem",elem:accentBody}],"firstBaseline",null,options);accentBody.children[1].style.marginLeft=2*skew+"em";var accentWrap=makeSpan(["mord","accent"],[accentBody],options);if(supsubGroup){supsubGroup.children[0]=accentWrap;supsubGroup.height=Math.max(accentWrap.height,supsubGroup.height);supsubGroup.classes[0]="mord";return supsubGroup}else{return accentWrap}};groupTypes.phantom=function(group,options){var elements=buildExpression(group.value.value,options.withPhantom(),false);return new buildCommon.makeFragment(elements)};groupTypes.mclass=function(group,options){var elements=buildExpression(group.value.value,options,true);return makeSpan([group.value.mclass],elements,options)};var buildGroup=function(group,options){if(!group){return makeSpan()}if(groupTypes[group.type]){var groupNode=groupTypes[group.type](group,options);var multiplier;if(options.style!==options.parentStyle){multiplier=options.style.sizeMultiplier/options.parentStyle.sizeMultiplier;groupNode.height*=multiplier;groupNode.depth*=multiplier}if(options.size!==options.parentSize){multiplier=buildCommon.sizingMultiplier[options.size]/buildCommon.sizingMultiplier[options.parentSize];groupNode.height*=multiplier;groupNode.depth*=multiplier}return groupNode}else{throw new ParseError("Got group of unknown type: '"+group.type+"'")}};var buildHTML=function(tree,options){tree=JSON.parse(JSON.stringify(tree));var expression=buildExpression(tree,options,true);var body=makeSpan(["base",options.style.cls()],expression,options);var topStrut=makeSpan(["strut"]);var bottomStrut=makeSpan(["strut","bottom"]);topStrut.style.height=body.height+"em";bottomStrut.style.height=body.height+body.depth+"em";bottomStrut.style.verticalAlign=-body.depth+"em";var htmlNode=makeSpan(["katex-html"],[topStrut,bottomStrut,body]);htmlNode.setAttribute("aria-hidden","true");return htmlNode};module.exports=buildHTML},{"./ParseError":14,"./Style":17,"./buildCommon":18,"./delimiter":22,"./domTree":23,"./fontMetrics":25,"./utils":33}],20:[function(require,module,exports){var buildCommon=require("./buildCommon");var fontMetrics=require("./fontMetrics");var mathMLTree=require("./mathMLTree");var ParseError=require("./ParseError");var symbols=require("./symbols");var utils=require("./utils");var makeSpan=buildCommon.makeSpan;var fontMap=buildCommon.fontMap;var makeText=function(text,mode){if(symbols[mode][text]&&symbols[mode][text].replace){text=symbols[mode][text].replace}return new mathMLTree.TextNode(text)};var getVariant=function(group,options){var font=options.font;if(!font){return null}var mode=group.mode;if(font==="mathit"){return"italic"}var value=group.value;if(utils.contains(["\\imath","\\jmath"],value)){return null}if(symbols[mode][value]&&symbols[mode][value].replace){value=symbols[mode][value].replace}var fontName=fontMap[font].fontName;if(fontMetrics.getCharacterMetrics(value,fontName)){return fontMap[options.font].variant}return null};var groupTypes={};groupTypes.mathord=function(group,options){var node=new mathMLTree.MathNode("mi",[makeText(group.value,group.mode)]);var variant=getVariant(group,options);if(variant){node.setAttribute("mathvariant",variant)}return node};groupTypes.textord=function(group,options){var text=makeText(group.value,group.mode);var variant=getVariant(group,options)||"normal";var node;if(/[0-9]/.test(group.value)){node=new mathMLTree.MathNode("mn",[text]);if(options.font){node.setAttribute("mathvariant",variant)}}else{node=new mathMLTree.MathNode("mi",[text]);node.setAttribute("mathvariant",variant)}return node};groupTypes.bin=function(group){var node=new mathMLTree.MathNode("mo",[makeText(group.value,group.mode)]);return node};groupTypes.rel=function(group){var node=new mathMLTree.MathNode("mo",[makeText(group.value,group.mode)]);return node};groupTypes.open=function(group){var node=new mathMLTree.MathNode("mo",[makeText(group.value,group.mode)]);return node};groupTypes.close=function(group){var node=new mathMLTree.MathNode("mo",[makeText(group.value,group.mode)]);return node};groupTypes.inner=function(group){var node=new mathMLTree.MathNode("mo",[makeText(group.value,group.mode)]);return node};groupTypes.punct=function(group){var node=new mathMLTree.MathNode("mo",[makeText(group.value,group.mode)]);node.setAttribute("separator","true");return node};groupTypes.ordgroup=function(group,options){var inner=buildExpression(group.value,options);var node=new mathMLTree.MathNode("mrow",inner);return node};groupTypes.text=function(group,options){var inner=buildExpression(group.value.body,options);var node=new mathMLTree.MathNode("mtext",inner);return node};groupTypes.color=function(group,options){var inner=buildExpression(group.value.value,options);var node=new mathMLTree.MathNode("mstyle",inner);node.setAttribute("mathcolor",group.value.color);return node};groupTypes.supsub=function(group,options){var children=[buildGroup(group.value.base,options)];if(group.value.sub){children.push(buildGroup(group.value.sub,options))}if(group.value.sup){children.push(buildGroup(group.value.sup,options))}var nodeType;if(!group.value.sub){nodeType="msup"}else if(!group.value.sup){nodeType="msub"}else{nodeType="msubsup"}var node=new mathMLTree.MathNode(nodeType,children);return node};groupTypes.genfrac=function(group,options){var node=new mathMLTree.MathNode("mfrac",[buildGroup(group.value.numer,options),buildGroup(group.value.denom,options)]);if(!group.value.hasBarLine){node.setAttribute("linethickness","0px")}if(group.value.leftDelim!=null||group.value.rightDelim!=null){var withDelims=[];if(group.value.leftDelim!=null){var leftOp=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(group.value.leftDelim)]);leftOp.setAttribute("fence","true");withDelims.push(leftOp)}withDelims.push(node);if(group.value.rightDelim!=null){var rightOp=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(group.value.rightDelim)]);rightOp.setAttribute("fence","true");withDelims.push(rightOp)}var outerNode=new mathMLTree.MathNode("mrow",withDelims);return outerNode}return node};groupTypes.array=function(group,options){return new mathMLTree.MathNode("mtable",group.value.body.map(function(row){return new mathMLTree.MathNode("mtr",row.map(function(cell){return new mathMLTree.MathNode("mtd",[buildGroup(cell,options)])}))}))};groupTypes.sqrt=function(group,options){var node;if(group.value.index){node=new mathMLTree.MathNode("mroot",[buildGroup(group.value.body,options),buildGroup(group.value.index,options)])}else{node=new mathMLTree.MathNode("msqrt",[buildGroup(group.value.body,options)])}return node};groupTypes.leftright=function(group,options){var inner=buildExpression(group.value.body,options);if(group.value.left!=="."){var leftNode=new mathMLTree.MathNode("mo",[makeText(group.value.left,group.mode)]);leftNode.setAttribute("fence","true");inner.unshift(leftNode)}if(group.value.right!=="."){var rightNode=new mathMLTree.MathNode("mo",[makeText(group.value.right,group.mode)]);rightNode.setAttribute("fence","true");inner.push(rightNode)}var outerNode=new mathMLTree.MathNode("mrow",inner);return outerNode};groupTypes.middle=function(group,options){var middleNode=new mathMLTree.MathNode("mo",[makeText(group.value.middle,group.mode)]);middleNode.setAttribute("fence","true");return middleNode};groupTypes.accent=function(group,options){var accentNode=new mathMLTree.MathNode("mo",[makeText(group.value.accent,group.mode)]);var node=new mathMLTree.MathNode("mover",[buildGroup(group.value.base,options),accentNode]);node.setAttribute("accent","true");return node};groupTypes.spacing=function(group){var node;if(group.value==="\\ "||group.value==="\\space"||group.value===" "||group.value==="~"){node=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode(" ")])}else{node=new mathMLTree.MathNode("mspace");node.setAttribute("width",buildCommon.spacingFunctions[group.value].size)}return node};groupTypes.op=function(group,options){var node;if(group.value.symbol){node=new mathMLTree.MathNode("mo",[makeText(group.value.body,group.mode)])}else if(group.value.value){node=new mathMLTree.MathNode("mo",buildExpression(group.value.value,options))}else{node=new mathMLTree.MathNode("mi",[new mathMLTree.TextNode(group.value.body.slice(1))])}return node};groupTypes.mod=function(group,options){var inner=[];if(group.value.modType==="pod"||group.value.modType==="pmod"){inner.push(new mathMLTree.MathNode("mo",[makeText("(",group.mode)]))}if(group.value.modType!=="pod"){inner.push(new mathMLTree.MathNode("mo",[makeText("mod",group.mode)]))}if(group.value.value){var space=new mathMLTree.MathNode("mspace");space.setAttribute("width","0.333333em");inner.push(space);inner=inner.concat(buildExpression(group.value.value,options))}if(group.value.modType==="pod"||group.value.modType==="pmod"){inner.push(new mathMLTree.MathNode("mo",[makeText(")",group.mode)]))}return new mathMLTree.MathNode("mo",inner)};groupTypes.katex=function(group){var node=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("KaTeX")]);return node};groupTypes.font=function(group,options){var font=group.value.font;return buildGroup(group.value.body,options.withFont(font))};groupTypes.delimsizing=function(group){var children=[];if(group.value.value!=="."){children.push(makeText(group.value.value,group.mode))}var node=new mathMLTree.MathNode("mo",children);if(group.value.mclass==="mopen"||group.value.mclass==="mclose"){node.setAttribute("fence","true")}else{node.setAttribute("fence","false")}return node};groupTypes.styling=function(group,options){var inner=buildExpression(group.value.value,options);var node=new mathMLTree.MathNode("mstyle",inner);var styleAttributes={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]};var attr=styleAttributes[group.value.style];node.setAttribute("scriptlevel",attr[0]);node.setAttribute("displaystyle",attr[1]);return node};groupTypes.sizing=function(group,options){var inner=buildExpression(group.value.value,options);var node=new mathMLTree.MathNode("mstyle",inner);node.setAttribute("mathsize",buildCommon.sizingMultiplier[group.value.size]+"em");return node};groupTypes.overline=function(group,options){var operator=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);operator.setAttribute("stretchy","true");var node=new mathMLTree.MathNode("mover",[buildGroup(group.value.body,options),operator]);node.setAttribute("accent","true");return node};groupTypes.underline=function(group,options){var operator=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);operator.setAttribute("stretchy","true");var node=new mathMLTree.MathNode("munder",[buildGroup(group.value.body,options),operator]);node.setAttribute("accentunder","true");return node};groupTypes.rule=function(group){var node=new mathMLTree.MathNode("mrow");return node};groupTypes.kern=function(group){var node=new mathMLTree.MathNode("mrow");return node};groupTypes.llap=function(group,options){var node=new mathMLTree.MathNode("mpadded",[buildGroup(group.value.body,options)]);node.setAttribute("lspace","-1width");node.setAttribute("width","0px");return node};groupTypes.rlap=function(group,options){var node=new mathMLTree.MathNode("mpadded",[buildGroup(group.value.body,options)]);node.setAttribute("width","0px");return node};groupTypes.phantom=function(group,options){var inner=buildExpression(group.value.value,options);return new mathMLTree.MathNode("mphantom",inner)};groupTypes.mclass=function(group,options){var inner=buildExpression(group.value.value,options);return new mathMLTree.MathNode("mstyle",inner)};var buildExpression=function(expression,options){var groups=[];for(var i=0;i<expression.length;i++){var group=expression[i];groups.push(buildGroup(group,options))}return groups};var buildGroup=function(group,options){if(!group){return new mathMLTree.MathNode("mrow")}if(groupTypes[group.type]){return groupTypes[group.type](group,options)}else{throw new ParseError("Got group of unknown type: '"+group.type+"'")}};var buildMathML=function(tree,texExpression,options){var expression=buildExpression(tree,options);var wrapper=new mathMLTree.MathNode("mrow",expression);var annotation=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(texExpression)]);annotation.setAttribute("encoding","application/x-tex");var semantics=new mathMLTree.MathNode("semantics",[wrapper,annotation]);var math=new mathMLTree.MathNode("math",[semantics]);return makeSpan(["katex-mathml"],[math])};module.exports=buildMathML},{"./ParseError":14,"./buildCommon":18,"./fontMetrics":25,"./mathMLTree":28,"./symbols":31,"./utils":33}],21:[function(require,module,exports){var buildHTML=require("./buildHTML");var buildMathML=require("./buildMathML");var buildCommon=require("./buildCommon");var Options=require("./Options");var Settings=require("./Settings");var Style=require("./Style");var makeSpan=buildCommon.makeSpan;var buildTree=function(tree,expression,settings){settings=settings||new Settings({});var startStyle=Style.TEXT;if(settings.displayMode){startStyle=Style.DISPLAY}var options=new Options({style:startStyle,size:"size5"});var mathMLNode=buildMathML(tree,expression,options);var htmlNode=buildHTML(tree,options);var katexNode=makeSpan(["katex"],[mathMLNode,htmlNode]);if(settings.displayMode){return makeSpan(["katex-display"],[katexNode])}else{return katexNode}};module.exports=buildTree},{"./Options":13,"./Settings":16,"./Style":17,"./buildCommon":18,"./buildHTML":19,"./buildMathML":20}],22:[function(require,module,exports){var ParseError=require("./ParseError");var Style=require("./Style");var buildCommon=require("./buildCommon");var fontMetrics=require("./fontMetrics");var symbols=require("./symbols");var utils=require("./utils");var makeSpan=buildCommon.makeSpan;var getMetrics=function(symbol,font){if(symbols.math[symbol]&&symbols.math[symbol].replace){return fontMetrics.getCharacterMetrics(symbols.math[symbol].replace,font)}else{return fontMetrics.getCharacterMetrics(symbol,font)}};var mathrmSize=function(value,size,mode,options){return buildCommon.makeSymbol(value,"Size"+size+"-Regular",mode,options)};var styleWrap=function(delim,toStyle,options,classes){classes=classes||[];var span=makeSpan(classes.concat(["style-wrap",options.style.reset(),toStyle.cls()]),[delim],options);var multiplier=toStyle.sizeMultiplier/options.style.sizeMultiplier;span.height*=multiplier;span.depth*=multiplier;span.maxFontSize=toStyle.sizeMultiplier;return span};var makeSmallDelim=function(delim,style,center,options,mode,classes){var text=buildCommon.makeSymbol(delim,"Main-Regular",mode,options);var span=styleWrap(text,style,options,classes);if(center){var shift=(1-options.style.sizeMultiplier/style.sizeMultiplier)*options.style.metrics.axisHeight;span.style.top=shift+"em";span.height-=shift;span.depth+=shift}return span};var makeLargeDelim=function(delim,size,center,options,mode,classes){var inner=mathrmSize(delim,size,mode,options);var span=styleWrap(makeSpan(["delimsizing","size"+size],[inner],options),Style.TEXT,options,classes);if(center){var shift=(1-options.style.sizeMultiplier)*options.style.metrics.axisHeight;span.style.top=shift+"em";span.height-=shift;span.depth+=shift}return span};var makeInner=function(symbol,font,mode){var sizeClass;if(font==="Size1-Regular"){sizeClass="delim-size1"}else if(font==="Size4-Regular"){sizeClass="delim-size4"}var inner=makeSpan(["delimsizinginner",sizeClass],[makeSpan([],[buildCommon.makeSymbol(symbol,font,mode)])]);return{type:"elem",elem:inner}};var makeStackedDelim=function(delim,heightTotal,center,options,mode,classes){var top;var middle;var repeat;var bottom;top=repeat=bottom=delim;middle=null;var font="Size1-Regular";if(delim==="\\uparrow"){repeat=bottom="⏐"}else if(delim==="\\Uparrow"){repeat=bottom="‖"}else if(delim==="\\downarrow"){top=repeat="⏐"}else if(delim==="\\Downarrow"){top=repeat="‖"}else if(delim==="\\updownarrow"){top="\\uparrow";repeat="⏐";bottom="\\downarrow"}else if(delim==="\\Updownarrow"){top="\\Uparrow";repeat="‖";bottom="\\Downarrow"}else if(delim==="["||delim==="\\lbrack"){top="⎡";repeat="⎢";bottom="⎣";font="Size4-Regular"}else if(delim==="]"||delim==="\\rbrack"){top="⎤";repeat="⎥";bottom="⎦";font="Size4-Regular"}else if(delim==="\\lfloor"){repeat=top="⎢";bottom="⎣";font="Size4-Regular"}else if(delim==="\\lceil"){top="⎡";repeat=bottom="⎢";font="Size4-Regular"}else if(delim==="\\rfloor"){repeat=top="⎥";bottom="⎦";font="Size4-Regular"}else if(delim==="\\rceil"){top="⎤";repeat=bottom="⎥";font="Size4-Regular"}else if(delim==="("){top="⎛";repeat="⎜";bottom="⎝";font="Size4-Regular"}else if(delim===")"){top="⎞";repeat="⎟";bottom="⎠";font="Size4-Regular"}else if(delim==="\\{"||delim==="\\lbrace"){top="⎧";middle="⎨";bottom="⎩";repeat="⎪";font="Size4-Regular"}else if(delim==="\\}"||delim==="\\rbrace"){top="⎫";middle="⎬";bottom="⎭";repeat="⎪";font="Size4-Regular"}else if(delim==="\\lgroup"){top="⎧";bottom="⎩";repeat="⎪";font="Size4-Regular"}else if(delim==="\\rgroup"){top="⎫";bottom="⎭";repeat="⎪";font="Size4-Regular"}else if(delim==="\\lmoustache"){top="⎧";bottom="⎭";repeat="⎪";font="Size4-Regular"}else if(delim==="\\rmoustache"){top="⎫";bottom="⎩";repeat="⎪";font="Size4-Regular"}else if(delim==="\\surd"){top="";bottom="⎷";repeat="";font="Size4-Regular"}var topMetrics=getMetrics(top,font);var topHeightTotal=topMetrics.height+topMetrics.depth;var repeatMetrics=getMetrics(repeat,font);var repeatHeightTotal=repeatMetrics.height+repeatMetrics.depth;var bottomMetrics=getMetrics(bottom,font);var bottomHeightTotal=bottomMetrics.height+bottomMetrics.depth;var middleHeightTotal=0;var middleFactor=1;if(middle!==null){var middleMetrics=getMetrics(middle,font);middleHeightTotal=middleMetrics.height+middleMetrics.depth;middleFactor=2}var minHeight=topHeightTotal+bottomHeightTotal+middleHeightTotal;var repeatCount=Math.ceil((heightTotal-minHeight)/(middleFactor*repeatHeightTotal));var realHeightTotal=minHeight+repeatCount*middleFactor*repeatHeightTotal;var axisHeight=options.style.metrics.axisHeight;if(center){axisHeight*=options.style.sizeMultiplier}var depth=realHeightTotal/2-axisHeight;var inners=[];inners.push(makeInner(bottom,font,mode));var i;if(middle===null){for(i=0;i<repeatCount;i++){inners.push(makeInner(repeat,font,mode))}}else{for(i=0;i<repeatCount;i++){inners.push(makeInner(repeat,font,mode))}inners.push(makeInner(middle,font,mode));for(i=0;i<repeatCount;i++){inners.push(makeInner(repeat,font,mode))}}inners.push(makeInner(top,font,mode));var inner=buildCommon.makeVList(inners,"bottom",depth,options);return styleWrap(makeSpan(["delimsizing","mult"],[inner],options),Style.TEXT,options,classes)};var stackLargeDelimiters=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"];var stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"];var stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"];var sizeToMaxHeight=[0,1.2,1.8,2.4,3];var makeSizedDelim=function(delim,size,options,mode,classes){if(delim==="<"||delim==="\\lt"){delim="\\langle"}else if(delim===">"||delim==="\\gt"){delim="\\rangle"}if(utils.contains(stackLargeDelimiters,delim)||utils.contains(stackNeverDelimiters,delim)){return makeLargeDelim(delim,size,false,options,mode,classes)}else if(utils.contains(stackAlwaysDelimiters,delim)){return makeStackedDelim(delim,sizeToMaxHeight[size],false,options,mode,classes)}else{throw new ParseError("Illegal delimiter: '"+delim+"'")}};var stackNeverDelimiterSequence=[{type:"small",style:Style.SCRIPTSCRIPT},{type:"small",style:Style.SCRIPT},{type:"small",style:Style.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}];var stackAlwaysDelimiterSequence=[{type:"small",style:Style.SCRIPTSCRIPT},{type:"small",style:Style.SCRIPT},{type:"small",style:Style.TEXT},{type:"stack"}];var stackLargeDelimiterSequence=[{type:"small",style:Style.SCRIPTSCRIPT},{type:"small",style:Style.SCRIPT},{type:"small",style:Style.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];var delimTypeToFont=function(type){if(type.type==="small"){return"Main-Regular"}else if(type.type==="large"){return"Size"+type.size+"-Regular"}else if(type.type==="stack"){return"Size4-Regular"}};var traverseSequence=function(delim,height,sequence,options){var start=Math.min(2,3-options.style.size);for(var i=start;i<sequence.length;i++){if(sequence[i].type==="stack"){break}var metrics=getMetrics(delim,delimTypeToFont(sequence[i]));var heightDepth=metrics.height+metrics.depth;if(sequence[i].type==="small"){heightDepth*=sequence[i].style.sizeMultiplier}if(heightDepth>height){return sequence[i]}}return sequence[sequence.length-1]};var makeCustomSizedDelim=function(delim,height,center,options,mode,classes){if(delim==="<"||delim==="\\lt"){delim="\\langle"}else if(delim===">"||delim==="\\gt"){delim="\\rangle"}var sequence;if(utils.contains(stackNeverDelimiters,delim)){sequence=stackNeverDelimiterSequence}else if(utils.contains(stackLargeDelimiters,delim)){sequence=stackLargeDelimiterSequence}else{sequence=stackAlwaysDelimiterSequence}var delimType=traverseSequence(delim,height,sequence,options);if(delimType.type==="small"){return makeSmallDelim(delim,delimType.style,center,options,mode,classes)}else if(delimType.type==="large"){return makeLargeDelim(delim,delimType.size,center,options,mode,classes)}else if(delimType.type==="stack"){return makeStackedDelim(delim,height,center,options,mode,classes)}};var makeLeftRightDelim=function(delim,height,depth,options,mode,classes){var axisHeight=options.style.metrics.axisHeight*options.style.sizeMultiplier;var delimiterFactor=901;var delimiterExtend=5/fontMetrics.metrics.ptPerEm;var maxDistFromAxis=Math.max(height-axisHeight,depth+axisHeight);var totalHeight=Math.max(maxDistFromAxis/500*delimiterFactor,2*maxDistFromAxis-delimiterExtend);return makeCustomSizedDelim(delim,totalHeight,true,options,mode,classes)};module.exports={sizedDelim:makeSizedDelim,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim}},{"./ParseError":14,"./Style":17,"./buildCommon":18,"./fontMetrics":25,"./symbols":31,"./utils":33}],23:[function(require,module,exports){var unicodeRegexes=require("./unicodeRegexes");var utils=require("./utils");var createClass=function(classes){classes=classes.slice();for(var i=classes.length-1;i>=0;i--){if(!classes[i]){classes.splice(i,1)}}return classes.join(" ")};function span(classes,children,options){this.classes=classes||[];this.children=children||[];this.height=0;this.depth=0;this.maxFontSize=0;this.style={};this.attributes={};if(options){if(options.style.isTight()){this.classes.push("mtight")}if(options.getColor()){this.style.color=options.getColor()}}}span.prototype.setAttribute=function(attribute,value){this.attributes[attribute]=value};span.prototype.tryCombine=function(sibling){return false};span.prototype.toNode=function(){var span=document.createElement("span");span.className=createClass(this.classes);for(var style in this.style){if(Object.prototype.hasOwnProperty.call(this.style,style)){span.style[style]=this.style[style]}}for(var attr in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,attr)){span.setAttribute(attr,this.attributes[attr])}}for(var i=0;i<this.children.length;i++){span.appendChild(this.children[i].toNode())}return span};span.prototype.toMarkup=function(){var markup="<span";if(this.classes.length){markup+=' class="';markup+=utils.escape(createClass(this.classes));markup+='"'}var styles="";for(var style in this.style){if(this.style.hasOwnProperty(style)){styles+=utils.hyphenate(style)+":"+this.style[style]+";"}}if(styles){markup+=' style="'+utils.escape(styles)+'"'}for(var attr in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,attr)){markup+=" "+attr+'="';markup+=utils.escape(this.attributes[attr]);markup+='"'}}markup+=">";for(var i=0;i<this.children.length;i++){markup+=this.children[i].toMarkup()}markup+="</span>";return markup};function documentFragment(children){this.children=children||[];this.height=0;this.depth=0;this.maxFontSize=0}documentFragment.prototype.toNode=function(){var frag=document.createDocumentFragment();for(var i=0;i<this.children.length;i++){frag.appendChild(this.children[i].toNode())}return frag};documentFragment.prototype.toMarkup=function(){var markup="";for(var i=0;i<this.children.length;i++){markup+=this.children[i].toMarkup()}return markup};var iCombinations={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"};function symbolNode(value,height,depth,italic,skew,classes,style){this.value=value||"";this.height=height||0;this.depth=depth||0;this.italic=italic||0;this.skew=skew||0;this.classes=classes||[];this.style=style||{};this.maxFontSize=0;if(unicodeRegexes.cjkRegex.test(value)){if(unicodeRegexes.hangulRegex.test(value)){this.classes.push("hangul_fallback")}else{this.classes.push("cjk_fallback")}}if(/[îïíì]/.test(this.value)){this.value=iCombinations[this.value]}}symbolNode.prototype.tryCombine=function(sibling){if(!sibling||!(sibling instanceof symbolNode)||this.italic>0||createClass(this.classes)!==createClass(sibling.classes)||this.skew!==sibling.skew||this.maxFontSize!==sibling.maxFontSize){return false}for(var style in this.style){if(this.style.hasOwnProperty(style)&&this.style[style]!==sibling.style[style]){return false}}for(style in sibling.style){if(sibling.style.hasOwnProperty(style)&&this.style[style]!==sibling.style[style]){return false}}this.value+=sibling.value;this.height=Math.max(this.height,sibling.height);this.depth=Math.max(this.depth,sibling.depth);this.italic=sibling.italic;return true};symbolNode.prototype.toNode=function(){var node=document.createTextNode(this.value);var span=null;if(this.italic>0){span=document.createElement("span");span.style.marginRight=this.italic+"em"}if(this.classes.length>0){span=span||document.createElement("span");span.className=createClass(this.classes)}for(var style in this.style){if(this.style.hasOwnProperty(style)){span=span||document.createElement("span");span.style[style]=this.style[style]}}if(span){span.appendChild(node);return span}else{return node}};symbolNode.prototype.toMarkup=function(){var needsSpan=false;var markup="<span";if(this.classes.length){needsSpan=true;markup+=' class="';markup+=utils.escape(createClass(this.classes));markup+='"'}var styles="";if(this.italic>0){styles+="margin-right:"+this.italic+"em;"}for(var style in this.style){if(this.style.hasOwnProperty(style)){styles+=utils.hyphenate(style)+":"+this.style[style]+";"}}if(styles){needsSpan=true;markup+=' style="'+utils.escape(styles)+'"'}var escaped=utils.escape(this.value);if(needsSpan){markup+=">";markup+=escaped;markup+="</span>";return markup}else{return escaped}};module.exports={span:span,documentFragment:documentFragment,symbolNode:symbolNode}},{"./unicodeRegexes":32,"./utils":33}],24:[function(require,module,exports){var parseData=require("./parseData");var ParseError=require("./ParseError");var Style=require("./Style");var ParseNode=parseData.ParseNode;function parseArray(parser,result){var row=[];var body=[row];var rowGaps=[];while(true){var cell=parser.parseExpression(false,null);row.push(new ParseNode("ordgroup",cell,parser.mode));var next=parser.nextToken.text;if(next==="&"){parser.consume()}else if(next==="\\end"){break}else if(next==="\\\\"||next==="\\cr"){var cr=parser.parseFunction();rowGaps.push(cr.value.size);row=[];body.push(row)}else{throw new ParseError("Expected & or \\\\ or \\end",parser.nextToken)}}result.body=body;result.rowGaps=rowGaps;return new ParseNode(result.type,result,parser.mode)}function defineEnvironment(names,props,handler){if(typeof names==="string"){names=[names]}if(typeof props==="number"){props={numArgs:props}}var data={numArgs:props.numArgs||0,argTypes:props.argTypes,greediness:1,allowedInText:!!props.allowedInText,numOptionalArgs:props.numOptionalArgs||0,handler:handler};for(var i=0;i<names.length;++i){module.exports[names[i]]=data}}defineEnvironment("array",{numArgs:1},function(context,args){var colalign=args[0];colalign=colalign.value.map?colalign.value:[colalign];var cols=colalign.map(function(node){var ca=node.value;if("lcr".indexOf(ca)!==-1){return{type:"align",align:ca}}else if(ca==="|"){return{type:"separator",separator:"|"}}throw new ParseError("Unknown column alignment: "+node.value,node)});var res={type:"array",cols:cols,hskipBeforeAndAfter:true};res=parseArray(context.parser,res);return res});defineEnvironment(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],{},function(context){var delimiters={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[context.envName];var res={type:"array",hskipBeforeAndAfter:false};res=parseArray(context.parser,res);if(delimiters){res=new ParseNode("leftright",{body:[res],left:delimiters[0],right:delimiters[1]},context.mode)}return res});defineEnvironment("cases",{},function(context){var res={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:Style.TEXT.metrics.quad},{type:"align",align:"l",pregap:0,postgap:0}]};res=parseArray(context.parser,res);res=new ParseNode("leftright",{body:[res],left:"\\{",right:"."},context.mode);return res});defineEnvironment("aligned",{},function(context){var res={type:"array",cols:[]};res=parseArray(context.parser,res);var emptyGroup=new ParseNode("ordgroup",[],context.mode);var numCols=0;res.value.body.forEach(function(row){var i;for(i=1;i<row.length;i+=2){row[i].value.unshift(emptyGroup)}if(numCols<row.length){numCols=row.length}});for(var i=0;i<numCols;++i){var align="r";var pregap=0;if(i%2===1){align="l"}else if(i>0){pregap=2}res.value.cols[i]={type:"align",align:align,pregap:pregap,postgap:0}}return res})},{"./ParseError":14,"./Style":17,"./parseData":29}],25:[function(require,module,exports){var Style=require("./Style");var cjkRegex=require("./unicodeRegexes").cjkRegex;var sigmas={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],
supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]};var xi1=0;var xi2=0;var xi3=0;var xi4=0;var xi5=.431;var xi6=1;var xi7=0;var xi8=.04;var xi9=.111;var xi10=.166;var xi11=.2;var xi12=.6;var xi13=.1;var ptPerEm=10;var doubleRuleSep=2/ptPerEm;var metrics={defaultRuleThickness:xi8,bigOpSpacing1:xi9,bigOpSpacing2:xi10,bigOpSpacing3:xi11,bigOpSpacing4:xi12,bigOpSpacing5:xi13,ptPerEm:ptPerEm,doubleRuleSep:doubleRuleSep};var metricMap=require("./fontMetricsData");var extraCharacterMap={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"A","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"o","ß":"B","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"a","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"o","ÿ":"y","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};var getCharacterMetrics=function(character,style){var ch=character.charCodeAt(0);if(character[0]in extraCharacterMap){ch=extraCharacterMap[character[0]].charCodeAt(0)}else if(cjkRegex.test(character[0])){ch="M".charCodeAt(0)}var metrics=metricMap[style][ch];if(metrics){return{depth:metrics[0],height:metrics[1],italic:metrics[2],skew:metrics[3],width:metrics[4]}}};module.exports={metrics:metrics,sigmas:sigmas,getCharacterMetrics:getCharacterMetrics}},{"./Style":17,"./fontMetricsData":26,"./unicodeRegexes":32}],26:[function(require,module,exports){module.exports={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],
969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}}},{}],27:[function(require,module,exports){var utils=require("./utils");var ParseError=require("./ParseError");var parseData=require("./parseData");var ParseNode=parseData.ParseNode;function defineFunction(names,props,handler){if(typeof names==="string"){names=[names]}if(typeof props==="number"){props={numArgs:props}}var data={numArgs:props.numArgs,argTypes:props.argTypes,greediness:props.greediness===undefined?1:props.greediness,allowedInText:!!props.allowedInText,numOptionalArgs:props.numOptionalArgs||0,infix:!!props.infix,handler:handler};for(var i=0;i<names.length;++i){module.exports[names[i]]=data}}var ordargument=function(arg){if(arg.type==="ordgroup"){return arg.value}else{return[arg]}};defineFunction("\\sqrt",{numArgs:1,numOptionalArgs:1},function(context,args){var index=args[0];var body=args[1];return{type:"sqrt",body:body,index:index}});var textFunctionStyles={"\\text":undefined,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};defineFunction(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{numArgs:1,argTypes:["text"],greediness:2,allowedInText:true},function(context,args){var body=args[0];return{type:"text",body:ordargument(body),style:textFunctionStyles[context.funcName]}});defineFunction("\\color",{numArgs:2,allowedInText:true,greediness:3,argTypes:["color","original"]},function(context,args){var color=args[0];var body=args[1];return{type:"color",color:color.value,value:ordargument(body)}});defineFunction("\\overline",{numArgs:1},function(context,args){var body=args[0];return{type:"overline",body:body}});defineFunction("\\underline",{numArgs:1},function(context,args){var body=args[0];return{type:"underline",body:body}});defineFunction("\\rule",{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(context,args){var shift=args[0];var width=args[1];var height=args[2];return{type:"rule",shift:shift&&shift.value,width:width.value,height:height.value}});defineFunction(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(context,args){return{type:"kern",dimension:args[0].value}});defineFunction("\\KaTeX",{numArgs:0},function(context){return{type:"katex"}});defineFunction("\\phantom",{numArgs:1},function(context,args){var body=args[0];return{type:"phantom",value:ordargument(body)}});defineFunction(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(context,args){var body=args[0];return{type:"mclass",mclass:"m"+context.funcName.substr(5),value:ordargument(body)}});defineFunction("\\stackrel",{numArgs:2},function(context,args){var top=args[0];var bottom=args[1];var bottomop=new ParseNode("op",{type:"op",limits:true,alwaysHandleSupSub:true,symbol:false,value:ordargument(bottom)},bottom.mode);var supsub=new ParseNode("supsub",{base:bottomop,sup:top,sub:null},top.mode);return{type:"mclass",mclass:"mrel",value:[supsub]}});defineFunction("\\bmod",{numArgs:0},function(context,args){return{type:"mod",modType:"bmod",value:null}});defineFunction(["\\pod","\\pmod","\\mod"],{numArgs:1},function(context,args){var body=args[0];return{type:"mod",modType:context.funcName.substr(1),value:ordargument(body)}});var delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};var delimiters=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];var fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};defineFunction(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:true,greediness:3},function(context,args){var body=args[0];return{type:"color",color:"katex-"+context.funcName.slice(1),value:ordargument(body)}});defineFunction(["\\arcsin","\\arccos","\\arctan","\\arg","\\cos","\\cosh","\\cot","\\coth","\\csc","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\tan","\\tanh"],{numArgs:0},function(context){return{type:"op",limits:false,symbol:false,body:context.funcName}});defineFunction(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(context){return{type:"op",limits:true,symbol:false,body:context.funcName}});defineFunction(["\\int","\\iint","\\iiint","\\oint"],{numArgs:0},function(context){return{type:"op",limits:false,symbol:true,body:context.funcName}});defineFunction(["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],{numArgs:0},function(context){return{type:"op",limits:true,symbol:true,body:context.funcName}});defineFunction("\\mathop",{numArgs:1},function(context,args){var body=args[0];return{type:"op",limits:false,symbol:false,value:ordargument(body)}});defineFunction(["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],{numArgs:2,greediness:2},function(context,args){var numer=args[0];var denom=args[1];var hasBarLine;var leftDelim=null;var rightDelim=null;var size="auto";switch(context.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":hasBarLine=true;break;case"\\\\atopfrac":hasBarLine=false;break;case"\\dbinom":case"\\binom":case"\\tbinom":hasBarLine=false;leftDelim="(";rightDelim=")";break;default:throw new Error("Unrecognized genfrac command")}switch(context.funcName){case"\\dfrac":case"\\dbinom":size="display";break;case"\\tfrac":case"\\tbinom":size="text";break}return{type:"genfrac",numer:numer,denom:denom,hasBarLine:hasBarLine,leftDelim:leftDelim,rightDelim:rightDelim,size:size}});defineFunction(["\\llap","\\rlap"],{numArgs:1,allowedInText:true},function(context,args){var body=args[0];return{type:context.funcName.slice(1),body:body}});var checkDelimiter=function(delim,context){if(utils.contains(delimiters,delim.value)){return delim}else{throw new ParseError("Invalid delimiter: '"+delim.value+"' after '"+context.funcName+"'",delim)}};defineFunction(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],{numArgs:1},function(context,args){var delim=checkDelimiter(args[0],context);return{type:"delimsizing",size:delimiterSizes[context.funcName].size,mclass:delimiterSizes[context.funcName].mclass,value:delim.value}});defineFunction(["\\left","\\right"],{numArgs:1},function(context,args){var delim=checkDelimiter(args[0],context);return{type:"leftright",value:delim.value}});defineFunction("\\middle",{numArgs:1},function(context,args){var delim=checkDelimiter(args[0],context);if(!context.parser.leftrightDepth){throw new ParseError("\\middle without preceding \\left",delim)}return{type:"middle",value:delim.value}});defineFunction(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],0,null);defineFunction(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],0,null);defineFunction(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(context,args){var body=args[0];var func=context.funcName;if(func in fontAliases){func=fontAliases[func]}return{type:"font",font:func.slice(1),body:body}});defineFunction(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],{numArgs:1},function(context,args){var base=args[0];return{type:"accent",accent:context.funcName,base:base}});defineFunction(["\\over","\\choose","\\atop"],{numArgs:0,infix:true},function(context){var replaceWith;switch(context.funcName){case"\\over":replaceWith="\\frac";break;case"\\choose":replaceWith="\\binom";break;case"\\atop":replaceWith="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:replaceWith,token:context.token}});defineFunction(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(context,args){var size=args[0];return{type:"cr",size:size}});defineFunction(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(context,args){var nameGroup=args[0];if(nameGroup.type!=="ordgroup"){throw new ParseError("Invalid environment name",nameGroup)}var name="";for(var i=0;i<nameGroup.value.length;++i){name+=nameGroup.value[i].value}return{type:"environment",name:name,nameGroup:nameGroup}})},{"./ParseError":14,"./parseData":29,"./utils":33}],28:[function(require,module,exports){var utils=require("./utils");function MathNode(type,children){this.type=type;this.attributes={};this.children=children||[]}MathNode.prototype.setAttribute=function(name,value){this.attributes[name]=value};MathNode.prototype.toNode=function(){var node=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var attr in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,attr)){node.setAttribute(attr,this.attributes[attr])}}for(var i=0;i<this.children.length;i++){node.appendChild(this.children[i].toNode())}return node};MathNode.prototype.toMarkup=function(){var markup="<"+this.type;for(var attr in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,attr)){markup+=" "+attr+'="';markup+=utils.escape(this.attributes[attr]);markup+='"'}}markup+=">";for(var i=0;i<this.children.length;i++){markup+=this.children[i].toMarkup()}markup+="</"+this.type+">";return markup};function TextNode(text){this.text=text}TextNode.prototype.toNode=function(){return document.createTextNode(this.text)};TextNode.prototype.toMarkup=function(){return utils.escape(this.text)};module.exports={MathNode:MathNode,TextNode:TextNode}},{"./utils":33}],29:[function(require,module,exports){function ParseNode(type,value,mode,firstToken,lastToken){this.type=type;this.value=value;this.mode=mode;if(firstToken&&(!lastToken||lastToken.lexer===firstToken.lexer)){this.lexer=firstToken.lexer;this.start=firstToken.start;this.end=(lastToken||firstToken).end}}module.exports={ParseNode:ParseNode}},{}],30:[function(require,module,exports){var Parser=require("./Parser");var parseTree=function(toParse,settings){if(!(typeof toParse==="string"||toParse instanceof String)){throw new TypeError("KaTeX can only parse string typed expression")}var parser=new Parser(toParse,settings);return parser.parse()};module.exports=parseTree},{"./Parser":15}],31:[function(require,module,exports){module.exports={math:{},text:{}};function defineSymbol(mode,font,group,replace,name){module.exports[mode][name]={font:font,group:group,replace:replace}}var math="math";var text="text";var main="main";var ams="ams";var accent="accent";var bin="bin";var close="close";var inner="inner";var mathord="mathord";var op="op";var open="open";var punct="punct";var rel="rel";var spacing="spacing";var textord="textord";defineSymbol(math,main,rel,"≡","\\equiv");defineSymbol(math,main,rel,"≺","\\prec");defineSymbol(math,main,rel,"≻","\\succ");defineSymbol(math,main,rel,"∼","\\sim");defineSymbol(math,main,rel,"⊥","\\perp");defineSymbol(math,main,rel,"⪯","\\preceq");defineSymbol(math,main,rel,"⪰","\\succeq");defineSymbol(math,main,rel,"≃","\\simeq");defineSymbol(math,main,rel,"∣","\\mid");defineSymbol(math,main,rel,"≪","\\ll");defineSymbol(math,main,rel,"≫","\\gg");defineSymbol(math,main,rel,"≍","\\asymp");defineSymbol(math,main,rel,"∥","\\parallel");defineSymbol(math,main,rel,"⋈","\\bowtie");defineSymbol(math,main,rel,"⌣","\\smile");defineSymbol(math,main,rel,"⊑","\\sqsubseteq");defineSymbol(math,main,rel,"⊒","\\sqsupseteq");defineSymbol(math,main,rel,"≐","\\doteq");defineSymbol(math,main,rel,"⌢","\\frown");defineSymbol(math,main,rel,"∋","\\ni");defineSymbol(math,main,rel,"∝","\\propto");defineSymbol(math,main,rel,"⊢","\\vdash");defineSymbol(math,main,rel,"⊣","\\dashv");defineSymbol(math,main,rel,"∋","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"⋅","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text,main,textord,"&","\\&");defineSymbol(math,main,textord,"ℵ","\\aleph");defineSymbol(math,main,textord,"∀","\\forall");defineSymbol(math,main,textord,"ℏ","\\hbar");defineSymbol(math,main,textord,"∃","\\exists");defineSymbol(math,main,textord,"∇","\\nabla");defineSymbol(math,main,textord,"♭","\\flat");defineSymbol(math,main,textord,"ℓ","\\ell");defineSymbol(math,main,textord,"♮","\\natural");defineSymbol(math,main,textord,"♣","\\clubsuit");defineSymbol(math,main,textord,"℘","\\wp");defineSymbol(math,main,textord,"♯","\\sharp");defineSymbol(math,main,textord,"♢","\\diamondsuit");defineSymbol(math,main,textord,"ℜ","\\Re");defineSymbol(math,main,textord,"♡","\\heartsuit");defineSymbol(math,main,textord,"ℑ","\\Im");defineSymbol(math,main,textord,"♠","\\spadesuit");defineSymbol(math,main,textord,"†","\\dag");defineSymbol(math,main,textord,"‡","\\ddag");defineSymbol(math,main,close,"⎱","\\rmoustache");defineSymbol(math,main,open,"⎰","\\lmoustache");defineSymbol(math,main,close,"⟯","\\rgroup");defineSymbol(math,main,open,"⟮","\\lgroup");defineSymbol(math,main,bin,"∓","\\mp");defineSymbol(math,main,bin,"⊖","\\ominus");defineSymbol(math,main,bin,"⊎","\\uplus");defineSymbol(math,main,bin,"⊓","\\sqcap");defineSymbol(math,main,bin,"∗","\\ast");defineSymbol(math,main,bin,"⊔","\\sqcup");defineSymbol(math,main,bin,"◯","\\bigcirc");defineSymbol(math,main,bin,"∙","\\bullet");defineSymbol(math,main,bin,"‡","\\ddagger");defineSymbol(math,main,bin,"≀","\\wr");defineSymbol(math,main,bin,"⨿","\\amalg");defineSymbol(math,main,rel,"⟵","\\longleftarrow");defineSymbol(math,main,rel,"⇐","\\Leftarrow");defineSymbol(math,main,rel,"⟸","\\Longleftarrow");defineSymbol(math,main,rel,"⟶","\\longrightarrow");defineSymbol(math,main,rel,"⇒","\\Rightarrow");defineSymbol(math,main,rel,"⟹","\\Longrightarrow");defineSymbol(math,main,rel,"↔","\\leftrightarrow");defineSymbol(math,main,rel,"⟷","\\longleftrightarrow");defineSymbol(math,main,rel,"⇔","\\Leftrightarrow");defineSymbol(math,main,rel,"⟺","\\Longleftrightarrow");defineSymbol(math,main,rel,"↦","\\mapsto");defineSymbol(math,main,rel,"⟼","\\longmapsto");defineSymbol(math,main,rel,"↗","\\nearrow");defineSymbol(math,main,rel,"↩","\\hookleftarrow");defineSymbol(math,main,rel,"↪","\\hookrightarrow");defineSymbol(math,main,rel,"↘","\\searrow");defineSymbol(math,main,rel,"↼","\\leftharpoonup");defineSymbol(math,main,rel,"⇀","\\rightharpoonup");defineSymbol(math,main,rel,"↙","\\swarrow");defineSymbol(math,main,rel,"↽","\\leftharpoondown");defineSymbol(math,main,rel,"⇁","\\rightharpoondown");defineSymbol(math,main,rel,"↖","\\nwarrow");defineSymbol(math,main,rel,"⇌","\\rightleftharpoons");defineSymbol(math,ams,rel,"≮","\\nless");defineSymbol(math,ams,rel,"","\\nleqslant");defineSymbol(math,ams,rel,"","\\nleqq");defineSymbol(math,ams,rel,"⪇","\\lneq");defineSymbol(math,ams,rel,"≨","\\lneqq");defineSymbol(math,ams,rel,"","\\lvertneqq");defineSymbol(math,ams,rel,"⋦","\\lnsim");defineSymbol(math,ams,rel,"⪉","\\lnapprox");defineSymbol(math,ams,rel,"⊀","\\nprec");defineSymbol(math,ams,rel,"⋠","\\npreceq");defineSymbol(math,ams,rel,"⋨","\\precnsim");defineSymbol(math,ams,rel,"⪹","\\precnapprox");defineSymbol(math,ams,rel,"≁","\\nsim");defineSymbol(math,ams,rel,"","\\nshortmid");defineSymbol(math,ams,rel,"∤","\\nmid");defineSymbol(math,ams,rel,"⊬","\\nvdash");defineSymbol(math,ams,rel,"⊭","\\nvDash");defineSymbol(math,ams,rel,"⋪","\\ntriangleleft");defineSymbol(math,ams,rel,"⋬","\\ntrianglelefteq");defineSymbol(math,ams,rel,"⊊","\\subsetneq");defineSymbol(math,ams,rel,"","\\varsubsetneq");defineSymbol(math,ams,rel,"⫋","\\subsetneqq");defineSymbol(math,ams,rel,"","\\varsubsetneqq");defineSymbol(math,ams,rel,"≯","\\ngtr");defineSymbol(math,ams,rel,"","\\ngeqslant");defineSymbol(math,ams,rel,"","\\ngeqq");defineSymbol(math,ams,rel,"⪈","\\gneq");defineSymbol(math,ams,rel,"≩","\\gneqq");defineSymbol(math,ams,rel,"","\\gvertneqq");defineSymbol(math,ams,rel,"⋧","\\gnsim");defineSymbol(math,ams,rel,"⪊","\\gnapprox");defineSymbol(math,ams,rel,"⊁","\\nsucc");defineSymbol(math,ams,rel,"⋡","\\nsucceq");defineSymbol(math,ams,rel,"⋩","\\succnsim");defineSymbol(math,ams,rel,"⪺","\\succnapprox");defineSymbol(math,ams,rel,"≆","\\ncong");defineSymbol(math,ams,rel,"","\\nshortparallel");defineSymbol(math,ams,rel,"∦","\\nparallel");defineSymbol(math,ams,rel,"⊯","\\nVDash");defineSymbol(math,ams,rel,"⋫","\\ntriangleright");defineSymbol(math,ams,rel,"⋭","\\ntrianglerighteq");defineSymbol(math,ams,rel,"","\\nsupseteqq");defineSymbol(math,ams,rel,"⊋","\\supsetneq");defineSymbol(math,ams,rel,"","\\varsupsetneq");defineSymbol(math,ams,rel,"⫌","\\supsetneqq");defineSymbol(math,ams,rel,"","\\varsupsetneqq");defineSymbol(math,ams,rel,"⊮","\\nVdash");defineSymbol(math,ams,rel,"⪵","\\precneqq");defineSymbol(math,ams,rel,"⪶","\\succneqq");defineSymbol(math,ams,rel,"","\\nsubseteqq");defineSymbol(math,ams,bin,"⊴","\\unlhd");defineSymbol(math,ams,bin,"⊵","\\unrhd");defineSymbol(math,ams,rel,"↚","\\nleftarrow");defineSymbol(math,ams,rel,"↛","\\nrightarrow");defineSymbol(math,ams,rel,"⇍","\\nLeftarrow");defineSymbol(math,ams,rel,"⇏","\\nRightarrow");defineSymbol(math,ams,rel,"↮","\\nleftrightarrow");defineSymbol(math,ams,rel,"⇎","\\nLeftrightarrow");defineSymbol(math,ams,rel,"△","\\vartriangle");defineSymbol(math,ams,textord,"ℏ","\\hslash");defineSymbol(math,ams,textord,"▽","\\triangledown");defineSymbol(math,ams,textord,"◊","\\lozenge");defineSymbol(math,ams,textord,"Ⓢ","\\circledS");defineSymbol(math,ams,textord,"®","\\circledR");defineSymbol(math,ams,textord,"∡","\\measuredangle");defineSymbol(math,ams,textord,"∄","\\nexists");defineSymbol(math,ams,textord,"℧","\\mho");defineSymbol(math,ams,textord,"Ⅎ","\\Finv");defineSymbol(math,ams,textord,"⅁","\\Game");defineSymbol(math,ams,textord,"k","\\Bbbk");defineSymbol(math,ams,textord,"‵","\\backprime");defineSymbol(math,ams,textord,"▲","\\blacktriangle");defineSymbol(math,ams,textord,"▼","\\blacktriangledown");defineSymbol(math,ams,textord,"■","\\blacksquare");defineSymbol(math,ams,textord,"⧫","\\blacklozenge");defineSymbol(math,ams,textord,"★","\\bigstar");defineSymbol(math,ams,textord,"∢","\\sphericalangle");defineSymbol(math,ams,textord,"∁","\\complement");defineSymbol(math,ams,textord,"ð","\\eth");defineSymbol(math,ams,textord,"╱","\\diagup");defineSymbol(math,ams,textord,"╲","\\diagdown");defineSymbol(math,ams,textord,"□","\\square");defineSymbol(math,ams,textord,"□","\\Box");defineSymbol(math,ams,textord,"◊","\\Diamond");defineSymbol(math,ams,textord,"¥","\\yen");defineSymbol(math,ams,textord,"✓","\\checkmark");defineSymbol(math,ams,textord,"ℶ","\\beth");defineSymbol(math,ams,textord,"ℸ","\\daleth");defineSymbol(math,ams,textord,"ℷ","\\gimel");defineSymbol(math,ams,textord,"ϝ","\\digamma");defineSymbol(math,ams,textord,"ϰ","\\varkappa");defineSymbol(math,ams,open,"┌","\\ulcorner");defineSymbol(math,ams,close,"┐","\\urcorner");defineSymbol(math,ams,open,"└","\\llcorner");defineSymbol(math,ams,close,"┘","\\lrcorner");defineSymbol(math,ams,rel,"≦","\\leqq");defineSymbol(math,ams,rel,"⩽","\\leqslant");defineSymbol(math,ams,rel,"⪕","\\eqslantless");defineSymbol(math,ams,rel,"≲","\\lesssim");defineSymbol(math,ams,rel,"⪅","\\lessapprox");defineSymbol(math,ams,rel,"≊","\\approxeq");defineSymbol(math,ams,bin,"⋖","\\lessdot");defineSymbol(math,ams,rel,"⋘","\\lll");defineSymbol(math,ams,rel,"≶","\\lessgtr");defineSymbol(math,ams,rel,"⋚","\\lesseqgtr");defineSymbol(math,ams,rel,"⪋","\\lesseqqgtr");defineSymbol(math,ams,rel,"≑","\\doteqdot");defineSymbol(math,ams,rel,"≓","\\risingdotseq");defineSymbol(math,ams,rel,"≒","\\fallingdotseq");defineSymbol(math,ams,rel,"∽","\\backsim");defineSymbol(math,ams,rel,"⋍","\\backsimeq");defineSymbol(math,ams,rel,"⫅","\\subseteqq");defineSymbol(math,ams,rel,"⋐","\\Subset");defineSymbol(math,ams,rel,"⊏","\\sqsubset");defineSymbol(math,ams,rel,"≼","\\preccurlyeq");defineSymbol(math,ams,rel,"⋞","\\curlyeqprec");defineSymbol(math,ams,rel,"≾","\\precsim");defineSymbol(math,ams,rel,"⪷","\\precapprox");defineSymbol(math,ams,rel,"⊲","\\vartriangleleft");defineSymbol(math,ams,rel,"⊴","\\trianglelefteq");defineSymbol(math,ams,rel,"⊨","\\vDash");defineSymbol(math,ams,rel,"⊪","\\Vvdash");defineSymbol(math,ams,rel,"⌣","\\smallsmile");defineSymbol(math,ams,rel,"⌢","\\smallfrown");defineSymbol(math,ams,rel,"≏","\\bumpeq");defineSymbol(math,ams,rel,"≎","\\Bumpeq");defineSymbol(math,ams,rel,"≧","\\geqq");defineSymbol(math,ams,rel,"⩾","\\geqslant");defineSymbol(math,ams,rel,"⪖","\\eqslantgtr");defineSymbol(math,ams,rel,"≳","\\gtrsim");defineSymbol(math,ams,rel,"⪆","\\gtrapprox");defineSymbol(math,ams,bin,"⋗","\\gtrdot");defineSymbol(math,ams,rel,"⋙","\\ggg");defineSymbol(math,ams,rel,"≷","\\gtrless");defineSymbol(math,ams,rel,"⋛","\\gtreqless");defineSymbol(math,ams,rel,"⪌","\\gtreqqless");defineSymbol(math,ams,rel,"≖","\\eqcirc");defineSymbol(math,ams,rel,"≗","\\circeq");defineSymbol(math,ams,rel,"≜","\\triangleq");defineSymbol(math,ams,rel,"∼","\\thicksim");defineSymbol(math,ams,rel,"≈","\\thickapprox");defineSymbol(math,ams,rel,"⫆","\\supseteqq");defineSymbol(math,ams,rel,"⋑","\\Supset");defineSymbol(math,ams,rel,"⊐","\\sqsupset");defineSymbol(math,ams,rel,"≽","\\succcurlyeq");defineSymbol(math,ams,rel,"⋟","\\curlyeqsucc");defineSymbol(math,ams,rel,"≿","\\succsim");defineSymbol(math,ams,rel,"⪸","\\succapprox");defineSymbol(math,ams,rel,"⊳","\\vartriangleright");defineSymbol(math,ams,rel,"⊵","\\trianglerighteq");defineSymbol(math,ams,rel,"⊩","\\Vdash");defineSymbol(math,ams,rel,"∣","\\shortmid");defineSymbol(math,ams,rel,"∥","\\shortparallel");defineSymbol(math,ams,rel,"≬","\\between");defineSymbol(math,ams,rel,"⋔","\\pitchfork");defineSymbol(math,ams,rel,"∝","\\varpropto");defineSymbol(math,ams,rel,"◀","\\blacktriangleleft");defineSymbol(math,ams,rel,"∴","\\therefore");defineSymbol(math,ams,rel,"∍","\\backepsilon");defineSymbol(math,ams,rel,"▶","\\blacktriangleright");defineSymbol(math,ams,rel,"∵","\\because");defineSymbol(math,ams,rel,"⋘","\\llless");defineSymbol(math,ams,rel,"⋙","\\gggtr");defineSymbol(math,ams,bin,"⊲","\\lhd");defineSymbol(math,ams,bin,"⊳","\\rhd");defineSymbol(math,ams,rel,"≂","\\eqsim");defineSymbol(math,main,rel,"⋈","\\Join");

defineSymbol(math,ams,rel,"≑","\\Doteq");defineSymbol(math,ams,bin,"∔","\\dotplus");defineSymbol(math,ams,bin,"∖","\\smallsetminus");defineSymbol(math,ams,bin,"⋒","\\Cap");defineSymbol(math,ams,bin,"⋓","\\Cup");defineSymbol(math,ams,bin,"⩞","\\doublebarwedge");defineSymbol(math,ams,bin,"⊟","\\boxminus");defineSymbol(math,ams,bin,"⊞","\\boxplus");defineSymbol(math,ams,bin,"⋇","\\divideontimes");defineSymbol(math,ams,bin,"⋉","\\ltimes");defineSymbol(math,ams,bin,"⋊","\\rtimes");defineSymbol(math,ams,bin,"⋋","\\leftthreetimes");defineSymbol(math,ams,bin,"⋌","\\rightthreetimes");defineSymbol(math,ams,bin,"⋏","\\curlywedge");defineSymbol(math,ams,bin,"⋎","\\curlyvee");defineSymbol(math,ams,bin,"⊝","\\circleddash");defineSymbol(math,ams,bin,"⊛","\\circledast");defineSymbol(math,ams,bin,"⋅","\\centerdot");defineSymbol(math,ams,bin,"⊺","\\intercal");defineSymbol(math,ams,bin,"⋒","\\doublecap");defineSymbol(math,ams,bin,"⋓","\\doublecup");defineSymbol(math,ams,bin,"⊠","\\boxtimes");defineSymbol(math,ams,rel,"⇢","\\dashrightarrow");defineSymbol(math,ams,rel,"⇠","\\dashleftarrow");defineSymbol(math,ams,rel,"⇇","\\leftleftarrows");defineSymbol(math,ams,rel,"⇆","\\leftrightarrows");defineSymbol(math,ams,rel,"⇚","\\Lleftarrow");defineSymbol(math,ams,rel,"↞","\\twoheadleftarrow");defineSymbol(math,ams,rel,"↢","\\leftarrowtail");defineSymbol(math,ams,rel,"↫","\\looparrowleft");defineSymbol(math,ams,rel,"⇋","\\leftrightharpoons");defineSymbol(math,ams,rel,"↶","\\curvearrowleft");defineSymbol(math,ams,rel,"↺","\\circlearrowleft");defineSymbol(math,ams,rel,"↰","\\Lsh");defineSymbol(math,ams,rel,"⇈","\\upuparrows");defineSymbol(math,ams,rel,"↿","\\upharpoonleft");defineSymbol(math,ams,rel,"⇃","\\downharpoonleft");defineSymbol(math,ams,rel,"⊸","\\multimap");defineSymbol(math,ams,rel,"↭","\\leftrightsquigarrow");defineSymbol(math,ams,rel,"⇉","\\rightrightarrows");defineSymbol(math,ams,rel,"⇄","\\rightleftarrows");defineSymbol(math,ams,rel,"↠","\\twoheadrightarrow");defineSymbol(math,ams,rel,"↣","\\rightarrowtail");defineSymbol(math,ams,rel,"↬","\\looparrowright");defineSymbol(math,ams,rel,"↷","\\curvearrowright");defineSymbol(math,ams,rel,"↻","\\circlearrowright");defineSymbol(math,ams,rel,"↱","\\Rsh");defineSymbol(math,ams,rel,"⇊","\\downdownarrows");defineSymbol(math,ams,rel,"↾","\\upharpoonright");defineSymbol(math,ams,rel,"⇂","\\downharpoonright");defineSymbol(math,ams,rel,"⇝","\\rightsquigarrow");defineSymbol(math,ams,rel,"⇝","\\leadsto");defineSymbol(math,ams,rel,"⇛","\\Rrightarrow");defineSymbol(math,ams,rel,"↾","\\restriction");defineSymbol(math,main,textord,"‘","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\$");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\_");defineSymbol(math,main,textord,"∠","\\angle");defineSymbol(math,main,textord,"∞","\\infty");defineSymbol(math,main,textord,"′","\\prime");defineSymbol(math,main,textord,"△","\\triangle");defineSymbol(math,main,textord,"Γ","\\Gamma");defineSymbol(math,main,textord,"Δ","\\Delta");defineSymbol(math,main,textord,"Θ","\\Theta");defineSymbol(math,main,textord,"Λ","\\Lambda");defineSymbol(math,main,textord,"Ξ","\\Xi");defineSymbol(math,main,textord,"Π","\\Pi");defineSymbol(math,main,textord,"Σ","\\Sigma");defineSymbol(math,main,textord,"Υ","\\Upsilon");defineSymbol(math,main,textord,"Φ","\\Phi");defineSymbol(math,main,textord,"Ψ","\\Psi");defineSymbol(math,main,textord,"Ω","\\Omega");defineSymbol(math,main,textord,"¬","\\neg");defineSymbol(math,main,textord,"¬","\\lnot");defineSymbol(math,main,textord,"⊤","\\top");defineSymbol(math,main,textord,"⊥","\\bot");defineSymbol(math,main,textord,"∅","\\emptyset");defineSymbol(math,ams,textord,"∅","\\varnothing");defineSymbol(math,main,mathord,"α","\\alpha");defineSymbol(math,main,mathord,"β","\\beta");defineSymbol(math,main,mathord,"γ","\\gamma");defineSymbol(math,main,mathord,"δ","\\delta");defineSymbol(math,main,mathord,"ϵ","\\epsilon");defineSymbol(math,main,mathord,"ζ","\\zeta");defineSymbol(math,main,mathord,"η","\\eta");defineSymbol(math,main,mathord,"θ","\\theta");defineSymbol(math,main,mathord,"ι","\\iota");defineSymbol(math,main,mathord,"κ","\\kappa");defineSymbol(math,main,mathord,"λ","\\lambda");defineSymbol(math,main,mathord,"μ","\\mu");defineSymbol(math,main,mathord,"ν","\\nu");defineSymbol(math,main,mathord,"ξ","\\xi");defineSymbol(math,main,mathord,"o","\\omicron");defineSymbol(math,main,mathord,"π","\\pi");defineSymbol(math,main,mathord,"ρ","\\rho");defineSymbol(math,main,mathord,"σ","\\sigma");defineSymbol(math,main,mathord,"τ","\\tau");defineSymbol(math,main,mathord,"υ","\\upsilon");defineSymbol(math,main,mathord,"ϕ","\\phi");defineSymbol(math,main,mathord,"χ","\\chi");defineSymbol(math,main,mathord,"ψ","\\psi");defineSymbol(math,main,mathord,"ω","\\omega");defineSymbol(math,main,mathord,"ε","\\varepsilon");defineSymbol(math,main,mathord,"ϑ","\\vartheta");defineSymbol(math,main,mathord,"ϖ","\\varpi");defineSymbol(math,main,mathord,"ϱ","\\varrho");defineSymbol(math,main,mathord,"ς","\\varsigma");defineSymbol(math,main,mathord,"φ","\\varphi");defineSymbol(math,main,bin,"∗","*");defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"−","-");defineSymbol(math,main,bin,"⋅","\\cdot");defineSymbol(math,main,bin,"∘","\\circ");defineSymbol(math,main,bin,"÷","\\div");defineSymbol(math,main,bin,"±","\\pm");defineSymbol(math,main,bin,"×","\\times");defineSymbol(math,main,bin,"∩","\\cap");defineSymbol(math,main,bin,"∪","\\cup");defineSymbol(math,main,bin,"∖","\\setminus");defineSymbol(math,main,bin,"∧","\\land");defineSymbol(math,main,bin,"∨","\\lor");defineSymbol(math,main,bin,"∧","\\wedge");defineSymbol(math,main,bin,"∨","\\vee");defineSymbol(math,main,textord,"√","\\surd");defineSymbol(math,main,open,"(","(");defineSymbol(math,main,open,"[","[");defineSymbol(math,main,open,"⟨","\\langle");defineSymbol(math,main,open,"∣","\\lvert");defineSymbol(math,main,open,"∥","\\lVert");defineSymbol(math,main,close,")",")");defineSymbol(math,main,close,"]","]");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"⟩","\\rangle");defineSymbol(math,main,close,"∣","\\rvert");defineSymbol(math,main,close,"∥","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,"<","<");defineSymbol(math,main,rel,">",">");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"≈","\\approx");defineSymbol(math,main,rel,"≅","\\cong");defineSymbol(math,main,rel,"≥","\\ge");defineSymbol(math,main,rel,"≥","\\geq");defineSymbol(math,main,rel,"←","\\gets");defineSymbol(math,main,rel,">","\\gt");defineSymbol(math,main,rel,"∈","\\in");defineSymbol(math,main,rel,"∉","\\notin");defineSymbol(math,main,rel,"⊂","\\subset");defineSymbol(math,main,rel,"⊃","\\supset");defineSymbol(math,main,rel,"⊆","\\subseteq");defineSymbol(math,main,rel,"⊇","\\supseteq");defineSymbol(math,ams,rel,"⊈","\\nsubseteq");defineSymbol(math,ams,rel,"⊉","\\nsupseteq");defineSymbol(math,main,rel,"⊨","\\models");defineSymbol(math,main,rel,"←","\\leftarrow");defineSymbol(math,main,rel,"≤","\\le");defineSymbol(math,main,rel,"≤","\\leq");defineSymbol(math,main,rel,"<","\\lt");defineSymbol(math,main,rel,"≠","\\ne");defineSymbol(math,main,rel,"≠","\\neq");defineSymbol(math,main,rel,"→","\\rightarrow");defineSymbol(math,main,rel,"→","\\to");defineSymbol(math,ams,rel,"≱","\\ngeq");defineSymbol(math,ams,rel,"≰","\\nleq");defineSymbol(math,main,spacing,null,"\\!");defineSymbol(math,main,spacing," ","\\ ");defineSymbol(math,main,spacing," ","~");defineSymbol(math,main,spacing,null,"\\,");defineSymbol(math,main,spacing,null,"\\:");defineSymbol(math,main,spacing,null,"\\;");defineSymbol(math,main,spacing,null,"\\enspace");defineSymbol(math,main,spacing,null,"\\qquad");defineSymbol(math,main,spacing,null,"\\quad");defineSymbol(math,main,spacing," ","\\space");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,main,punct,":","\\colon");defineSymbol(math,ams,bin,"⊼","\\barwedge");defineSymbol(math,ams,bin,"⊻","\\veebar");defineSymbol(math,main,bin,"⊙","\\odot");defineSymbol(math,main,bin,"⊕","\\oplus");defineSymbol(math,main,bin,"⊗","\\otimes");defineSymbol(math,main,textord,"∂","\\partial");defineSymbol(math,main,bin,"⊘","\\oslash");defineSymbol(math,ams,bin,"⊚","\\circledcirc");defineSymbol(math,ams,bin,"⊡","\\boxdot");defineSymbol(math,main,bin,"△","\\bigtriangleup");defineSymbol(math,main,bin,"▽","\\bigtriangledown");defineSymbol(math,main,bin,"†","\\dagger");defineSymbol(math,main,bin,"⋄","\\diamond");defineSymbol(math,main,bin,"⋆","\\star");defineSymbol(math,main,bin,"◃","\\triangleleft");defineSymbol(math,main,bin,"▹","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text,main,textord,"{","\\{");defineSymbol(math,main,close,"}","\\}");defineSymbol(text,main,textord,"}","\\}");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack");defineSymbol(math,main,close,"]","\\rbrack");defineSymbol(math,main,open,"⌊","\\lfloor");defineSymbol(math,main,close,"⌋","\\rfloor");defineSymbol(math,main,open,"⌈","\\lceil");defineSymbol(math,main,close,"⌉","\\rceil");defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"∣","|");defineSymbol(math,main,textord,"∣","\\vert");defineSymbol(math,main,textord,"∥","\\|");defineSymbol(math,main,textord,"∥","\\Vert");defineSymbol(math,main,rel,"↑","\\uparrow");defineSymbol(math,main,rel,"⇑","\\Uparrow");defineSymbol(math,main,rel,"↓","\\downarrow");defineSymbol(math,main,rel,"⇓","\\Downarrow");defineSymbol(math,main,rel,"↕","\\updownarrow");defineSymbol(math,main,rel,"⇕","\\Updownarrow");defineSymbol(math,math,op,"∐","\\coprod");defineSymbol(math,math,op,"⋁","\\bigvee");defineSymbol(math,math,op,"⋀","\\bigwedge");defineSymbol(math,math,op,"⨄","\\biguplus");defineSymbol(math,math,op,"⋂","\\bigcap");defineSymbol(math,math,op,"⋃","\\bigcup");defineSymbol(math,math,op,"∫","\\int");defineSymbol(math,math,op,"∫","\\intop");defineSymbol(math,math,op,"∬","\\iint");defineSymbol(math,math,op,"∭","\\iiint");defineSymbol(math,math,op,"∏","\\prod");defineSymbol(math,math,op,"∑","\\sum");defineSymbol(math,math,op,"⨂","\\bigotimes");defineSymbol(math,math,op,"⨁","\\bigoplus");defineSymbol(math,math,op,"⨀","\\bigodot");defineSymbol(math,math,op,"∮","\\oint");defineSymbol(math,math,op,"⨆","\\bigsqcup");defineSymbol(math,math,op,"∫","\\smallint");defineSymbol(text,main,inner,"…","\\textellipsis");defineSymbol(math,main,inner,"…","\\mathellipsis");defineSymbol(text,main,inner,"…","\\ldots");defineSymbol(math,main,inner,"…","\\ldots");defineSymbol(math,main,inner,"⋯","\\cdots");defineSymbol(math,main,inner,"⋱","\\ddots");defineSymbol(math,main,textord,"⋮","\\vdots");defineSymbol(math,main,accent,"´","\\acute");defineSymbol(math,main,accent,"`","\\grave");defineSymbol(math,main,accent,"¨","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"¯","\\bar");defineSymbol(math,main,accent,"˘","\\breve");defineSymbol(math,main,accent,"ˇ","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"⃗","\\vec");defineSymbol(math,main,accent,"˙","\\dot");defineSymbol(math,main,mathord,"ı","\\imath");defineSymbol(math,main,mathord,"ȷ","\\jmath");defineSymbol(text,main,textord,"–","--");defineSymbol(text,main,textord,"—","---");defineSymbol(text,main,textord,"‘","`");defineSymbol(text,main,textord,"’","'");defineSymbol(text,main,textord,"“","``");defineSymbol(text,main,textord,"”","''");defineSymbol(math,main,textord,"°","\\degree");defineSymbol(text,main,textord,"°","\\degree");defineSymbol(math,main,mathord,"£","\\pounds");defineSymbol(math,ams,textord,"✠","\\maltese");defineSymbol(text,ams,textord,"✠","\\maltese");defineSymbol(text,main,spacing," ","\\ ");defineSymbol(text,main,spacing," "," ");defineSymbol(text,main,spacing," ","~");var i;var ch;var mathTextSymbols='0123456789/@."';for(i=0;i<mathTextSymbols.length;i++){ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+[]";:?/.,';for(i=0;i<textSymbols.length;i++){ch=textSymbols.charAt(i);defineSymbol(text,main,textord,ch,ch)}var letters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(i=0;i<letters.length;i++){ch=letters.charAt(i);defineSymbol(math,main,mathord,ch,ch);defineSymbol(text,main,textord,ch,ch)}for(i=192;i<=214;i++){ch=String.fromCharCode(i);defineSymbol(text,main,textord,ch,ch)}for(i=216;i<=246;i++){ch=String.fromCharCode(i);defineSymbol(text,main,textord,ch,ch)}for(i=248;i<=255;i++){ch=String.fromCharCode(i);defineSymbol(text,main,textord,ch,ch)}for(i=1040;i<=1103;i++){ch=String.fromCharCode(i);defineSymbol(text,main,textord,ch,ch)}defineSymbol(text,main,textord,"–","–");defineSymbol(text,main,textord,"—","—");defineSymbol(text,main,textord,"‘","‘");defineSymbol(text,main,textord,"’","’");defineSymbol(text,main,textord,"“","“");defineSymbol(text,main,textord,"”","”")},{}],32:[function(require,module,exports){var hangulRegex=/[\uAC00-\uD7AF]/;var cjkRegex=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/;module.exports={cjkRegex:cjkRegex,hangulRegex:hangulRegex}},{}],33:[function(require,module,exports){var nativeIndexOf=Array.prototype.indexOf;var indexOf=function(list,elem){if(list==null){return-1}if(nativeIndexOf&&list.indexOf===nativeIndexOf){return list.indexOf(elem)}var i=0;var l=list.length;for(;i<l;i++){if(list[i]===elem){return i}}return-1};var contains=function(list,elem){return indexOf(list,elem)!==-1};var deflt=function(setting,defaultIfUndefined){return setting===undefined?defaultIfUndefined:setting};var uppercase=/([A-Z])/g;var hyphenate=function(str){return str.replace(uppercase,"-$1").toLowerCase()};var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};var ESCAPE_REGEX=/[&><"']/g;function escaper(match){return ESCAPE_LOOKUP[match]}function escape(text){return(""+text).replace(ESCAPE_REGEX,escaper)}var setTextContent;if(typeof document!=="undefined"){var testNode=document.createElement("span");if("textContent"in testNode){setTextContent=function(node,text){node.textContent=text}}else{setTextContent=function(node,text){node.innerText=text}}}function clearNode(node){setTextContent(node,"")}module.exports={contains:contains,deflt:deflt,escape:escape,hyphenate:hyphenate,indexOf:indexOf,setTextContent:setTextContent,clearNode:clearNode}},{}],34:[function(require,module,exports){"use strict";function getRelocatable(re){if(!re.__matchAtRelocatable){var source=re.source+"|()";var flags="g"+(re.ignoreCase?"i":"")+(re.multiline?"m":"")+(re.unicode?"u":"");re.__matchAtRelocatable=new RegExp(source,flags)}return re.__matchAtRelocatable}function matchAt(re,str,pos){if(re.global||re.sticky){throw new Error("matchAt(...): Only non-global regexes are supported")}var reloc=getRelocatable(re);reloc.lastIndex=pos;var match=reloc.exec(str);if(match[match.length-1]==null){match.length=match.length-1;return match}else{return null}}module.exports=matchAt},{}],35:[function(require,module,exports){!function t(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Raphael=r():e.Raphael=r()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var i,n;i=[r(1),r(3),r(4)],n=function(t){return t}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,r){var i,n;i=[r(2)],n=function(t){function e(r){if(e.is(r,"function"))return w?r():t.on("raphael.DOMload",r);if(e.is(r,Q))return e._engine.create[z](e,r.splice(0,3+e.is(r[0],$))).add(r);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var n=i.pop();return w?n.call(e._engine.create[z](e,i)):t.on("raphael.DOMload",function(){n.call(e._engine.create[z](e,i))})}return e._engine.create[z](e,arguments)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[A](i)&&(e[i]=r(t[i]));return e}function i(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}function n(t,e,r){function n(){var a=Array.prototype.slice.call(arguments,0),s=a.join("␀"),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[A](s)?(i(l,s),r?r(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[z](e,a),r?r(o[s]):o[s])}return n}function a(){return this.hex}function s(t,e){for(var r=[],i=0,n=t.length;n-2*!e>i;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?n-4==i?a[3]={x:+t[0],y:+t[1]}:n-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[n-2],y:+t[n-1]}:n-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r}function o(t,e,r,i,n){var a=-3*e+9*r-9*i+3*n,s=t*a+6*e-12*r+6*i;return t*s-3*e+3*r}function l(t,e,r,i,n,a,s,l,h){null==h&&(h=1),h=h>1?1:h<0?0:h;for(var u=h/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<c;g++){var v=u*f[g]+u,x=o(v,t,r,n,s),y=o(v,e,i,a,l),m=x*x+y*y;d+=p[g]*Y.sqrt(m)}return u*d}function h(t,e,r,i,n,a,s,o,h){if(!(h<0||l(t,e,r,i,n,a,s,o)<h)){var u=1,c=u/2,f=u-c,p,d=.01;for(p=l(t,e,r,i,n,a,s,o,f);H(p-h)>d;)c/=2,f+=(p<h?1:-1)*c,p=l(t,e,r,i,n,a,s,o,f);return f}}function u(t,e,r,i,n,a,s,o){if(!(W(t,r)<G(n,s)||G(t,r)>W(n,s)||W(e,i)<G(a,o)||G(e,i)>W(a,o))){var l=(t*i-e*r)*(n-s)-(t-r)*(n*o-a*s),h=(t*i-e*r)*(a-o)-(e-i)*(n*o-a*s),u=(t-r)*(a-o)-(e-i)*(n-s);if(u){var c=l/u,f=h/u,p=+c.toFixed(2),d=+f.toFixed(2);if(!(p<+G(t,r).toFixed(2)||p>+W(t,r).toFixed(2)||p<+G(n,s).toFixed(2)||p>+W(n,s).toFixed(2)||d<+G(e,i).toFixed(2)||d>+W(e,i).toFixed(2)||d<+G(a,o).toFixed(2)||d>+W(a,o).toFixed(2)))return{x:c,y:f}}}}function c(t,e){return p(t,e)}function f(t,e){return p(t,e,1)}function p(t,r,i){var n=e.bezierBBox(t),a=e.bezierBBox(r);if(!e.isBBoxIntersect(n,a))return i?0:[];for(var s=l.apply(0,t),o=l.apply(0,r),h=W(~~(s/5),1),c=W(~~(o/5),1),f=[],p=[],d={},g=i?0:[],v=0;v<h+1;v++){var x=e.findDotsAtSegment.apply(e,t.concat(v/h));f.push({x:x.x,y:x.y,t:v/h})}for(v=0;v<c+1;v++)x=e.findDotsAtSegment.apply(e,r.concat(v/c)),p.push({x:x.x,y:x.y,t:v/c});for(v=0;v<h;v++)for(var y=0;y<c;y++){var m=f[v],b=f[v+1],_=p[y],w=p[y+1],k=H(b.x-m.x)<.001?"y":"x",B=H(w.x-_.x)<.001?"y":"x",C=u(m.x,m.y,b.x,b.y,_.x,_.y,w.x,w.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var S=m.t+H((C[k]-m[k])/(b[k]-m[k]))*(b.t-m.t),A=_.t+H((C[B]-_[B])/(w[B]-_[B]))*(w.t-_.t);S>=0&&S<=1.001&&A>=0&&A<=1.001&&(i?g++:g.push({x:C.x,y:C.y,t1:G(S,1),t2:G(A,1)}))}}return g}function d(t,r,i){t=e._path2curve(t),r=e._path2curve(r);for(var n,a,s,o,l,h,u,c,f,d,g=i?0:[],v=0,x=t.length;v<x;v++){var y=t[v];if("M"==y[0])n=l=y[1],a=h=y[2];else{"C"==y[0]?(f=[n,a].concat(y.slice(1)),n=f[6],a=f[7]):(f=[n,a,n,a,l,h,l,h],n=l,a=h);for(var m=0,b=r.length;m<b;m++){var _=r[m];if("M"==_[0])s=u=_[1],o=c=_[2];else{"C"==_[0]?(d=[s,o].concat(_.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,u,c,u,c],s=u,o=c);var w=p(f,d,i);if(i)g+=w;else{for(var k=0,B=w.length;k<B;k++)w[k].segment1=v,w[k].segment2=m,w[k].bez1=f,w[k].bez2=d;g=g.concat(w)}}}}}return g}function g(t,e,r,i,n,a){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+n,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function v(){return this.x+j+this.y}function x(){return this.x+j+this.y+j+this.width+" × "+this.height}function y(t,e,r,i,n,a){function s(t){return((c*t+u)*t+h)*t}function o(t,e){var r=l(t,e);return((d*r+p)*r+f)*r}function l(t,e){var r,i,n,a,o,l;for(n=t,l=0;l<8;l++){if(a=s(n)-t,H(a)<e)return n;if(o=(3*c*n+2*u)*n+h,H(o)<1e-6)break;n-=a/o}if(r=0,i=1,n=t,n<r)return r;if(n>i)return i;for(;r<i;){if(a=s(n),H(a-t)<e)return n;t>a?r=n:i=n,n=(i-r)/2+r}return n}var h=3*e,u=3*(i-e)-h,c=1-h-u,f=3*r,p=3*(n-r)-f,d=1-f-p;return o(t,1/(200*a))}function m(t,e){var r=[],i={};if(this.ms=e,this.times=1,t){for(var n in t)t[A](n)&&(i[ht(n)]=t[n],r.push(ht(n)));r.sort(Bt)}this.anim=i,this.top=r[r.length-1],this.percents=r}function b(r,i,n,a,s,o){n=ht(n);var l,h,u,c=[],f,p,d,v=r.ms,x={},m={},b={};if(a)for(w=0,B=Ee.length;w<B;w++){var _=Ee[w];if(_.el.id==i.id&&_.anim==r){_.percent!=n?(Ee.splice(w,1),u=1):h=_,i.attr(_.totalOrigin);break}}else a=+m;for(var w=0,B=r.percents.length;w<B;w++){if(r.percents[w]==n||r.percents[w]>a*r.top){n=r.percents[w],p=r.percents[w-1]||0,v=v/r.top*(n-p),f=r.percents[w+1],l=r.anim[n];break}a&&i.attr(r.anim[r.percents[w]])}if(l){if(h)h.initstatus=a,h.start=new Date-h.ms*a;else{for(var C in l)if(l[A](C)&&(pt[A](C)||i.paper.customAttributes[A](C)))switch(x[C]=i.attr(C),null==x[C]&&(x[C]=ft[C]),m[C]=l[C],pt[C]){case $:b[C]=(m[C]-x[C])/v;break;case"colour":x[C]=e.getRGB(x[C]);var S=e.getRGB(m[C]);b[C]={r:(S.r-x[C].r)/v,g:(S.g-x[C].g)/v,b:(S.b-x[C].b)/v};break;case"path":var T=Qt(x[C],m[C]),E=T[1];for(x[C]=T[0],b[C]=[],w=0,B=x[C].length;w<B;w++){b[C][w]=[0];for(var M=1,N=x[C][w].length;M<N;M++)b[C][w][M]=(E[w][M]-x[C][w][M])/v}break;case"transform":var L=i._,z=le(L[C],m[C]);if(z)for(x[C]=z.from,m[C]=z.to,b[C]=[],b[C].real=!0,w=0,B=x[C].length;w<B;w++)for(b[C][w]=[x[C][w][0]],M=1,N=x[C][w].length;M<N;M++)b[C][w][M]=(m[C][w][M]-x[C][w][M])/v;else{var F=i.matrix||new g,R={_:{transform:L.transform},getBBox:function(){return i.getBBox(1)}};x[C]=[F.a,F.b,F.c,F.d,F.e,F.f],se(R,m[C]),m[C]=R._.transform,b[C]=[(R.matrix.a-F.a)/v,(R.matrix.b-F.b)/v,(R.matrix.c-F.c)/v,(R.matrix.d-F.d)/v,(R.matrix.e-F.e)/v,(R.matrix.f-F.f)/v]}break;case"csv":var j=I(l[C])[q](k),D=I(x[C])[q](k);if("clip-rect"==C)for(x[C]=D,b[C]=[],w=D.length;w--;)b[C][w]=(j[w]-x[C][w])/v;m[C]=j;break;default:for(j=[][P](l[C]),D=[][P](x[C]),b[C]=[],w=i.paper.customAttributes[C].length;w--;)b[C][w]=((j[w]||0)-(D[w]||0))/v}var V=l.easing,O=e.easing_formulas[V];if(!O)if(O=I(V).match(st),O&&5==O.length){var Y=O;O=function(t){return y(t,+Y[1],+Y[2],+Y[3],+Y[4],v)}}else O=St;if(d=l.start||r.start||+new Date,_={anim:r,percent:n,timestamp:d,start:d+(r.del||0),status:0,initstatus:a||0,stop:!1,ms:v,easing:O,from:x,diff:b,to:m,el:i,callback:l.callback,prev:p,next:f,repeat:o||r.times,origin:i.attr(),totalOrigin:s},Ee.push(_),a&&!h&&!u&&(_.stop=!0,_.start=new Date-v*a,1==Ee.length))return Ne();u&&(_.start=new Date-_.ms*a),1==Ee.length&&Me(Ne)}t("raphael.anim.start."+i.id,i,r)}}function _(t){for(var e=0;e<Ee.length;e++)Ee[e].el.paper==t&&Ee.splice(e--,1)}e.version="2.2.0",e.eve=t;var w,k=/[, ]+/,B={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,S="prototype",A="hasOwnProperty",T={doc:document,win:window},E={was:Object.prototype[A].call(T.win,"Raphael"),is:T.win.Raphael},M=function(){this.ca=this.customAttributes={}},N,L="appendChild",z="apply",P="concat",F="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,R="",j=" ",I=String,q="split",D="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[q](j),V={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=I.prototype.toLowerCase,Y=Math,W=Y.max,G=Y.min,H=Y.abs,X=Y.pow,U=Y.PI,$="number",Z="string",Q="array",J="toString",K="fill",tt=Object.prototype.toString,et={},rt="push",it=e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,nt=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,at={NaN:1,Infinity:1,"-Infinity":1},st=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ot=Y.round,lt="setAttribute",ht=parseFloat,ut=parseInt,ct=I.prototype.toUpperCase,ft=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,"class":""},pt=e._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},dt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,gt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,vt={hs:1,rg:1},xt=/,?([achlmqrstvxz]),?/gi,yt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,mt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,bt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,_t=e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,wt={},kt=function(t,e){return t.key-e.key},Bt=function(t,e){return ht(t)-ht(e)},Ct=function(){},St=function(t){return t},At=e._rectPath=function(t,e,r,i,n){return n?[["M",t+n,e],["l",r-2*n,0],["a",n,n,0,0,1,n,n],["l",0,i-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-r,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-i],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",r,0],["l",0,i],["l",-r,0],["z"]]},Tt=function(t,e,r,i){return null==i&&(i=r),[["M",t,e],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]]},Et=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return Tt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return Tt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return At(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return At(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return At(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return At(e.x,e.y,e.width,e.height)}},Mt=e.mapPath=function(t,e){if(!e)return t;var r,i,n,a,s,o,l;for(t=Qt(t),n=0,s=t.length;n<s;n++)for(l=t[n],a=1,o=l.length;a<o;a+=2)r=e.x(l[a],l[a+1]),i=e.y(l[a],l[a+1]),l[a]=r,l[a+1]=i;return t};if(e._g=T,e.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var Nt=T.doc.createElement("div"),Lt;if(Nt.innerHTML='<v:shape adj="1"/>',Lt=Nt.firstChild,Lt.style.behavior="url(#default#VML)",!Lt||"object"!=typeof Lt.adj)return e.type=R;Nt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=M,e.fn=N=M.prototype=e.prototype,e._id=0,e.is=function(t,e){return e=O.call(e),"finite"==e?!at[A](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||tt.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,r,i,n,a,s){if(null==a){var o=t-i,l=r-n;return o||l?(180+180*Y.atan2(-l,-o)/U+360)%360:0}return e.angle(t,r,a,s)-e.angle(i,n,a,s)},e.rad=function(t){return t%360*U/180},e.deg=function(t){return Math.round(180*t/U%360*1e3)/1e3},e.snapTo=function(t,r,i){if(i=e.is(i,"finite")?i:10,e.is(t,Q)){for(var n=t.length;n--;)if(H(t[n]-r)<=i)return t[n]}else{t=+t;var a=r%t;if(a<i)return r-a;if(a>t-i)return r-a+t}return r};var zt=e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*Y.random()|0,r="x"==t?e:3&e|8;return r.toString(16)});e.setWindow=function(r){t("raphael.setWindow",e,T.win,r),T.win=r,T.doc=T.win.document,e._engine.initWin&&e._engine.initWin(T.win)};var Pt=function(t){if(e.vml){var r=/^\s+|\s+$/g,i;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),i=a.body}catch(s){i=createPopup().document.body}var o=i.createTextRange();Pt=n(function(t){try{i.style.color=I(t).replace(r,R);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(n){return"none"}})}else{var l=T.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",T.doc.body.appendChild(l),Pt=n(function(t){return l.style.color=t,T.doc.defaultView.getComputedStyle(l,R).getPropertyValue("color")})}return Pt(t)},Ft=function(){return"hsb("+[this.h,this.s,this.b]+")"},Rt=function(){return"hsl("+[this.h,this.s,this.l]+")"},jt=function(){return this.hex},It=function(t,r,i){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,r=t.g,t=t.r),null==r&&e.is(t,Z)){var n=e.getRGB(t);t=n.r,r=n.g,i=n.b}return(t>1||r>1||i>1)&&(t/=255,r/=255,i/=255),[t,r,i]},qt=function(t,r,i,n){t*=255,r*=255,i*=255;var a={r:t,g:r,b:i,hex:e.rgb(t,r,i),toString:jt};return e.is(n,"finite")&&(a.opacity=n),a};e.color=function(t){var r;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(r=e.hsb2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(r=e.hsl2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(r=e.rgb2hsl(t),t.h=r.h,t.s=r.s,t.l=r.l,r=e.rgb2hsb(t),t.v=r.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=jt,t},e.hsb2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,i=t.o,t=t.h),t*=360;var n,a,s,o,l;return t=t%360/60,l=r*e,o=l*(1-H(t%2-1)),n=a=s=r-l,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],qt(n,a,s,i)},e.hsl2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100),t*=360;var n,a,s,o,l;return t=t%360/60,l=2*e*(r<.5?r:1-r),o=l*(1-H(t%2-1)),n=a=s=r-l/2,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],qt(n,a,s,i)},e.rgb2hsb=function(t,e,r){r=It(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s;return a=W(t,e,r),s=a-G(t,e,r),i=0==s?null:a==t?(e-r)/s:a==e?(r-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,n=0==s?0:s/a,{h:i,s:n,b:a,toString:Ft}},e.rgb2hsl=function(t,e,r){r=It(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s,o,l;

return s=W(t,e,r),o=G(t,e,r),l=s-o,i=0==l?null:s==t?(e-r)/l:s==e?(r-t)/l+2:(t-e)/l+4,i=(i+360)%6*60/360,a=(s+o)/2,n=0==l?0:a<.5?l/(2*a):l/(2-2*a),{h:i,s:n,l:a,toString:Rt}},e._path2string=function(){return this.join(",").replace(xt,"$1")};var Dt=e._preload=function(t,e){var r=T.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},r.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(r),r.src=t};e.getRGB=n(function(t){if(!t||(t=I(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(vt[A](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=Pt(t));var r,i,n,s,o,l,h,u=t.match(nt);return u?(u[2]&&(s=ut(u[2].substring(5),16),n=ut(u[2].substring(3,5),16),i=ut(u[2].substring(1,3),16)),u[3]&&(s=ut((l=u[3].charAt(3))+l,16),n=ut((l=u[3].charAt(2))+l,16),i=ut((l=u[3].charAt(1))+l,16)),u[4]&&(h=u[4][q](gt),i=ht(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=ht(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),s=ht(h[2]),"%"==h[2].slice(-1)&&(s*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(o=ht(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100)),u[5]?(h=u[5][q](gt),i=ht(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=ht(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),s=ht(h[2]),"%"==h[2].slice(-1)&&(s*=2.55),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(i/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(o=ht(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100),e.hsb2rgb(i,n,s,o)):u[6]?(h=u[6][q](gt),i=ht(h[0]),"%"==h[0].slice(-1)&&(i*=2.55),n=ht(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),s=ht(h[2]),"%"==h[2].slice(-1)&&(s*=2.55),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(i/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(o=ht(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100),e.hsl2rgb(i,n,s,o)):(u={r:i,g:n,b:s,toString:a},u.hex="#"+(16777216|s|n<<8|i<<16).toString(16).slice(1),e.is(o,"finite")&&(u.opacity=o),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},e),e.hsb=n(function(t,r,i){return e.hsb2rgb(t,r,i).hex}),e.hsl=n(function(t,r,i){return e.hsl2rgb(t,r,i).hex}),e.rgb=n(function(t,e,r){function i(t){return t+.5|0}return"#"+(16777216|i(r)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var r=Vt(t);if(r.arr)return Yt(r.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return e.is(t,Q)&&e.is(t[0],Q)&&(n=Yt(t)),n.length||I(t).replace(yt,function(t,e,r){var a=[],s=e.toLowerCase();if(r.replace(bt,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(n.push([e][P](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)n.push([e][P](a));else for(;a.length>=i[s]&&(n.push([e][P](a.splice(0,i[s]))),i[s]););}),n.toString=e._path2string,r.arr=Yt(n),n},e.parseTransformString=n(function(t){if(!t)return null;var r={r:3,s:4,t:2,m:6},i=[];return e.is(t,Q)&&e.is(t[0],Q)&&(i=Yt(t)),i.length||I(t).replace(mt,function(t,e,r){var n=[],a=O.call(e);r.replace(bt,function(t,e){e&&n.push(+e)}),i.push([e][P](n))}),i.toString=e._path2string,i});var Vt=function(t){var e=Vt.ps=Vt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var r in e)e[A](r)&&r!=t&&(e[r].sleep--,!e[r].sleep&&delete e[r])}),e[t]};e.findDotsAtSegment=function(t,e,r,i,n,a,s,o,l){var h=1-l,u=X(h,3),c=X(h,2),f=l*l,p=f*l,d=u*t+3*c*l*r+3*h*l*l*n+p*s,g=u*e+3*c*l*i+3*h*l*l*a+p*o,v=t+2*l*(r-t)+f*(n-2*r+t),x=e+2*l*(i-e)+f*(a-2*i+e),y=r+2*l*(n-r)+f*(s-2*n+r),m=i+2*l*(a-i)+f*(o-2*a+i),b=h*t+l*r,_=h*e+l*i,w=h*n+l*s,k=h*a+l*o,B=90-180*Y.atan2(v-y,x-m)/U;return(v>y||x<m)&&(B+=180),{x:d,y:g,m:{x:v,y:x},n:{x:y,y:m},start:{x:b,y:_},end:{x:w,y:k},alpha:B}},e.bezierBBox=function(t,r,i,n,a,s,o,l){e.is(t,"array")||(t=[t,r,i,n,a,s,o,l]);var h=Zt.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,r){return e>=t.x&&e<=t.x2&&r>=t.y&&r<=t.y2},e.isBBoxIntersect=function(t,r){var i=e.isPointInsideBBox;return i(r,t.x,t.y)||i(r,t.x2,t.y)||i(r,t.x,t.y2)||i(r,t.x2,t.y2)||i(t,r.x,r.y)||i(t,r.x2,r.y)||i(t,r.x,r.y2)||i(t,r.x2,r.y2)||(t.x<r.x2&&t.x>r.x||r.x<t.x2&&r.x>t.x)&&(t.y<r.y2&&t.y>r.y||r.y<t.y2&&r.y>t.y)},e.pathIntersection=function(t,e){return d(t,e)},e.pathIntersectionNumber=function(t,e){return d(t,e,1)},e.isPointInsidePath=function(t,r,i){var n=e.pathBBox(t);return e.isPointInsideBBox(n,r,i)&&d(t,[["M",r,i],["H",n.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Ot=e.pathBBox=function(t){var e=Vt(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Qt(t);for(var i=0,n=0,a=[],s=[],o,l=0,h=t.length;l<h;l++)if(o=t[l],"M"==o[0])i=o[1],n=o[2],a.push(i),s.push(n);else{var u=Zt(i,n,o[1],o[2],o[3],o[4],o[5],o[6]);a=a[P](u.min.x,u.max.x),s=s[P](u.min.y,u.max.y),i=o[5],n=o[6]}var c=G[z](0,a),f=G[z](0,s),p=W[z](0,a),d=W[z](0,s),g=p-c,v=d-f,x={x:c,y:f,x2:p,y2:d,width:g,height:v,cx:c+g/2,cy:f+v/2};return e.bbox=r(x),x},Yt=function(t){var i=r(t);return i.toString=e._path2string,i},Wt=e._pathToRelative=function(t){var r=Vt(t);if(r.rel)return Yt(r.rel);e.is(t,Q)&&e.is(t&&t[0],Q)||(t=e.parsePathString(t));var i=[],n=0,a=0,s=0,o=0,l=0;"M"==t[0][0]&&(n=t[0][1],a=t[0][2],s=n,o=a,l++,i.push(["M",n,a]));for(var h=l,u=t.length;h<u;h++){var c=i[h]=[],f=t[h];if(f[0]!=O.call(f[0]))switch(c[0]=O.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-n).toFixed(3),c[7]=+(f[7]-a).toFixed(3);break;case"v":c[1]=+(f[1]-a).toFixed(3);break;case"m":s=f[1],o=f[2];default:for(var p=1,d=f.length;p<d;p++)c[p]=+(f[p]-(p%2?n:a)).toFixed(3)}else{c=i[h]=[],"m"==f[0]&&(s=f[1]+n,o=f[2]+a);for(var g=0,v=f.length;g<v;g++)i[h][g]=f[g]}var x=i[h].length;switch(i[h][0]){case"z":n=s,a=o;break;case"h":n+=+i[h][x-1];break;case"v":a+=+i[h][x-1];break;default:n+=+i[h][x-2],a+=+i[h][x-1]}}return i.toString=e._path2string,r.rel=Yt(i),i},Gt=e._pathToAbsolute=function(t){var r=Vt(t);if(r.abs)return Yt(r.abs);if(e.is(t,Q)&&e.is(t&&t[0],Q)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],n=0,a=0,o=0,l=0,h=0;"M"==t[0][0]&&(n=+t[0][1],a=+t[0][2],o=n,l=a,h++,i[0]=["M",n,a]);for(var u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),c,f,p=h,d=t.length;p<d;p++){if(i.push(c=[]),f=t[p],f[0]!=ct.call(f[0]))switch(c[0]=ct.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+n),c[7]=+(f[7]+a);break;case"V":c[1]=+f[1]+a;break;case"H":c[1]=+f[1]+n;break;case"R":for(var g=[n,a][P](f.slice(1)),v=2,x=g.length;v<x;v++)g[v]=+g[v]+n,g[++v]=+g[v]+a;i.pop(),i=i[P](s(g,u));break;case"M":o=+f[1]+n,l=+f[2]+a;default:for(v=1,x=f.length;v<x;v++)c[v]=+f[v]+(v%2?n:a)}else if("R"==f[0])g=[n,a][P](f.slice(1)),i.pop(),i=i[P](s(g,u)),c=["R"][P](f.slice(-2));else for(var y=0,m=f.length;y<m;y++)c[y]=f[y];switch(c[0]){case"Z":n=o,a=l;break;case"H":n=c[1];break;case"V":a=c[1];break;case"M":o=c[c.length-2],l=c[c.length-1];default:n=c[c.length-2],a=c[c.length-1]}}return i.toString=e._path2string,r.abs=Yt(i),i},Ht=function(t,e,r,i){return[t,e,r,i,r,i]},Xt=function(t,e,r,i,n,a){var s=1/3,o=2/3;return[s*t+o*r,s*e+o*i,s*n+o*r,s*a+o*i,n,a]},Ut=function(t,e,r,i,a,s,o,l,h,u){var c=120*U/180,f=U/180*(+a||0),p=[],d,g=n(function(t,e,r){var i=t*Y.cos(r)-e*Y.sin(r),n=t*Y.sin(r)+e*Y.cos(r);return{x:i,y:n}});if(u)S=u[0],A=u[1],B=u[2],C=u[3];else{d=g(t,e,-f),t=d.x,e=d.y,d=g(l,h,-f),l=d.x,h=d.y;var v=Y.cos(U/180*a),x=Y.sin(U/180*a),y=(t-l)/2,m=(e-h)/2,b=y*y/(r*r)+m*m/(i*i);b>1&&(b=Y.sqrt(b),r=b*r,i=b*i);var _=r*r,w=i*i,k=(s==o?-1:1)*Y.sqrt(H((_*w-_*m*m-w*y*y)/(_*m*m+w*y*y))),B=k*r*m/i+(t+l)/2,C=k*-i*y/r+(e+h)/2,S=Y.asin(((e-C)/i).toFixed(9)),A=Y.asin(((h-C)/i).toFixed(9));S=t<B?U-S:S,A=l<B?U-A:A,S<0&&(S=2*U+S),A<0&&(A=2*U+A),o&&S>A&&(S-=2*U),!o&&A>S&&(A-=2*U)}var T=A-S;if(H(T)>c){var E=A,M=l,N=h;A=S+c*(o&&A>S?1:-1),l=B+r*Y.cos(A),h=C+i*Y.sin(A),p=Ut(l,h,r,i,a,0,o,M,N,[A,E,B,C])}T=A-S;var L=Y.cos(S),z=Y.sin(S),F=Y.cos(A),R=Y.sin(A),j=Y.tan(T/4),I=4/3*r*j,D=4/3*i*j,V=[t,e],O=[t+I*z,e-D*L],W=[l+I*R,h-D*F],G=[l,h];if(O[0]=2*V[0]-O[0],O[1]=2*V[1]-O[1],u)return[O,W,G][P](p);p=[O,W,G][P](p).join()[q](",");for(var X=[],$=0,Z=p.length;$<Z;$++)X[$]=$%2?g(p[$-1],p[$],f).y:g(p[$],p[$+1],f).x;return X},$t=function(t,e,r,i,n,a,s,o,l){var h=1-l;return{x:X(h,3)*t+3*X(h,2)*l*r+3*h*l*l*n+X(l,3)*s,y:X(h,3)*e+3*X(h,2)*l*i+3*h*l*l*a+X(l,3)*o}},Zt=n(function(t,e,r,i,n,a,s,o){var l=n-2*r+t-(s-2*n+r),h=2*(r-t)-2*(n-r),u=t-r,c=(-h+Y.sqrt(h*h-4*l*u))/2/l,f=(-h-Y.sqrt(h*h-4*l*u))/2/l,p=[e,o],d=[t,s],g;return H(c)>"1e12"&&(c=.5),H(f)>"1e12"&&(f=.5),c>0&&c<1&&(g=$t(t,e,r,i,n,a,s,o,c),d.push(g.x),p.push(g.y)),f>0&&f<1&&(g=$t(t,e,r,i,n,a,s,o,f),d.push(g.x),p.push(g.y)),l=a-2*i+e-(o-2*a+i),h=2*(i-e)-2*(a-i),u=e-i,c=(-h+Y.sqrt(h*h-4*l*u))/2/l,f=(-h-Y.sqrt(h*h-4*l*u))/2/l,H(c)>"1e12"&&(c=.5),H(f)>"1e12"&&(f=.5),c>0&&c<1&&(g=$t(t,e,r,i,n,a,s,o,c),d.push(g.x),p.push(g.y)),f>0&&f<1&&(g=$t(t,e,r,i,n,a,s,o,f),d.push(g.x),p.push(g.y)),{min:{x:G[z](0,d),y:G[z](0,p)},max:{x:W[z](0,d),y:W[z](0,p)}}}),Qt=e._path2curve=n(function(t,e){var r=!e&&Vt(t);if(!e&&r.curve)return Yt(r.curve);for(var i=Gt(t),n=e&&Gt(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,r){var i,n,a={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in a)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][P](Ut[z](0,[e.x,e.y][P](t.slice(1))));break;case"S":"C"==r||"S"==r?(i=2*e.x-e.bx,n=2*e.y-e.by):(i=e.x,n=e.y),t=["C",i,n][P](t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][P](Xt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][P](Xt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][P](Ht(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][P](Ht(e.x,e.y,t[1],e.y));break;case"V":t=["C"][P](Ht(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][P](Ht(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)u[e]="A",n&&(c[e]="A"),t.splice(e++,0,["C"][P](r.splice(0,6)));t.splice(e,1),g=W(i.length,n&&n.length||0)}},h=function(t,e,r,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],g=W(i.length,n&&n.length||0))},u=[],c=[],f="",p="",d=0,g=W(i.length,n&&n.length||0);d<g;d++){i[d]&&(f=i[d][0]),"C"!=f&&(u[d]=f,d&&(p=u[d-1])),i[d]=o(i[d],a,p),"A"!=u[d]&&"C"==f&&(u[d]="C"),l(i,d),n&&(n[d]&&(f=n[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),n[d]=o(n[d],s,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),l(n,d)),h(i,n,a,s,d),h(n,i,s,a,d);var v=i[d],x=n&&n[d],y=v.length,m=n&&x.length;a.x=v[y-2],a.y=v[y-1],a.bx=ht(v[y-4])||a.x,a.by=ht(v[y-3])||a.y,s.bx=n&&(ht(x[m-4])||s.x),s.by=n&&(ht(x[m-3])||s.y),s.x=n&&x[m-2],s.y=n&&x[m-1]}return n||(r.curve=Yt(i)),n?[i,n]:i},null,Yt),Jt=e._parseDots=n(function(t){for(var r=[],i=0,n=t.length;i<n;i++){var a={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(a.color=e.getRGB(s[1]),a.color.error)return null;a.opacity=a.color.opacity,a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),r.push(a)}for(i=1,n=r.length-1;i<n;i++)if(!r[i].offset){for(var o=ht(r[i-1].offset||0),l=0,h=i+1;h<n;h++)if(r[h].offset){l=r[h].offset;break}l||(l=100,h=n),l=ht(l);for(var u=(l-o)/(h-i+1);i<h;i++)o+=u,r[i].offset=o+"%"}return r}),Kt=e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},te=e._tofront=function(t,e){e.top!==t&&(Kt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},ee=e._toback=function(t,e){e.bottom!==t&&(Kt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},re=e._insertafter=function(t,e,r){Kt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},ie=e._insertbefore=function(t,e,r){Kt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},ne=e.toMatrix=function(t,e){var r=Ot(t),i={_:{transform:R},getBBox:function(){return r}};return se(i,e),i.matrix},ae=e.transformPath=function(t,e){return Mt(t,ne(t,e))},se=e._extractTransform=function(t,r){if(null==r)return t._.transform;r=I(r).replace(/\.{3}|\u2026/g,t._.transform||R);var i=e.parseTransformString(r),n=0,a=0,s=0,o=1,l=1,h=t._,u=new g;if(h.transform=i||[],i)for(var c=0,f=i.length;c<f;c++){var p=i[c],d=p.length,v=I(p[0]).toLowerCase(),x=p[0]!=v,y=x?u.invert():0,m,b,_,w,k;"t"==v&&3==d?x?(m=y.x(0,0),b=y.y(0,0),_=y.x(p[1],p[2]),w=y.y(p[1],p[2]),u.translate(_-m,w-b)):u.translate(p[1],p[2]):"r"==v?2==d?(k=k||t.getBBox(1),u.rotate(p[1],k.x+k.width/2,k.y+k.height/2),n+=p[1]):4==d&&(x?(_=y.x(p[2],p[3]),w=y.y(p[2],p[3]),u.rotate(p[1],_,w)):u.rotate(p[1],p[2],p[3]),n+=p[1]):"s"==v?2==d||3==d?(k=k||t.getBBox(1),u.scale(p[1],p[d-1],k.x+k.width/2,k.y+k.height/2),o*=p[1],l*=p[d-1]):5==d&&(x?(_=y.x(p[3],p[4]),w=y.y(p[3],p[4]),u.scale(p[1],p[2],_,w)):u.scale(p[1],p[2],p[3],p[4]),o*=p[1],l*=p[2]):"m"==v&&7==d&&u.add(p[1],p[2],p[3],p[4],p[5],p[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=a=u.e,h.dy=s=u.f,1==o&&1==l&&!n&&h.bbox?(h.bbox.x+=+a,h.bbox.y+=+s):h.dirtyT=1},oe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},le=e._equaliseTransform=function(t,r){r=I(r).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],r=e.parseTransformString(r)||[];for(var i=W(t.length,r.length),n=[],a=[],s=0,o,l,h,u;s<i;s++){if(h=t[s]||oe(r[s]),u=r[s]||oe(h),h[0]!=u[0]||"r"==h[0].toLowerCase()&&(h[2]!=u[2]||h[3]!=u[3])||"s"==h[0].toLowerCase()&&(h[3]!=u[3]||h[4]!=u[4]))return;for(n[s]=[],a[s]=[],o=0,l=W(h.length,u.length);o<l;o++)o in h&&(n[s][o]=h[o]),o in u&&(a[s][o]=u[o])}return{from:n,to:a}};e._getContainer=function(t,r,i,n){var a;if(a=null!=n||e.is(t,"object")?t:T.doc.getElementById(t),null!=a)return a.tagName?null==r?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:r,height:i}:{container:1,x:t,y:r,width:i,height:n}},e.pathToRelative=Wt,e._engine={},e.path2curve=Qt,e.matrix=function(t,e,r,i,n,a){return new g(t,e,r,i,n,a)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=Y.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,r,i,n,a){var s=[[],[],[]],o=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[t,r,n],[e,i,a],[0,0,1]],h,u,c,f;for(t&&t instanceof g&&(l=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),h=0;h<3;h++)for(u=0;u<3;u++){for(f=0,c=0;c<3;c++)f+=o[h][c]*l[c][u];s[h][u]=f}this.a=s[0][0],this.b=s[1][0],this.c=s[0][1],this.d=s[1][1],this.e=s[0][2],this.f=s[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new g(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,r,i){null==e&&(e=t),(r||i)&&this.add(1,0,0,1,r,i),this.add(t,0,0,e,0,0),(r||i)&&this.add(1,0,0,1,-r,-i)},t.rotate=function(t,r,i){t=e.rad(t),r=r||0,i=i||0;var n=+Y.cos(t).toFixed(9),a=+Y.sin(t).toFixed(9);this.add(n,a,-a,n,r,i),this.add(1,0,0,1,-r,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[I.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=Y.sqrt(r(n[0])),i(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=Y.sqrt(r(n[1])),i(n[1]),t.shear/=t.scaley;var a=-n[0][1],s=n[1][1];return s<0?(t.rotate=e.deg(Y.acos(s)),a<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(Y.asin(a)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[q]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:R)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:R)+(e.rotate?"r"+[e.rotate,0,0]:R)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(g.prototype);for(var he=function(){this.returnValue=!1},ue=function(){return this.originalEvent.preventDefault()},ce=function(){this.cancelBubble=!0},fe=function(){return this.originalEvent.stopPropagation()},pe=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+r,y:t.clientY+e}},de=function(){return T.doc.addEventListener?function(t,e,r,i){var n=function(t){var e=pe(t);return r.call(i,t,e.x,e.y)};if(t.addEventListener(e,n,!1),F&&V[e]){var a=function(e){for(var n=pe(e),a=e,s=0,o=e.targetTouches&&e.targetTouches.length;s<o;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=a,e.preventDefault=ue,e.stopPropagation=fe;break}return r.call(i,e,n.x,n.y)};t.addEventListener(V[e],a,!1)}return function(){return t.removeEventListener(e,n,!1),F&&V[e]&&t.removeEventListener(V[e],a,!1),!0}}:T.doc.attachEvent?function(t,e,r,i){var n=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,n=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=t.clientX+n,s=t.clientY+e;return t.preventDefault=t.preventDefault||he,t.stopPropagation=t.stopPropagation||ce,r.call(i,t,a,s)};t.attachEvent("on"+e,n);var a=function(){return t.detachEvent("on"+e,n),!0};return a}:void 0}(),ge=[],ve=function(e){for(var r=e.clientX,i=e.clientY,n=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,a=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,s,o=ge.length;o--;){if(s=ge[o],F&&e.touches){for(var l=e.touches.length,h;l--;)if(h=e.touches[l],h.identifier==s.el._drag.id){r=h.clientX,i=h.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u=s.el.node,c,f=u.nextSibling,p=u.parentNode,d=u.style.display;T.win.opera&&p.removeChild(u),u.style.display="none",c=s.el.paper.getElementByPoint(r,i),u.style.display=d,T.win.opera&&(f?p.insertBefore(u,f):p.appendChild(u)),c&&t("raphael.drag.over."+s.el.id,s.el,c),r+=a,i+=n,t("raphael.drag.move."+s.el.id,s.move_scope||s.el,r-s.el._drag.x,i-s.el._drag.y,r,i,e)}},xe=function(r){e.unmousemove(ve).unmouseup(xe);for(var i=ge.length,n;i--;)n=ge[i],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,r);ge=[]},ye=e.el={},me=D.length;me--;)!function(t){e[t]=ye[t]=function(r,i){return e.is(r,"function")&&(this.events=this.events||[],this.events.push({name:t,f:r,unbind:de(this.shape||this.node||T.doc,t,r,i||this)})),this},e["un"+t]=ye["un"+t]=function(r){for(var i=this.events||[],n=i.length;n--;)i[n].name!=t||!e.is(r,"undefined")&&i[n].f!=r||(i[n].unbind(),i.splice(n,1),!i.length&&delete this.events);return this}}(D[me]);ye.data=function(r,i){var n=wt[this.id]=wt[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(e.is(r,"object")){for(var a in r)r[A](a)&&this.data(a,r[a]);return this}return t("raphael.data.get."+this.id,this,n[r],r),n[r]}return n[r]=i,t("raphael.data.set."+this.id,this,i,r),this},ye.removeData=function(t){return null==t?wt[this.id]={}:wt[this.id]&&delete wt[this.id][t],this},ye.getData=function(){return r(wt[this.id]||{})},ye.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},ye.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var be=[];ye.drag=function(r,i,n,a,s,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,u=l.clientY,c=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,f=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=l.identifier,F&&l.touches)for(var p=l.touches.length,d;p--;)if(d=l.touches[p],this._drag.id=d.identifier,d.identifier==this._drag.id){h=d.clientX,u=d.clientY;break}this._drag.x=h+f,this._drag.y=u+c,!ge.length&&e.mousemove(ve).mouseup(xe),ge.push({el:this,move_scope:a,start_scope:s,end_scope:o}),i&&t.on("raphael.drag.start."+this.id,i),r&&t.on("raphael.drag.move."+this.id,r),n&&t.on("raphael.drag.end."+this.id,n),t("raphael.drag.start."+this.id,s||a||this,l.clientX+f,l.clientY+c,l)}return this._drag={},be.push({el:this,start:l}),this.mousedown(l),this},ye.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},ye.undrag=function(){for(var r=be.length;r--;)be[r].el==this&&(this.unmousedown(be[r].start),be.splice(r,1),t.unbind("raphael.drag.*."+this.id));!be.length&&e.unmousemove(ve).unmouseup(xe),ge=[]},N.circle=function(t,r,i){var n=e._engine.circle(this,t||0,r||0,i||0);return this.__set__&&this.__set__.push(n),n},N.rect=function(t,r,i,n,a){var s=e._engine.rect(this,t||0,r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},N.ellipse=function(t,r,i,n){var a=e._engine.ellipse(this,t||0,r||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},N.path=function(t){t&&!e.is(t,Z)&&!e.is(t[0],Q)&&(t+=R);var r=e._engine.path(e.format[z](e,arguments),this);return this.__set__&&this.__set__.push(r),r},N.image=function(t,r,i,n,a){var s=e._engine.image(this,t||"about:blank",r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},N.text=function(t,r,i){var n=e._engine.text(this,t||0,r||0,I(i));return this.__set__&&this.__set__.push(n),n},N.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var r=new ze(t);return this.__set__&&this.__set__.push(r),r.paper=this,r.type="set",r},N.setStart=function(t){this.__set__=t||this.set()},N.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},N.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},N.setSize=function(t,r){return e._engine.setSize.call(this,t,r)},N.setViewBox=function(t,r,i,n,a){return e._engine.setViewBox.call(this,t,r,i,n,a)},N.top=N.bottom=null,N.raphael=e;var _e=function(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,i=r.body,n=r.documentElement,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,o=e.top+(T.win.pageYOffset||n.scrollTop||i.scrollTop)-a,l=e.left+(T.win.pageXOffset||n.scrollLeft||i.scrollLeft)-s;return{y:o,x:l}};N.getElementByPoint=function(t,e){var r=this,i=r.canvas,n=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==n.tagName){var a=_e(i),s=i.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=i.getIntersectionList(s,null);o.length&&(n=o[o.length-1])}if(!n)return null;for(;n.parentNode&&n!=i.parentNode&&!n.raphael;)n=n.parentNode;return n==r.canvas.parentNode&&(n=i),n=n&&n.raphael?r.getById(n.raphaelid):null},N.getElementsByBBox=function(t){var r=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&r.push(i)}),r},N.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},N.forEach=function(t,e){for(var r=this.bottom;r;){if(t.call(e,r)===!1)return this;r=r.next}return this},N.getElementsByPoint=function(t,e){var r=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&r.push(i)}),r},ye.isPointInside=function(t,r){var i=this.realPath=Et[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,r)},ye.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=Et[this.type](this),e.bboxwt=Ot(this.realPath),e.bboxwt.toString=x,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=Et[this.type](this)),e.bbox=Ot(Mt(this.realPath,this.matrix)),e.bbox.toString=x,e.dirty=e.dirtyT=0),e.bbox)},ye.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},ye.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},r=e.width/2,i=this.paper,n=i.set(),a=this.realPath||Et[this.type](this);a=this.matrix?Mt(a,this.matrix):a;for(var s=1;s<r+1;s++)n.push(i.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*s).toFixed(3),opacity:+(e.opacity/r).toFixed(3)}));return n.insertBefore(this).translate(e.offsetx,e.offsety)};var we={},ke=function(t,r,i,n,a,s,o,u,c){return null==c?l(t,r,i,n,a,s,o,u):e.findDotsAtSegment(t,r,i,n,a,s,o,u,h(t,r,i,n,a,s,o,u,c))},Be=function(t,r){return function(i,n,a){i=Qt(i);for(var s,o,l,h,u="",c={},f,p=0,d=0,g=i.length;d<g;d++){if(l=i[d],"M"==l[0])s=+l[1],o=+l[2];else{if(h=ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>n){if(r&&!c.start){if(f=ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),u+=["C"+f.start.x,f.start.y,f.m.x,f.m.y,f.x,f.y],a)return u;c.start=u,u=["M"+f.x,f.y+"C"+f.n.x,f.n.y,f.end.x,f.end.y,l[5],l[6]].join(),p+=h,s=+l[5],o=+l[6];continue}if(!t&&!r)return f=ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:f.x,y:f.y,alpha:f.alpha}}p+=h,s=+l[5],o=+l[6]}u+=l.shift()+l}return c.end=u,f=t?p:r?c:e.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),f.alpha&&(f={x:f.x,y:f.y,alpha:f.alpha}),f}},Ce=Be(1),Se=Be(),Ae=Be(0,1);e.getTotalLength=Ce,e.getPointAtLength=Se,e.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return Ae(t,e).end;var i=Ae(t,r,1);return e?Ae(i,e).end:i},ye.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Ce(t)},ye.getPointAtLength=function(t){var e=this.getPath();if(e)return Se(e,t)},ye.getPath=function(){var t,r=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return r&&(t=r(this)),t},ye.getSubpath=function(t,r){var i=this.getPath();if(i)return e.getSubpath(i,t,r)};var Te=e.easing_formulas={linear:function(t){return t},"<":function(t){return X(t,1.7)},">":function(t){return X(t,.48)},"<>":function(t){var e=.48-t/1.04,r=Y.sqrt(.1734+e*e),i=r-e,n=X(H(i),1/3)*(i<0?-1:1),a=-r-e,s=X(H(a),1/3)*(a<0?-1:1),o=n+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:X(2,-10*t)*Y.sin((t-.075)*(2*U)/.3)+1},bounce:function(t){var e=7.5625,r=2.75,i;return t<1/r?i=e*t*t:t<2/r?(t-=1.5/r,i=e*t*t+.75):t<2.5/r?(t-=2.25/r,i=e*t*t+.9375):(t-=2.625/r,i=e*t*t+.984375),i}};Te.easeIn=Te["ease-in"]=Te["<"],Te.easeOut=Te["ease-out"]=Te[">"],Te.easeInOut=Te["ease-in-out"]=Te["<>"],Te["back-in"]=Te.backIn,Te["back-out"]=Te.backOut;var Ee=[],Me=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},Ne=function(){for(var r=+new Date,i=0;i<Ee.length;i++){var n=Ee[i];if(!n.el.removed&&!n.paused){var a=r-n.start,s=n.ms,o=n.easing,l=n.from,h=n.diff,u=n.to,c=n.t,f=n.el,p={},d,g={},v;if(n.initstatus?(a=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*s,n.status=n.initstatus,delete n.initstatus,n.stop&&Ee.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(a/s))/n.anim.top,!(a<0))if(a<s){var x=o(a/s);for(var y in l)if(l[A](y)){switch(pt[y]){case $:d=+l[y]+x*s*h[y];break;case"colour":d="rgb("+[Le(ot(l[y].r+x*s*h[y].r)),Le(ot(l[y].g+x*s*h[y].g)),Le(ot(l[y].b+x*s*h[y].b))].join(",")+")";break;case"path":d=[];for(var m=0,_=l[y].length;m<_;m++){d[m]=[l[y][m][0]];for(var w=1,k=l[y][m].length;w<k;w++)d[m][w]=+l[y][m][w]+x*s*h[y][m][w];d[m]=d[m].join(j)}d=d.join(j);break;case"transform":if(h[y].real)for(d=[],m=0,_=l[y].length;m<_;m++)for(d[m]=[l[y][m][0]],w=1,k=l[y][m].length;w<k;w++)d[m][w]=l[y][m][w]+x*s*h[y][m][w];else{var B=function(t){return+l[y][t]+x*s*h[y][t]};d=[["m",B(0),B(1),B(2),B(3),B(4),B(5)]]}break;case"csv":if("clip-rect"==y)for(d=[],m=4;m--;)d[m]=+l[y][m]+x*s*h[y][m];break;default:var C=[][P](l[y]);for(d=[],m=f.paper.customAttributes[y].length;m--;)d[m]=+C[m]+x*s*h[y][m]}p[y]=d}f.attr(p),function(e,r,i){setTimeout(function(){t("raphael.anim.frame."+e,r,i)})}(f.id,f,n.anim)}else{if(function(r,i,n){setTimeout(function(){t("raphael.anim.frame."+i.id,i,n),t("raphael.anim.finish."+i.id,i,n),e.is(r,"function")&&r.call(i)})}(n.callback,f,n.anim),f.attr(u),Ee.splice(i--,1),n.repeat>1&&!n.next){for(v in u)u[A](v)&&(g[v]=n.totalOrigin[v]);n.el.attr(g),b(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&b(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}Ee.length&&Me(Ne)},Le=function(t){return t>255?255:t<0?0:t};ye.animateWith=function(t,r,i,n,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var l=i instanceof m?i:e.animation(i,n,a,s),h,u;b(l,o,l.percents[0],null,o.attr());for(var c=0,f=Ee.length;c<f;c++)if(Ee[c].anim==r&&Ee[c].el==t){Ee[f-1].start=Ee[c].start;break}return o},ye.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},m.prototype.delay=function(t){var e=new m(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},m.prototype.repeat=function(t){var e=new m(this.anim,this.ms);return e.del=this.del,e.times=Y.floor(W(t,0))||1,e},e.animation=function(t,r,i,n){if(t instanceof m)return t;!e.is(i,"function")&&i||(n=n||i||null,i=null),t=Object(t),r=+r||0;var a={},s,o;for(o in t)t[A](o)&&ht(o)!=o&&ht(o)+"%"!=o&&(s=!0,a[o]=t[o]);if(s)return i&&(a.easing=i),n&&(a.callback=n),new m({100:a},r);if(n){var l=0;for(var h in t){var u=ut(h);t[A](h)&&u>l&&(l=u)}l+="%",!t[l].callback&&(t[l].callback=n)}return new m(t,r)},ye.animate=function(t,r,i,n){var a=this;if(a.removed)return n&&n.call(a),a;var s=t instanceof m?t:e.animation(t,r,i,n);return b(s,a,s.percents[0],null,a.attr()),a},ye.setTime=function(t,e){return t&&null!=e&&this.status(t,G(e,t.ms)/t.ms),this},ye.status=function(t,e){var r=[],i=0,n,a;if(null!=e)return b(t,this,-1,G(e,1)),this;for(n=Ee.length;i<n;i++)if(a=Ee[i],a.el.id==this.id&&(!t||a.anim==t)){if(t)return a.status;r.push({anim:a.anim,status:a.status})}return t?0:r},ye.pause=function(e){for(var r=0;r<Ee.length;r++)Ee[r].el.id!=this.id||e&&Ee[r].anim!=e||t("raphael.anim.pause."+this.id,this,Ee[r].anim)!==!1&&(Ee[r].paused=!0);return this},ye.resume=function(e){for(var r=0;r<Ee.length;r++)if(Ee[r].el.id==this.id&&(!e||Ee[r].anim==e)){var i=Ee[r];t("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},ye.stop=function(e){for(var r=0;r<Ee.length;r++)Ee[r].el.id!=this.id||e&&Ee[r].anim!=e||t("raphael.anim.stop."+this.id,this,Ee[r].anim)!==!1&&Ee.splice(r--,1);return this},t.on("raphael.remove",_),t.on("raphael.clear",_),ye.toString=function(){return"Raphaël’s object"};var ze=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;e<r;e++)!t[e]||t[e].constructor!=ye.constructor&&t[e].constructor!=ze||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},Pe=ze.prototype;Pe.push=function(){for(var t,e,r=0,i=arguments.length;r<i;r++)t=arguments[r],!t||t.constructor!=ye.constructor&&t.constructor!=ze||(e=this.items.length,
this[e]=this.items[e]=t,this.length++);return this},Pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Pe.forEach=function(t,e){for(var r=0,i=this.items.length;r<i;r++)if(t.call(e,this.items[r],r)===!1)return this;return this};for(var Fe in ye)ye[A](Fe)&&(Pe[Fe]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t][z](r,e)})}}(Fe));return Pe.attr=function(t,r){if(t&&e.is(t,Q)&&e.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var a=0,s=this.items.length;a<s;a++)this.items[a].attr(t,r);return this},Pe.clear=function(){for(;this.length;)this.pop()},Pe.splice=function(t,e,r){t=t<0?W(this.length+t,0):t,e=W(0,G(this.length-t,e));var i=[],n=[],a=[],s;for(s=2;s<arguments.length;s++)a.push(arguments[s]);for(s=0;s<e;s++)n.push(this[t+s]);for(;s<this.length-t;s++)i.push(this[t+s]);var o=a.length;for(s=0;s<o+i.length;s++)this.items[t+s]=this[t+s]=s<o?a[s]:i[s-o];for(s=this.items.length=this.length-=e-o;this[s];)delete this[s++];return new ze(n)},Pe.exclude=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return this.splice(e,1),!0},Pe.animate=function(t,r,i,n){(e.is(i,"function")||!i)&&(n=i||null);var a=this.items.length,s=a,o,l=this,h;if(!a)return this;n&&(h=function(){!--a&&n.call(l)}),i=e.is(i,Z)?i:h;var u=e.animation(t,r,i,h);for(o=this.items[--s].animate(u);s--;)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(o,u,u),this.items[s]&&!this.items[s].removed||a--;return this},Pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},Pe.getBBox=function(){for(var t=[],e=[],r=[],i=[],n=this.items.length;n--;)if(!this.items[n].removed){var a=this.items[n].getBBox();t.push(a.x),e.push(a.y),r.push(a.x+a.width),i.push(a.y+a.height)}return t=G[z](0,t),e=G[z](0,e),r=W[z](0,r),i=W[z](0,i),{x:t,y:e,x2:r,y2:i,width:r-t,height:i-e}},Pe.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;e<r;e++)t.push(this.items[e].clone());return t},Pe.toString=function(){return"Raphaël‘s set"},Pe.glow=function(t){var e=this.paper.set();return this.forEach(function(r,i){var n=r.glow(t);null!=n&&n.forEach(function(t,r){e.push(t)})}),e},Pe.isPointInside=function(t,e){var r=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return r=!0,!1}),r},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[A](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r].push(e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=ut(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[A](n)){var a=t.glyphs[n];if(e.glyphs[n]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[A](s)&&(e.glyphs[n].k[s]=a.k[s])}}return t},N.getFont=function(t,r,i,n){if(n=n||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,e.fonts){var a=e.fonts[t];if(!a){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,R)+"(\\s|$)","i");for(var o in e.fonts)if(e.fonts[A](o)&&s.test(o)){a=e.fonts[o];break}}var l;if(a)for(var h=0,u=a.length;h<u&&(l=a[h],l.face["font-weight"]!=r||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=n);h++);return l}},N.print=function(t,r,i,n,a,s,o,l){s=s||"middle",o=W(G(o||0,1),-1),l=W(G(l||1,3),1);var h=I(i)[q](R),u=0,c=0,f=R,p;if(e.is(n,"string")&&(n=this.getFont(n)),n){p=(a||16)/n.face["units-per-em"];for(var d=n.face.bbox[q](k),g=+d[0],v=d[3]-d[1],x=0,y=+d[1]+("baseline"==s?v+ +n.face.descent:v/2),m=0,b=h.length;m<b;m++){if("\n"==h[m])u=0,w=0,c=0,x+=v*l;else{var _=c&&n.glyphs[h[m-1]]||{},w=n.glyphs[h[m]];u+=c?(_.w||n.w)+(_.k&&_.k[h[m]]||0)+n.w*o:0,c=1}w&&w.d&&(f+=e.transformPath(w.d,["t",u*p,x*p,"s",p,p,g,y,"t",(t-g)/p,(r-y)/p]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},N.add=function(t){if(e.is(t,"array"))for(var r=this.set(),i=0,n=t.length,a;i<n;i++)a=t[i]||{},B[A](a.type)&&r.push(this[a.type]().attr(a));return r},e.format=function(t,r){var i=e.is(r,Q)?[0][P](r):arguments;return t&&e.is(t,Z)&&i.length-1&&(t=t.replace(C,function(t,e){return null==i[++e]?R:i[e]})),t||R},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,r,i){var n=i;return r.replace(e,function(t,e,r,i,a){e=e||i,n&&(e in n&&(n=n[e]),"function"==typeof n&&a&&(n=n()))}),n=(null==n||n==i?t:n)+""};return function(e,i){return String(e).replace(t,function(t,e){return r(t,e,i)})}}(),e.ninja=function(){if(E.was)T.win.Raphael=E.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=Pe,t.on("raphael.DOMload",function(){w=!0}),function(t,r,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(r,i=function(){t.removeEventListener(r,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),e}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,r){var i,n;!function(r){var a="0.5.0",s="hasOwnProperty",o=/[\.\/]/,l=/\s*,\s*/,h="*",u=function(){},c=function(t,e){return t-e},f,p,d={n:{}},g=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},v=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},x=Object.prototype.toString,y=String,m=Array.isArray||function(t){return t instanceof Array||"[object Array]"==x.call(t)};eve=function(t,e){var r=d,i=p,n=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),s=0,o=!1,l,h=[],u={},x=[],y=f,m=[];x.firstDefined=g,x.lastDefined=v,f=t,p=0;for(var b=0,_=a.length;b<_;b++)"zIndex"in a[b]&&(h.push(a[b].zIndex),a[b].zIndex<0&&(u[a[b].zIndex]=a[b]));for(h.sort(c);h[s]<0;)if(l=u[h[s++]],x.push(l.apply(e,n)),p)return p=i,x;for(b=0;b<_;b++)if(l=a[b],"zIndex"in l)if(l.zIndex==h[s]){if(x.push(l.apply(e,n)),p)break;do if(s++,l=u[h[s]],l&&x.push(l.apply(e,n)),p)break;while(l)}else u[l.zIndex]=l;else if(x.push(l.apply(e,n)),p)break;return p=i,f=y,x},eve._events=d,eve.listeners=function(t){var e=m(t)?t:t.split(o),r=d,i,n,a,s,l,u,c,f,p=[r],g=[];for(s=0,l=e.length;s<l;s++){for(f=[],u=0,c=p.length;u<c;u++)for(r=p[u].n,n=[r[e[s]],r[h]],a=2;a--;)i=n[a],i&&(f.push(i),g=g.concat(i.f||[]));p=f}return g},eve.separator=function(t){t?(t=y(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",o=new RegExp(t)):o=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var r=m(t)?m(t[0])?t:[t]:y(t).split(l),i=0,n=r.length;i<n;i++)!function(t){for(var r=m(t)?t:y(t).split(o),i=d,n,a=0,s=r.length;a<s;a++)i=i.n,i=i.hasOwnProperty(r[a])&&i[r[a]]||(i[r[a]]={n:{}});for(i.f=i.f||[],a=0,s=i.f.length;a<s;a++)if(i.f[a]==e){n=!0;break}!n&&i.f.push(e)}(r[i]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){p=1},eve.nt=function(t){var e=m(f)?f.join("."):f;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return m(f)?f:f.split(o)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=d={n:{}});var r=m(t)?m(t[0])?t:[t]:y(t).split(l);if(r.length>1)for(var i=0,n=r.length;i<n;i++)eve.off(r[i],e);else{r=m(t)?t:y(t).split(o);var a,u,c,i,n,f,p,g=[d];for(i=0,n=r.length;i<n;i++)for(f=0;f<g.length;f+=c.length-2){if(c=[f,1],a=g[f].n,r[i]!=h)a[r[i]]&&c.push(a[r[i]]);else for(u in a)a[s](u)&&c.push(a[u]);g.splice.apply(g,c)}for(i=0,n=g.length;i<n;i++)for(a=g[i];a.n;){if(e){if(a.f){for(f=0,p=a.f.length;f<p;f++)if(a.f[f]==e){a.f.splice(f,1);break}!a.f.length&&delete a.f}for(u in a.n)if(a.n[s](u)&&a.n[u].f){var v=a.n[u].f;for(f=0,p=v.length;f<p;f++)if(v[f]==e){v.splice(f,1);break}!v.length&&delete a.n[u].f}}else{delete a.f;for(u in a.n)a.n[s](u)&&a.n[u].f&&delete a.n[u].f}a=a.n}}},eve.once=function(t,e){var r=function(){return eve.off(t,r),e.apply(this,arguments)};return eve.on(t,r)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},"undefined"!=typeof t&&t.exports?t.exports=eve:(i=[],n=function(){return eve}.apply(e,i),!(void 0!==n&&(t.exports=n)))}(this)},function(t,e,r){var i,n;i=[r(1)],n=function(t){if(!t||t.svg){var e="hasOwnProperty",r=String,i=parseFloat,n=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,h=/[, ]+/,u=t.eve,c="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var v=function(i,n){if(n){"string"==typeof i&&(i=v(i));for(var a in n)n[e](a)&&("xlink:"==a.substring(0,6)?i.setAttributeNS(p,a.substring(6),r(n[a])):i.setAttribute(a,r(n[a])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},x=function(e,n){var h="linear",u=e.id+n,f=.5,p=.5,d=e.node,g=e.paper,x=d.style,y=t._g.doc.getElementById(u);if(!y){if(n=r(n).replace(t._radial_gradient,function(t,e,r){if(h="radial",e&&r){f=i(e),p=i(r);var n=2*(p>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(f-.5,2))*n+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*n)}return c}),n=n.split(/\s*\-\s*/),"linear"==h){var b=n.shift();if(b=-i(b),isNaN(b))return null;var _=[0,0,a.cos(t.rad(b)),a.sin(t.rad(b))],w=1/(s(o(_[2]),o(_[3]))||1);_[2]*=w,_[3]*=w,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var k=t._parseDots(n);if(!k)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=v(h+"Gradient",{id:u}),e.gradient=y,v(y,"radial"==h?{fx:f,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var B=0,C=k.length;B<C;B++)y.appendChild(v("stop",{offset:k[B].offset?k[B].offset:B?"100%":"0%","stop-color":k[B].color||"#fff","stop-opacity":isFinite(k[B].opacity)?k[B].opacity:1}))}}return v(d,{fill:m(u),opacity:1,"fill-opacity":1}),x.fill=c,x.opacity=1,x.fillOpacity=1,1},y=function(){var t=document.documentMode;return t&&(9===t||10===t)},m=function(t){if(y())return"url('#"+t+"')";var e=document.location,r=e.protocol+"//"+e.host+e.pathname+e.search;return"url('"+r+"#"+t+"')"},b=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},_=function(i,n,a){if("path"==i.type){for(var s=r(n).toLowerCase().split("-"),o=i.paper,l=a?"end":"start",h=i.node,u=i.attrs,f=u["stroke-width"],p=s.length,x="classic",y,m,b,_,w,k=3,B=3,C=5;p--;)switch(s[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=s[p];break;case"wide":B=5;break;case"narrow":B=2;break;case"long":k=5;break;case"short":k=2}if("open"==x?(k+=2,B+=2,C+=2,b=1,_=a?4:1,w={fill:"none",stroke:u.stroke}):(_=b=k/2,w={fill:u.stroke,stroke:"none"}),i._.arrows?a?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=x){var S="raphael-marker-"+x,A="raphael-marker-"+l+x+k+B+"-obj"+i.id;t._g.doc.getElementById(S)?g[S]++:(o.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:d[x],id:S})),g[S]=1);var T=t._g.doc.getElementById(A),E;T?(g[A]++,E=T.getElementsByTagName("use")[0]):(T=v(v("marker"),{id:A,markerHeight:B,markerWidth:k,orient:"auto",refX:_,refY:B/2}),E=v(v("use"),{"xlink:href":"#"+S,transform:(a?"rotate(180 "+k/2+" "+B/2+") ":c)+"scale("+k/C+","+B/C+")","stroke-width":(1/((k/C+B/C)/2)).toFixed(4)}),T.appendChild(E),o.defs.appendChild(T),g[A]=1),v(E,w);var M=b*("diamond"!=x&&"oval"!=x);a?(y=i._.arrows.startdx*f||0,m=t.getTotalLength(u.path)-M*f):(y=M*f,m=t.getTotalLength(u.path)-(i._.arrows.enddx*f||0)),w={},w["marker-"+l]="url(#"+A+")",(m||y)&&(w.d=t.getSubpath(u.path,y,m)),v(h,w),i._.arrows[l+"Path"]=S,i._.arrows[l+"Marker"]=A,i._.arrows[l+"dx"]=M,i._.arrows[l+"Type"]=x,i._.arrows[l+"String"]=n}else a?(y=i._.arrows.startdx*f||0,m=t.getTotalLength(u.path)-y):(y=0,m=t.getTotalLength(u.path)-(i._.arrows.enddx*f||0)),i._.arrows[l+"Path"]&&v(h,{d:t.getSubpath(u.path,y,m)}),delete i._.arrows[l+"Path"],delete i._.arrows[l+"Marker"],delete i._.arrows[l+"dx"],delete i._.arrows[l+"Type"],delete i._.arrows[l+"String"];for(w in g)if(g[e](w)&&!g[w]){var N=t._g.doc.getElementById(w);N&&N.parentNode.removeChild(N)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},k=function(t,e,i){if(e=w[r(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*n+(o%2?1:-1)*a;v(t.node,{"stroke-dasharray":s.join(",")})}else v(t.node,{"stroke-dasharray":"none"})},B=function(i,a){var l=i.node,u=i.attrs,f=l.style.visibility;l.style.visibility="hidden";for(var d in a)if(a[e](d)){if(!t._availableAttrs[e](d))continue;var g=a[d];switch(u[d]=g,d){case"blur":i.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=v("title");var m=t._g.doc.createTextNode(g);y.appendChild(m),l.appendChild(y)}break;case"href":case"target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var B=v("a");w.insertBefore(B,l),B.appendChild(l),w=B}"target"==d?w.setAttributeNS(p,"show","blank"==g?"new":g):w.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":_(i,g);break;case"arrow-end":_(i,g,1);break;case"clip-rect":var C=r(g).split(h);if(4==C.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var A=v("clipPath"),T=v("rect");A.id=t.createUUID(),v(T,{x:C[0],y:C[1],width:C[2],height:C[3]}),A.appendChild(T),i.paper.defs.appendChild(A),v(l,{"clip-path":"url(#"+A.id+")"}),i.clip=T}if(!g){var E=l.getAttribute("clip-path");if(E){var M=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,c));M&&M.parentNode.removeChild(M),v(l,{"clip-path":c}),delete i.clip}}break;case"path":"path"==i.type&&(v(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),i._.dirty=1,!u.fx)break;d="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":l.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(d,g),i._.dirty=1,!u.fy)break;d="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":l.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?v(l,{rx:g,ry:g}):l.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=s(o(i._.sx),o(i._.sy))||1),l.setAttribute(d,g),u["stroke-dasharray"]&&k(i,u["stroke-dasharray"],a),i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"stroke-dasharray":k(i,g,a);break;case"fill":var N=r(g).match(t._ISURL);if(N){A=v("pattern");var L=v("image");A.id=t.createUUID(),v(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(L,{x:0,y:0,"xlink:href":N[1]}),A.appendChild(L),function(e){t._preload(N[1],function(){var t=this.offsetWidth,r=this.offsetHeight;v(e,{width:t,height:r}),v(L,{width:t,height:r})})}(A),i.paper.defs.appendChild(A),v(l,{fill:"url(#"+A.id+")"}),i.pattern=A,i.pattern&&b(i);break}var z=t.getRGB(g);if(z.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&x(i,g)){if("opacity"in u||"fill-opacity"in u){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(P){var F=P.getElementsByTagName("stop");v(F[F.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete a.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(a.opacity,"undefined")&&v(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&v(l,{"fill-opacity":u["fill-opacity"]});z[e]("opacity")&&v(l,{"fill-opacity":z.opacity>1?z.opacity/100:z.opacity});case"stroke":z=t.getRGB(g),l.setAttribute(d,z.hex),"stroke"==d&&z[e]("opacity")&&v(l,{"stroke-opacity":z.opacity>1?z.opacity/100:z.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&x(i,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&v(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),P&&(F=P.getElementsByTagName("stop"),v(F[F.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=n(g,10)+"px");var R=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[R]=g,i._.dirty=1,l.setAttribute(d,g)}}S(i,a),l.style.visibility=f},C=1.2,S=function(i,a){if("text"==i.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=i.attrs,o=i.node,l=o.firstChild?n(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var h=r(a.text).split("\n"),u=[],f,p=0,d=h.length;p<d;p++)f=v("tspan"),p&&v(f,{dy:l*C,x:s.x}),f.appendChild(t._g.doc.createTextNode(h[p])),o.appendChild(f),u[p]=f}else for(u=o.getElementsByTagName("tspan"),p=0,d=u.length;p<d;p++)p?v(u[p],{dy:l*C,x:s.x}):v(u[0],{dy:0});v(o,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),x=s.y-(g.y+g.height/2);x&&t.is(x,"finite")&&v(u[0],{dy:x})}},A=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},T=function(e,r){function i(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}var n=0,a=0;this[0]=this.node=e,e.raphael=!0,this.id=i(),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},E=t.el;T.prototype=E,E.constructor=T,t._engine.path=function(t,e){var r=v("path");e.canvas&&e.canvas.appendChild(r);var i=new T(r,e);return i.type="path",B(i,{fill:"none",stroke:"#000",path:t}),i},E.rotate=function(t,e,n){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},E.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3])),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this},E.translate=function(t,e){return this.removed?this:(t=r(t).split(h),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},E.transform=function(r){var i=this._;if(null==r)return i.transform;if(t._extractTransform(this,r),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&v(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var n=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var e=A(this.node);if(!this.removed&&e.parentNode){var r=this.paper;r.__set__&&r.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),t._tear(this,r),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e=!1,r;this.paper.canvas.parentElement?r=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(r=this.paper.canvas.parentNode.style),r&&"none"==r.display&&(e=!0,r.display="");var i={};try{i=this.node.getBBox()}catch(n){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},e&&(r.display="none")}return t&&this.hide(),i},E.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var s=r.split(h),o={},l=0,c=s.length;l<c;l++)r=s[l],r in this.attrs?o[r]=this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?o[r]=this.paper.customAttributes[r].def:o[r]=t._availableAttrs[r];return c-1?o:o[s[0]]}if(null==i&&t.is(r,"array")){for(o={},l=0,c=r.length;l<c;l++)o[r[l]]=this.attr(r[l]);return o}if(null!=i){var f={};f[r]=i}else null!=r&&t.is(r,"object")&&(f=r);for(var p in f)u("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[e](g)&&(f[g]=d[g])}return B(this,f),this},E.toFront=function(){if(this.removed)return this;var e=A(this.node);e.parentNode.appendChild(e);var r=this.paper;return r.top!=this&&t._tofront(this,r),this},E.toBack=function(){if(this.removed)return this;var e=A(this.node),r=e.parentNode;r.insertBefore(e,r.firstChild),t._toback(this,this.paper);var i=this.paper;return this},E.insertAfter=function(e){if(this.removed||!e)return this;var r=A(this.node),i=A(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r),t._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var r=A(this.node),i=A(e.node||e[0].node);return i.parentNode.insertBefore(r,i),t._insertbefore(this,e,this.paper),this},E.blur=function(e){var r=this;if(0!==+e){var i=v("filter"),n=v("feGaussianBlur");r.attrs.blur=e,i.id=t.createUUID(),v(n,{stdDeviation:+e||1.5}),i.appendChild(n),r.paper.defs.appendChild(i),r._blur=i,v(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},t._engine.circle=function(t,e,r,i){var n=v("circle");t.canvas&&t.canvas.appendChild(n);var a=new T(n,t);return a.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},a.type="circle",v(n,a.attrs),a},t._engine.rect=function(t,e,r,i,n,a){var s=v("rect");t.canvas&&t.canvas.appendChild(s);var o=new T(s,t);return o.attrs={x:e,y:r,width:i,height:n,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",v(s,o.attrs),o},t._engine.ellipse=function(t,e,r,i,n){var a=v("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new T(a,t);return s.attrs={cx:e,cy:r,rx:i,ry:n,fill:"none",stroke:"#000"},s.type="ellipse",v(a,s.attrs),s},t._engine.image=function(t,e,r,i,n,a){var s=v("image");v(s,{x:r,y:i,width:n,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new T(s,t);return o.attrs={x:r,y:i,width:n,height:a,src:e},o.type="image",o},t._engine.text=function(e,r,i,n){var a=v("text");e.canvas&&e.canvas.appendChild(a);var s=new T(a,e);return s.attrs={x:r,y:i,"text-anchor":"middle",text:n,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",B(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e&&e.container,i=e.x,n=e.y,a=e.width,s=e.height;if(!r)throw new Error("SVG container not found.");var o=v("svg"),l="overflow:hidden;",h;return i=i||0,n=n||0,a=a||512,s=s||342,v(o,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==r?(o.style.cssText=l+"position:absolute;left:"+i+"px;top:"+n+"px",t._g.doc.body.appendChild(o),h=1):(o.style.cssText=l+"position:relative",r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),r=new t._Paper,r.width=a,r.height=s,r.canvas=o,r.clear(),r._left=r._top=0,h&&(r.renderfix=function(){}),r.renderfix(),r},t._engine.setViewBox=function(t,e,r,i,n){u("raphael.setViewBox",this,this._viewBox,[t,e,r,i,n]);var a=this.getSize(),o=s(r/a.width,i/a.height),l=this.top,h=n?"xMidYMid meet":"xMinYMin",c,p;for(null==t?(this._vbSize&&(o=1),delete this._vbSize,c="0 0 "+this.width+f+this.height):(this._vbSize=o,c=t+f+e+f+r+f+i),v(this.canvas,{viewBox:c,preserveAspectRatio:h});o&&l;)p="stroke-width"in l.attrs?l.attrs["stroke-width"]:1,l.attr({"stroke-width":p}),l._.dirty=1,l._.dirtyT=1,l=l.prev;return this._viewBox=[t,e,r,i,!!n],this},t.prototype.renderfix=function(){var t=this.canvas,e=t.style,r;try{r=t.getScreenCTM()||t.createSVGMatrix()}catch(i){r=t.createSVGMatrix()}var n=-r.e%1,a=-r.f%1;(n||a)&&(n&&(this._left=(this._left+n)%1,e.left=this._left+"px"),a&&(this._top=(this._top+a)%1,e.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=v("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var M=t.st;for(var N in E)E[e](N)&&!M[e](N)&&(M[N]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(N))}}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,r){var i,n;i=[r(1)],n=function(t){if(!t||t.vml){var e="hasOwnProperty",r=String,i=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h="fill",u=/[, ]+/,c=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},v=/([clmz]),?([^clmz]*)/gi,x=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,_={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var i=/[ahqstv]/gi,n=t._pathToAbsolute;if(r(e).match(i)&&(n=t._path2curve),i=/[clmz]/g,n==t._pathToAbsolute&&!r(e).match(i)){var s=r(e).replace(v,function(t,e,r){var i=[],n="m"==e.toLowerCase(),s=g[e];return r.replace(y,function(t){n&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(a(t*b))}),s+i});return s}var o=n(e),l,h;s=[];for(var u=0,c=o.length;u<c;u++){l=o[u],h=o[u][0].toLowerCase(),"z"==h&&(h="x");for(var f=1,x=l.length;f<x;f++)h+=a(l[f]*b)+(f!=x-1?",":d);s.push(h)}return s.join(p)},B=function(e,r,i){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(r,i),dy:n.y(r,i)}},C=function(t,e,r,i,n,a){var s=t._,o=t.matrix,u=s.fillpos,c=t.node,f=c.style,d=1,g="",v,x=b/e,y=b/r;if(f.visibility="hidden",e&&r){if(c.coordsize=l(x)+p+l(y),f.rotation=a*(e*r<0?-1:1),a){var m=B(a,i,n);i=m.dx,n=m.dy}if(e<0&&(g+="x"),r<0&&(g+=" y")&&(d=-1),f.flip=g,c.coordorigin=i*-x+p+n*-y,u||s.fillsize){var _=c.getElementsByTagName(h);_=_&&_[0],c.removeChild(_),u&&(m=B(a,o.x(u[0],u[1]),o.y(u[0],u[1])),_.position=m.dx*d+p+m.dy*d),s.fillsize&&(_.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(r)),c.appendChild(_)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var S=function(t,e,i){for(var n=r(e).toLowerCase().split("-"),a=i?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}var u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},A=function(n,l){n.attrs=n.attrs||{};var c=n.node,f=n.attrs,g=c.style,v,x=_[n.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),y=w[n.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),m=n;for(var B in l)l[e](B)&&(f[B]=l[B]);if(x&&(f.path=t._getPath[n.type](n),n._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||x)&&(c.path=k(~r(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),n._.dirty=1,"image"==n.type&&(n._.fillpos=[f.x,f.y],n._.fillsize=[f.width,f.height],C(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),y){var A=+f.cx,E=+f.cy,M=+f.rx||+f.r||0,L=+f.ry||+f.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((A-M)*b),a((E-L)*b),a((A+M)*b),a((E+L)*b),a(A*b)),n._.dirty=1}if("clip-rect"in l){var z=r(l["clip-rect"]).split(u);if(4==z.length){z[2]=+z[2]+ +z[0],z[3]=+z[3]+ +z[1];var P=c.clipRect||t._g.doc.createElement("div"),F=P.style;F.clip=t.format("rect({1}px {2}px {3}px {0}px)",z),c.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=n.paper.width+"px",F.height=n.paper.height+"px",c.parentNode.insertBefore(P,c),P.appendChild(c),c.clipRect=P)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(n.textpath){var R=n.textpath.style;l.font&&(R.font=l.font),l["font-family"]&&(R.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(R.fontSize=l["font-size"]),l["font-weight"]&&(R.fontWeight=l["font-weight"]),l["font-style"]&&(R.fontStyle=l["font-style"])}if("arrow-start"in l&&S(m,l["arrow-start"]),"arrow-end"in l&&S(m,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var j=c.getElementsByTagName(h),I=!1;if(j=j&&j[0],!j&&(I=j=N(h)),"image"==n.type&&l.src&&(j.src=l.src),l.fill&&(j.on=!0),null!=j.on&&"none"!=l.fill&&null!==l.fill||(j.on=!1),j.on&&l.fill){var q=r(l.fill).match(t._ISURL);if(q){j.parentNode==c&&c.removeChild(j),j.rotate=!0,j.src=q[1],j.type="tile";var D=n.getBBox(1);j.position=D.x+p+D.y,n._.fillpos=[D.x,D.y],t._preload(q[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else j.color=t.getRGB(l.fill).hex,j.src=d,j.type="solid",t.getRGB(l.fill).error&&(m.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&T(m,l.fill,j)&&(f.fill="none",f.gradient=l.fill,j.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var V=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);V=o(s(V,0),1),j.opacity=V,j.src&&(j.color="none")}c.appendChild(j);var O=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],Y=!1;!O&&(Y=O=N("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(O.on=!0),("none"==l.stroke||null===l.stroke||null==O.on||0==l.stroke||0==l["stroke-width"])&&(O.on=!1);

var W=t.getRGB(l.stroke);O.on&&l.stroke&&(O.color=W.hex),V=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+W.o+1||2)-1);var G=.75*(i(l["stroke-width"])||1);if(V=o(s(V,0),1),null==l["stroke-width"]&&(G=f["stroke-width"]),l["stroke-width"]&&(O.weight=G),G&&G<1&&(V*=G)&&(O.weight=1),O.opacity=V,l["stroke-linejoin"]&&(O.joinstyle=l["stroke-linejoin"]||"miter"),O.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(O.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var H={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};O.dashstyle=H[e](l["stroke-dasharray"])?H[l["stroke-dasharray"]]:d}Y&&c.appendChild(O)}if("text"==m.type){m.paper.canvas.style.display=d;var X=m.paper.span,U=100,$=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=X.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),$=i(f["font-size"]||$&&$[0])||10,g.fontSize=$*U+"px",m.textpath.string&&(X.innerHTML=r(m.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Z=X.getBoundingClientRect();m.W=f.w=(Z.right-Z.left)/U,m.H=f.h=(Z.bottom-Z.top)/U,m.X=f.x,m.Y=f.y+m.H/2,("x"in l||"y"in l)&&(m.path.v=t.format("m{0},{1}l{2},{1}",a(f.x*b),a(f.y*b),a(f.x*b)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,K=Q.length;J<K;J++)if(Q[J]in l){m._.dirty=1;break}switch(f["text-anchor"]){case"start":m.textpath.style["v-text-align"]="left",m.bbx=m.W/2;break;case"end":m.textpath.style["v-text-align"]="right",m.bbx=-m.W/2;break;default:m.textpath.style["v-text-align"]="center",m.bbx=0}m.textpath.style["v-text-kern"]=!0}},T=function(e,a,s){e.attrs=e.attrs||{};var o=e.attrs,l=Math.pow,h,u,c="linear",f=".5 .5";if(e.attrs.gradient=a,a=r(a).replace(t._radial_gradient,function(t,e,r){return c="radial",e&&r&&(e=i(e),r=i(r),l(e-.5,2)+l(r-.5,2)>.25&&(r=n.sqrt(.25-l(e-.5,2))*(2*(r>.5)-1)+.5),f=e+p+r),d}),a=a.split(/\s*\-\s*/),"linear"==c){var g=a.shift();if(g=-i(g),isNaN(g))return null}var v=t._parseDots(a);if(!v)return null;if(e=e.shape||e.node,v.length){e.removeChild(s),s.on=!0,s.method="none",s.color=v[0].color,s.color2=v[v.length-1].color;for(var x=[],y=0,m=v.length;y<m;y++)v[y].offset&&x.push(v[y].offset+p+v[y].color);s.colors=x.length?x.join():"0% "+s.color,"radial"==c?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=f,s.angle=0):(s.type="gradient",s.angle=(270-g)%360),e.appendChild(s)}return 1},E=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},M=t.el;E.prototype=M,M.constructor=E,M.transform=function(e){if(null==e)return this._.transform;var i=this.paper._viewBoxShift,n=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:d,a;i&&(a=e=r(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,n+e);var s=this.matrix.clone(),o=this.skew,l=this.node,h,u=~r(this.attrs.fill).indexOf("-"),c=!r(this.attrs.fill).indexOf("url(");if(s.translate(1,1),c||u||"image"==this.type)if(o.matrix="1 0 0 1",o.offset="0 0",h=s.split(),u&&h.noRotation||!h.isSimple){l.style.filter=s.toFilter();var f=this.getBBox(),g=this.getBBox(1),v=f.x-g.x,x=f.y-g.y;l.coordorigin=v*-b+p+x*-b,C(this,1,1,v,x,0)}else l.style.filter=d,C(this,h.scalex,h.scaley,h.dx,h.dy,h.rotate);else l.style.filter=d,o.matrix=r(s),o.offset=s.offset();return null!==a&&(this._.transform=a,t._extractTransform(this,a)),this},M.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},M.translate=function(t,e){return this.removed?this:(t=r(t).split(u),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},M.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this._.dirtyT=1,this},M.hide=function(){return!this.removed&&(this.node.style.display="none"),this},M.show=function(){return!this.removed&&(this.node.style.display=d),this},M.auxGetBBox=t.el.getBBox,M.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},r=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=r,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=r,e.width=t.width*r,e.height=t.height*r,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},M._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},M.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},M.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if(r==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=r.split(u),o={},l=0,f=s.length;l<f;l++)r=s[l],r in this.attrs?o[r]=this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?o[r]=this.paper.customAttributes[r].def:o[r]=t._availableAttrs[r];return f-1?o:o[s[0]]}if(this.attrs&&null==i&&t.is(r,"array")){for(o={},l=0,f=r.length;l<f;l++)o[r[l]]=this.attr(r[l]);return o}var p;null!=i&&(p={},p[r]=i),null==i&&t.is(r,"object")&&(p=r);for(var d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var v in g)g[e](v)&&(p[v]=g[v])}p.text&&"text"==this.type&&(this.textpath.string=p.text),A(this,p)}return this},M.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},M.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},M.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},M.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},M.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;return i=i.replace(x,d),0!==+e?(this.attrs.blur=e,r.filter=i+p+f+".Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var r=N("shape");r.style.cssText=m,r.coordsize=b+p+b,r.coordorigin=e.coordorigin;var i=new E(r,e),n={fill:"none",stroke:"#000"};t&&(n.path=t),i.type="path",i.path=[],i.Path=d,A(i,n),e.canvas&&e.canvas.appendChild(r);var a=N("skew");return a.on=!0,r.appendChild(a),i.skew=a,i.transform(d),i},t._engine.rect=function(e,r,i,n,a,s){var o=t._rectPath(r,i,n,a,s),l=e.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,r,i,n){var a=t.path(),s=a.attrs;return a.X=e-i,a.Y=r-n,a.W=2*i,a.H=2*n,a.type="ellipse",A(a,{cx:e,cy:r,rx:i,ry:n}),a},t._engine.circle=function(t,e,r,i){var n=t.path(),a=n.attrs;return n.X=e-i,n.Y=r-i,n.W=n.H=2*i,n.type="circle",A(n,{cx:e,cy:r,r:i}),n},t._engine.image=function(e,r,i,n,a,s){var o=t._rectPath(i,n,a,s),l=e.path(o).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName(h)[0];return u.src=r,l.X=u.x=i,l.Y=u.y=n,l.W=u.width=a,l.H=u.height=s,u.path=o,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=r,f.type="tile",l._.fillpos=[i,n],l._.fillsize=[a,s],c.appendChild(f),C(l,1,1,0,0,0),l},t._engine.text=function(e,i,n,s){var o=N("shape"),l=N("path"),h=N("textpath");i=i||0,n=n||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(i*b),a(n*b),a(i*b)+1),l.textpathok=!0,h.string=r(s),h.on=!0,o.style.cssText=m,o.coordsize=b+p+b,o.coordorigin="0 0";var u=new E(o,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=r(s),u.attrs.x=i,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,A(u,c),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var f=N("skew");return f.on=!0,o.appendChild(f),u.skew=f,u.transform(d),u},t._engine.setSize=function(e,r){var i=this.canvas.style;return this.width=e,this.height=r,e==+e&&(e+="px"),r==+r&&(r+="px"),i.width=e,i.height=r,i.clip="rect(0 "+e+" "+r+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,r,i,n,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,r,i,n,a]);var s=this.getSize(),o=s.width,l=s.height,h,u;return a&&(h=l/n,u=o/i,i*h<o&&(e-=(o-i*h)/2/h),n*u<l&&(r-=(l-n*u)/2/u)),this._viewBox=[e,r,i,n,!!a],this._viewBoxShift={dx:-e,dy:-r,scale:s},this.forEach(function(t){t.transform("...")}),this};var N;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),N=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(r){N=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e.container,i=e.height,n,a=e.width,s=e.x,o=e.y;if(!r)throw new Error("VML container not found.");var l=new t._Paper,h=l.canvas=t._g.doc.createElement("div"),u=h.style;return s=s||0,o=o||0,a=a||512,i=i||342,l.width=a,l.height=i,a==+a&&(a+="px"),i==+i&&(i+="px"),l.coordsize=1e3*b+p+1e3*b,l.coordorigin="0 0",l.span=t._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",h.appendChild(l.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,i),1==r?(t._g.doc.body.appendChild(h),u.left=s+"px",u.top=o+"px",u.position="absolute"):r.firstChild?r.insertBefore(h,r.firstChild):r.appendChild(h),l.renderfix=function(){},l},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var L=t.st;for(var z in M)M[e](z)&&!L[e](z)&&(L[z]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(z))}}.apply(e,i),!(void 0!==n&&(t.exports=n))}])})},{}],36:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}]},{},[1]);